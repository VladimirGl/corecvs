<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>DeepView: Scene3D Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">DeepView
   &#160;<span id="projectnumber">0.02</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">Scene3D Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="Scene3D" -->
<p>Part of the hierarchically displayable scene.  
 <a href="classScene3D.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="scene3D_8h_source.html">scene3D.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Scene3D:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classScene3D__inherit__graph.svg" width="100%" height="186"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for Scene3D:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classScene3D__coll__graph.svg" width="368" height="296"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classScene3D-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classScene3D.html#a8c62a5e447d637c4aeb61156a8ed5ac2">SceneType</a> { <a class="el" href="classScene3D.html#a8c62a5e447d637c4aeb61156a8ed5ac2a151f79e44f969eaa6bc725ecc02a0157">SCENE_3D</a>, 
<a class="el" href="classScene3D.html#a8c62a5e447d637c4aeb61156a8ed5ac2a8208ba42362b06e90f69a07f40b40976">COORDINATE_FRAME</a>
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classScene3D.html#ab8989a0bb9641197745454aa1594c38e">commonSetup</a> (<a class="el" href="classCloudViewDialog.html">CloudViewDialog</a> *dialog, const <a class="el" href="classDraw3dParameters.html">Draw3dParameters</a> *parameters)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classScene3D.html#afd0b688bc44bb7a6a32c2c3db8898df3">commonTierdown</a> (<a class="el" href="classCloudViewDialog.html">CloudViewDialog</a> *dialog, const <a class="el" href="classDraw3dParameters.html">Draw3dParameters</a> *parameters)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classScene3D.html#a22d136486290967fcfed7b7d325e5393">draw</a> (<a class="el" href="classCloudViewDialog.html">CloudViewDialog</a> *dialog)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classScene3D.html#a60b7123a0f0f4fb8bb21315ba2d32896">prepareMesh</a> (<a class="el" href="classCloudViewDialog.html">CloudViewDialog</a> *dialog)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classScene3D.html#a35d909ba1f8de9de658d69b24a64ca5c">drawMyself</a> (<a class="el" href="classCloudViewDialog.html">CloudViewDialog</a> *dialog)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classScene3D.html#a28b94b99c4a81b3873086a37f801e88d">dumpPCD</a> (ostream &amp;out)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classScene3D.html#aca922aaf1e724afc9f25229ef3ae14a2">dumpPLY</a> (ostream &amp;out)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classScene3D.html#a1e7c89a37780624c890d0386686fcaf5">setParameters</a> (void *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <br class="typebreak"/>
<a class="el" href="classParametersControlWidgetBase.html">ParametersControlWidgetBase</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classScene3D.html#aabae8b5c42bde2300319604910a9f16b">getContolWidget</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classScene3D.html#a78d7ac1008e2aedf1fd141bce078f6eb">isComplexObject</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classScene3D.html#a85f1e11d05c7815dbc17267cce862073">Scene3D</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classScene3D.html#a19b791c4cf70a18a13315fb4917480e6">~Scene3D</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classScene3D.html#a3da537195f5d7d936edae5bbb45ab98c">name</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classScene3D.html">Scene3D</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classScene3D.html#af379526578a5a7ba853664ab158a2efa">parent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classScene3D.html#a8c62a5e447d637c4aeb61156a8ed5ac2">SceneType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classScene3D.html#a1dfce1c50a73147c09d4afacdd9ed428">type</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1Matrix44.html">Matrix44</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classScene3D.html#a1f5423500589f1a02a6c5d73f9e0fcb1">transform</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classScene3D.html#a0dfb2f167fec868ddfe82325750f9371">visible</a></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classScene3D.html#adf94b2a20dacc9c9be5e814bf0d57688">initDecalState</a> (<a class="el" href="classCloudViewDialog.html">CloudViewDialog</a> *dialog, const <a class="el" href="classDraw3dParameters.html">Draw3dParameters</a> *parameters, <a class="el" href="classcorecvs_1_1Matrix44.html">Matrix44</a> &amp;projector)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Part of the hierarchically displayable scene. </p>

<p>Definition at line <a class="el" href="scene3D_8h_source.html#l00025">25</a> of file <a class="el" href="scene3D_8h_source.html">scene3D.h</a>.</p>
</div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="a8c62a5e447d637c4aeb61156a8ed5ac2"></a><!-- doxytag: member="Scene3D::SceneType" ref="a8c62a5e447d637c4aeb61156a8ed5ac2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classScene3D.html#a8c62a5e447d637c4aeb61156a8ed5ac2">Scene3D::SceneType</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a8c62a5e447d637c4aeb61156a8ed5ac2a151f79e44f969eaa6bc725ecc02a0157"></a><!-- doxytag: member="SCENE_3D" ref="a8c62a5e447d637c4aeb61156a8ed5ac2a151f79e44f969eaa6bc725ecc02a0157" args="" -->SCENE_3D</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a8c62a5e447d637c4aeb61156a8ed5ac2a8208ba42362b06e90f69a07f40b40976"></a><!-- doxytag: member="COORDINATE_FRAME" ref="a8c62a5e447d637c4aeb61156a8ed5ac2a8208ba42362b06e90f69a07f40b40976" args="" -->COORDINATE_FRAME</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="scene3D_8h_source.html#l00031">31</a> of file <a class="el" href="scene3D_8h_source.html">scene3D.h</a>.</p>
<div class="fragment"><pre class="fragment">                   {
        <a class="code" href="classScene3D.html#a8c62a5e447d637c4aeb61156a8ed5ac2a151f79e44f969eaa6bc725ecc02a0157">SCENE_3D</a>,
        <a class="code" href="classScene3D.html#a8c62a5e447d637c4aeb61156a8ed5ac2a8208ba42362b06e90f69a07f40b40976">COORDINATE_FRAME</a>
    };
</pre></div>
</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a85f1e11d05c7815dbc17267cce862073"></a><!-- doxytag: member="Scene3D::Scene3D" ref="a85f1e11d05c7815dbc17267cce862073" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classScene3D.html#a85f1e11d05c7815dbc17267cce862073">Scene3D::Scene3D</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="scene3D_8h_source.html#l00069">69</a> of file <a class="el" href="scene3D_8h_source.html">scene3D.h</a>.</p>
<div class="fragment"><pre class="fragment">              :
        <a class="code" href="classScene3D.html#af379526578a5a7ba853664ab158a2efa">parent</a>(NULL),
        <a class="code" href="classScene3D.html#a1dfce1c50a73147c09d4afacdd9ed428">type</a>(<a class="code" href="classScene3D.html#a8c62a5e447d637c4aeb61156a8ed5ac2a151f79e44f969eaa6bc725ecc02a0157">SCENE_3D</a>),
        <a class="code" href="classScene3D.html#a1f5423500589f1a02a6c5d73f9e0fcb1">transform</a>(1.0),
        <a class="code" href="classScene3D.html#a0dfb2f167fec868ddfe82325750f9371">visible</a>(<span class="keyword">true</span>)
    {}
</pre></div>
</div>
</div>
<a class="anchor" id="a19b791c4cf70a18a13315fb4917480e6"></a><!-- doxytag: member="Scene3D::~Scene3D" ref="a19b791c4cf70a18a13315fb4917480e6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classScene3D.html#a19b791c4cf70a18a13315fb4917480e6">Scene3D::~Scene3D</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="scene3D_8cpp_source.html#l00015">15</a> of file <a class="el" href="scene3D_8cpp_source.html">scene3D.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ab8989a0bb9641197745454aa1594c38e"></a><!-- doxytag: member="Scene3D::commonSetup" ref="ab8989a0bb9641197745454aa1594c38e" args="(CloudViewDialog *dialog, const Draw3dParameters *parameters)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classScene3D.html#ab8989a0bb9641197745454aa1594c38e">Scene3D::commonSetup</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCloudViewDialog.html">CloudViewDialog</a> *&#160;</td>
          <td class="paramname"><em>dialog</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classDraw3dParameters.html">Draw3dParameters</a> *&#160;</td>
          <td class="paramname"><em>parameters</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="scene3D_8cpp_source.html#l00102">102</a> of file <a class="el" href="scene3D_8cpp_source.html">scene3D.cpp</a>.</p>

<p>References <a class="el" href="matrix44_8h_source.html#l00208">corecvs::Matrix44::a()</a>, <a class="el" href="global_8h_source.html#l00027">CORE_UNUSED</a>, <a class="el" href="draw3dParameters_8h_source.html#l00170">Draw3dParameters::decalLeftCam()</a>, <a class="el" href="draw3dParameters_8h_source.html#l00180">Draw3dParameters::decalRightCam()</a>, <a class="el" href="triangulator_8h_source.html#l00039">corecvs::RectificationResult::decomposition</a>, <a class="el" href="draw3dTextureGen_8h_source.html#l00036">Draw3dTextureGen::FORCE_TEXTURE</a>, <a class="el" href="triangulator_8h_source.html#l00081">corecvs::RectificationResult::getCameraShift()</a>, <a class="el" href="cameraParameters_8cpp_source.html#l00075">corecvs::CameraIntrinsics::getVFov()</a>, <a class="el" href="scene3D_8cpp_source.html#l00035">initDecalState()</a>, <a class="el" href="matrix44_8cpp_source.html#l00214">corecvs::Matrix44::inverted()</a>, <a class="el" href="frames_8h_source.html#l00022">Frames::LEFT_FRAME</a>, <a class="el" href="triangulator_8h_source.html#l00036">corecvs::RectificationResult::leftCamera</a>, <a class="el" href="cloudViewDialog_8h_source.html#l00112">CloudViewDialog::mRectificationResult</a>, <a class="el" href="cameraParameters_8h_source.html#l00030">corecvs::CameraIntrinsics::resolution</a>, <a class="el" href="frames_8h_source.html#l00024">Frames::RIGHT_FRAME</a>, <a class="el" href="essentialMatrix_8h_source.html#l00032">corecvs::EssentialDecomposition::rotation</a>, <a class="el" href="cloudViewDialog_8cpp_source.html#l00681">CloudViewDialog::texture()</a>, <a class="el" href="draw3dParameters_8h_source.html#l00150">Draw3dParameters::textureCorrodinates()</a>, <a class="el" href="draw3dParameters_8h_source.html#l00160">Draw3dParameters::textureScale()</a>, <a class="el" href="vector2d_8h_source.html#l00050">corecvs::Vector2d&lt; ElementType &gt;::x()</a>, and <a class="el" href="vector2d_8h_source.html#l00055">corecvs::Vector2d&lt; ElementType &gt;::y()</a>.</p>

<p>Referenced by <a class="el" href="mesh3DScene_8cpp_source.html#l00020">Mesh3DScene::drawMyself()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (parameters-&gt;<a class="code" href="classDraw3dParameters.html#ad3cd20efc1c9bbd1ea6f9ba3ed73c9dc">textureCorrodinates</a>() == <a class="code" href="namespaceDraw3dTextureGen.html#a388b11ebb7e0fab053e18d863945a268a41f8cbc92a53ff952321c9ad4798ecfb" title="Force Texture Force Texture.">Draw3dTextureGen::FORCE_TEXTURE</a>) {
        <a class="code" href="classcorecvs_1_1Matrix44.html" title="This class is mostly for representing Projectrive Transformations in 3D.">Matrix44</a> textureMatrix = Matrix44::Scale(parameters-&gt;<a class="code" href="classDraw3dParameters.html#acb49e53484211e3a8d0379e4e31d9907">textureScale</a>());
        glEnable(GL_TEXTURE_GEN_S);
        glEnable(GL_TEXTURE_GEN_T);

        GLint mode = GL_OBJECT_LINEAR;
        glTexGeni (GL_S, GL_TEXTURE_GEN_MODE, mode);
        glTexGendv(GL_S, GL_OBJECT_PLANE, &amp;textureMatrix.<a class="code" href="classcorecvs_1_1Matrix44.html#ad53e6a4c5f30ed13b1bd0946f0e66a06" title="Geting Matrix element functions block.">a</a>(0,0));

        glTexGeni (GL_T, GL_TEXTURE_GEN_MODE, mode);
        glTexGendv(GL_T, GL_OBJECT_PLANE, &amp;textureMatrix.<a class="code" href="classcorecvs_1_1Matrix44.html#ad53e6a4c5f30ed13b1bd0946f0e66a06" title="Geting Matrix element functions block.">a</a>(1,0));
    }


    <span class="keywordflow">if</span> (parameters-&gt;<a class="code" href="classDraw3dParameters.html#ad7d221b0caa355d14c2b5c2e9bcaa0b8">decalRightCam</a>()) {
<span class="preprocessor">#ifdef WITH_OPENGLEXT</span>
<span class="preprocessor"></span>        <a class="code" href="classcorecvs_1_1CameraIntrinsics.html" title="This class describes the parameters of the ideal pin-hole camera TODO: Should be a child of a DeformM...">CameraIntrinsics</a> *intrinsics = &amp;(dialog-&gt;<a class="code" href="classCloudViewDialog.html#a2821b7f673d5fe921fd1612674edd1c7">mRectificationResult</a>-&gt;rightCamera);
        <span class="keywordtype">double</span> fovR = intrinsics-&gt;<a class="code" href="classcorecvs_1_1CameraIntrinsics.html#a9e93ad550ca6d2e4a54e33b65d9214fe">getVFov</a>();
        <span class="keywordtype">double</span> aspect = intrinsics-&gt;<a class="code" href="classcorecvs_1_1CameraIntrinsics.html#a59361b073448b4674ab7b36cb4ff381a" title="Imager resolution (in pixel)">resolution</a>.<a class="code" href="classcorecvs_1_1Vector2d.html#a944721c41f044c1388d9dc42ca899bce">x</a>() / intrinsics-&gt;<a class="code" href="classcorecvs_1_1CameraIntrinsics.html#a59361b073448b4674ab7b36cb4ff381a" title="Imager resolution (in pixel)">resolution</a>.<a class="code" href="classcorecvs_1_1Vector2d.html#ae1ea2ad4c0821001408bf963cffa8413">y</a>();
        <a class="code" href="classcorecvs_1_1Matrix44.html" title="This class is mostly for representing Projectrive Transformations in 3D.">Matrix44</a> projector = Matrix44::Frustum(fovR, aspect);

        glActiveTexture(GL_TEXTURE1);
            glEnable(GL_TEXTURE_2D);
            <span class="keywordflow">if</span> (dialog-&gt;<a class="code" href="classCloudViewDialog.html#ae52f7c98f9cb054e65312158dbd6641d">texture</a>(<a class="code" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687ab94257f21e21d3448cf9c67f6777450e">Frames::RIGHT_FRAME</a>) != (GLuint)-1) {
                glBindTexture(GL_TEXTURE_2D, dialog-&gt;<a class="code" href="classCloudViewDialog.html#ae52f7c98f9cb054e65312158dbd6641d">texture</a>(<a class="code" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687ab94257f21e21d3448cf9c67f6777450e">Frames::RIGHT_FRAME</a>));
            } <span class="keywordflow">else</span> {
                qDebug() &lt;&lt; <span class="stringliteral">&quot;No texture for right camera&quot;</span>;
            }
            glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S    , GL_REPEAT);
            glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T    , GL_REPEAT);
            glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);
            glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);
            glTexEnvf ( GL_TEXTURE_ENV, GL_TEXTURE_ENV_MODE, GL_REPLACE );
            <a class="code" href="classScene3D.html#adf94b2a20dacc9c9be5e814bf0d57688">initDecalState</a>(dialog, parameters, projector);



        glActiveTexture(GL_TEXTURE0);
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>        <a class="code" href="global_8h.html#adb1733c69fb51756fd873526b17981df">CORE_UNUSED</a>(dialog);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>    }

    <span class="keywordflow">if</span> (parameters-&gt;<a class="code" href="classDraw3dParameters.html#afee5bbe4f89307b91fee544c03151fbd">decalLeftCam</a>()) {
<span class="preprocessor">#ifdef WITH_OPENGLEXT</span>
<span class="preprocessor"></span>        <a class="code" href="classcorecvs_1_1RectificationResult.html" title="This class contains all the output information about rectification process.">RectificationResult</a> *rectification = dialog-&gt;<a class="code" href="classCloudViewDialog.html#a2821b7f673d5fe921fd1612674edd1c7">mRectificationResult</a>.data();
        <a class="code" href="classcorecvs_1_1CameraIntrinsics.html" title="This class describes the parameters of the ideal pin-hole camera TODO: Should be a child of a DeformM...">CameraIntrinsics</a> *intrinsics = &amp;(rectification-&gt;<a class="code" href="classcorecvs_1_1RectificationResult.html#a7c091a656f5188a14244d6233516d77f">leftCamera</a>);
        <span class="keywordtype">double</span> fovL = intrinsics-&gt;<a class="code" href="classcorecvs_1_1CameraIntrinsics.html#a9e93ad550ca6d2e4a54e33b65d9214fe">getVFov</a>();
        <span class="keywordtype">double</span> aspect = intrinsics-&gt;<a class="code" href="classcorecvs_1_1CameraIntrinsics.html#a59361b073448b4674ab7b36cb4ff381a" title="Imager resolution (in pixel)">resolution</a>.<a class="code" href="classcorecvs_1_1Vector2d.html#a944721c41f044c1388d9dc42ca899bce">x</a>() / intrinsics-&gt;<a class="code" href="classcorecvs_1_1CameraIntrinsics.html#a59361b073448b4674ab7b36cb4ff381a" title="Imager resolution (in pixel)">resolution</a>.<a class="code" href="classcorecvs_1_1Vector2d.html#ae1ea2ad4c0821001408bf963cffa8413">y</a>();
        <a class="code" href="classcorecvs_1_1Matrix44.html" title="This class is mostly for representing Projectrive Transformations in 3D.">Matrix44</a> projector = Matrix44::Frustum(fovL, aspect);
        projector = projector * (<a class="code" href="classcorecvs_1_1Matrix44.html" title="This class is mostly for representing Projectrive Transformations in 3D.">Matrix44</a>(rectification-&gt;<a class="code" href="classcorecvs_1_1RectificationResult.html#a3d0a04f999e7ed6af63651597555dc9d">decomposition</a>.<a class="code" href="classcorecvs_1_1EssentialDecomposition.html#a605057493f733d18418e86cadcc8d209">rotation</a>) * Matrix44::Shift(rectification-&gt;<a class="code" href="classcorecvs_1_1RectificationResult.html#af847681d8a5b49e890a11d13e0e84690">getCameraShift</a>())).<a class="code" href="classcorecvs_1_1Matrix44.html#a1313510f453385518a9f2c7d7f97be74" title="Terribly ineffective.">inverted</a>();

        glActiveTexture(GL_TEXTURE2);
            glEnable(GL_TEXTURE_2D);

            <span class="keywordflow">if</span> (dialog-&gt;<a class="code" href="classCloudViewDialog.html#ae52f7c98f9cb054e65312158dbd6641d">texture</a>(<a class="code" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687a1f8407b4fac31a76b205229364c6051f">Frames::LEFT_FRAME</a>) != (GLuint)-1) {
                glBindTexture(GL_TEXTURE_2D, dialog-&gt;<a class="code" href="classCloudViewDialog.html#ae52f7c98f9cb054e65312158dbd6641d">texture</a>(<a class="code" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687a1f8407b4fac31a76b205229364c6051f">Frames::LEFT_FRAME</a>));
            } <span class="keywordflow">else</span> {
                qDebug() &lt;&lt; <span class="stringliteral">&quot;No texture for left camera&quot;</span>;
            }
            glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S    , GL_REPEAT);
            glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T    , GL_REPEAT);
            glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);
            glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);
            glTexEnvf ( GL_TEXTURE_ENV, GL_TEXTURE_ENV_MODE, GL_DECAL );
            <a class="code" href="classScene3D.html#adf94b2a20dacc9c9be5e814bf0d57688">initDecalState</a>(dialog, parameters, projector);

        <span class="keywordflow">if</span> (parameters-&gt;<a class="code" href="classDraw3dParameters.html#ad7d221b0caa355d14c2b5c2e9bcaa0b8">decalRightCam</a>()) {
            qDebug() &lt;&lt; <span class="stringliteral">&quot;Both cameras. Making a merge&quot;</span>;
            glTexEnvi(GL_TEXTURE_ENV, GL_TEXTURE_ENV_MODE, GL_COMBINE);
            glTexEnvi(GL_TEXTURE_ENV, GL_COMBINE_RGB, GL_INTERPOLATE);   <span class="comment">//Interpolate RGB with RGB</span>
            glTexEnvi(GL_TEXTURE_ENV, GL_SOURCE0_RGB, GL_PREVIOUS);
            glTexEnvi(GL_TEXTURE_ENV, GL_SOURCE1_RGB, GL_TEXTURE);
            <span class="comment">//GL_CONSTANT refers to the call we make with glTexEnvfv(GL_TEXTURE_ENV, GL_TEXTURE_ENV_COLOR, mycolor)</span>
            glTexEnvi(GL_TEXTURE_ENV, GL_SOURCE2_RGB, GL_CONSTANT);
            glTexEnvi(GL_TEXTURE_ENV, GL_OPERAND0_RGB, GL_SRC_COLOR);
            glTexEnvi(GL_TEXTURE_ENV, GL_OPERAND1_RGB, GL_SRC_COLOR);
            glTexEnvi(GL_TEXTURE_ENV, GL_OPERAND2_RGB, GL_SRC_COLOR);
            <span class="comment">//------------------------</span>
            glTexEnvi(GL_TEXTURE_ENV, GL_COMBINE_ALPHA, GL_INTERPOLATE);   <span class="comment">//Interpolate ALPHA with ALPHA</span>
            glTexEnvi(GL_TEXTURE_ENV, GL_SOURCE0_ALPHA, GL_PREVIOUS);
            glTexEnvi(GL_TEXTURE_ENV, GL_SOURCE1_ALPHA, GL_TEXTURE);
            <span class="comment">//GL_CONSTANT refers to the call we make with glTexEnvfv(GL_TEXTURE_ENV, GL_TEXTURE_ENV_COLOR, mycolor)</span>
            glTexEnvi(GL_TEXTURE_ENV, GL_SOURCE2_ALPHA, GL_CONSTANT);
            glTexEnvi(GL_TEXTURE_ENV, GL_OPERAND0_ALPHA, GL_SRC_ALPHA);
            glTexEnvi(GL_TEXTURE_ENV, GL_OPERAND1_ALPHA, GL_SRC_ALPHA);
            glTexEnvi(GL_TEXTURE_ENV, GL_OPERAND2_ALPHA, GL_SRC_ALPHA);
            <span class="comment">//------------------------</span>
            <span class="keywordtype">float</span> mycolor[4] = {0.5, 0.5, 0.5, 0.5};
            glTexEnvfv(GL_TEXTURE_ENV, GL_TEXTURE_ENV_COLOR, mycolor);

        }
        glActiveTexture(GL_TEXTURE0);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>    }

}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classScene3D_ab8989a0bb9641197745454aa1594c38e_cgraph.svg" width="100%" height="503"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="afd0b688bc44bb7a6a32c2c3db8898df3"></a><!-- doxytag: member="Scene3D::commonTierdown" ref="afd0b688bc44bb7a6a32c2c3db8898df3" args="(CloudViewDialog *dialog, const Draw3dParameters *parameters)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classScene3D.html#afd0b688bc44bb7a6a32c2c3db8898df3">Scene3D::commonTierdown</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCloudViewDialog.html">CloudViewDialog</a> *&#160;</td>
          <td class="paramname"><em>dialog</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classDraw3dParameters.html">Draw3dParameters</a> *&#160;</td>
          <td class="paramname"><em>parameters</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="scene3D_8cpp_source.html#l00202">202</a> of file <a class="el" href="scene3D_8cpp_source.html">scene3D.cpp</a>.</p>

<p>References <a class="el" href="draw3dParameters_8h_source.html#l00170">Draw3dParameters::decalLeftCam()</a>, <a class="el" href="draw3dParameters_8h_source.html#l00180">Draw3dParameters::decalRightCam()</a>, <a class="el" href="draw3dTextureGen_8h_source.html#l00036">Draw3dTextureGen::FORCE_TEXTURE</a>, and <a class="el" href="draw3dParameters_8h_source.html#l00150">Draw3dParameters::textureCorrodinates()</a>.</p>

<p>Referenced by <a class="el" href="mesh3DScene_8cpp_source.html#l00020">Mesh3DScene::drawMyself()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (parameters-&gt;<a class="code" href="classDraw3dParameters.html#ad3cd20efc1c9bbd1ea6f9ba3ed73c9dc">textureCorrodinates</a>() == <a class="code" href="namespaceDraw3dTextureGen.html#a388b11ebb7e0fab053e18d863945a268a41f8cbc92a53ff952321c9ad4798ecfb" title="Force Texture Force Texture.">Draw3dTextureGen::FORCE_TEXTURE</a>) {
        glDisable(GL_TEXTURE_GEN_S);
        glDisable(GL_TEXTURE_GEN_T);
    }

    <span class="keywordflow">if</span> (parameters-&gt;<a class="code" href="classDraw3dParameters.html#ad7d221b0caa355d14c2b5c2e9bcaa0b8">decalRightCam</a>()) {
<span class="preprocessor">#ifdef WITH_OPENGLEXT</span>
<span class="preprocessor"></span>        glActiveTexture(GL_TEXTURE1);
            glDisable(GL_TEXTURE_GEN_S);
            glDisable(GL_TEXTURE_GEN_T);
            glDisable(GL_TEXTURE_GEN_R);
            glDisable(GL_TEXTURE_GEN_Q);
            glDisable(GL_TEXTURE_2D);
        glActiveTexture(GL_TEXTURE0);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>    }

    <span class="keywordflow">if</span> (parameters-&gt;<a class="code" href="classDraw3dParameters.html#afee5bbe4f89307b91fee544c03151fbd">decalLeftCam</a>()) {
<span class="preprocessor">#ifdef WITH_OPENGLEXT</span>
<span class="preprocessor"></span>        glActiveTexture(GL_TEXTURE2);
            glDisable(GL_TEXTURE_GEN_S);
            glDisable(GL_TEXTURE_GEN_T);
            glDisable(GL_TEXTURE_GEN_R);
            glDisable(GL_TEXTURE_GEN_Q);
            glDisable(GL_TEXTURE_2D);
        glActiveTexture(GL_TEXTURE0);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>    }
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classScene3D_afd0b688bc44bb7a6a32c2c3db8898df3_cgraph.svg" width="542" height="147"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a22d136486290967fcfed7b7d325e5393"></a><!-- doxytag: member="Scene3D::draw" ref="a22d136486290967fcfed7b7d325e5393" args="(CloudViewDialog *dialog)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classScene3D.html#a22d136486290967fcfed7b7d325e5393">Scene3D::draw</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCloudViewDialog.html">CloudViewDialog</a> *&#160;</td>
          <td class="paramname"><em>dialog</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="scene3D_8cpp_source.html#l00019">19</a> of file <a class="el" href="scene3D_8cpp_source.html">scene3D.cpp</a>.</p>

<p>References <a class="el" href="scene3D_8cpp_source.html#l00241">drawMyself()</a>, <a class="el" href="openGLTools_8cpp_source.html#l00063">OpenGLTools::glMultMatrixMatrix44()</a>, <a class="el" href="scene3D_8h_source.html#l00041">transform</a>, and <a class="el" href="scene3D_8h_source.html#l00042">visible</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!<a class="code" href="classScene3D.html#a0dfb2f167fec868ddfe82325750f9371">visible</a>) {
<span class="comment">//        qDebug() &lt;&lt; name &lt;&lt; &quot;(&quot; &lt;&lt; ((void *)this) &lt;&lt; &quot;)&quot; &lt;&lt; &quot; is invisible&quot;;</span>
        <span class="keywordflow">return</span>;
    }
<span class="comment">//    qDebug() &lt;&lt; name &lt;&lt; &quot;(&quot; &lt;&lt; ((void *)this) &lt;&lt; &quot;)&quot; &lt;&lt; &quot; is drawn&quot;;</span>

    glMatrixMode(GL_MODELVIEW);
    glPushMatrix();
      <a class="code" href="classOpenGLTools.html#a990fb295ace9f68c82ab058add581835">OpenGLTools::glMultMatrixMatrix44</a>(<a class="code" href="classScene3D.html#a1f5423500589f1a02a6c5d73f9e0fcb1">transform</a>);
      this-&gt;<a class="code" href="classScene3D.html#a35d909ba1f8de9de658d69b24a64ca5c">drawMyself</a>(dialog);
    glPopMatrix();
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classScene3D_a22d136486290967fcfed7b7d325e5393_cgraph.svg" width="100%" height="130"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a35d909ba1f8de9de658d69b24a64ca5c"></a><!-- doxytag: member="Scene3D::drawMyself" ref="a35d909ba1f8de9de658d69b24a64ca5c" args="(CloudViewDialog *dialog)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classScene3D.html#a35d909ba1f8de9de658d69b24a64ca5c">Scene3D::drawMyself</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCloudViewDialog.html">CloudViewDialog</a> *&#160;</td>
          <td class="paramname"><em>dialog</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented in <a class="el" href="classStereoCameraScene.html#ae572ebf860025e592f7d3e37f30a3a41">StereoCameraScene</a>, <a class="el" href="classCameraScene.html#a3dbe810245686cc3ea25c6d5dbb75b7a">CameraScene</a>, <a class="el" href="classPlane3DScene.html#a37e9f9a7ff782c7250ae0c188f9013c1">Plane3DScene</a>, <a class="el" href="classGrid3DScene.html#ac76bb94b48fca38356656e80812fbf5c">Grid3DScene</a>, <a class="el" href="classMesh3DScene.html#ad66e1280c3076cad6e2d6408fa41962e">Mesh3DScene</a>, <a class="el" href="classScene3DMouse.html#a1dc1e1a819e488cfacd0ec6a14086777">Scene3DMouse</a>, and <a class="el" href="classCoordinateFrame.html#a52bef68b9ecd560b5c2f44136a22b56f">CoordinateFrame</a>.</p>

<p>Definition at line <a class="el" href="scene3D_8cpp_source.html#l00241">241</a> of file <a class="el" href="scene3D_8cpp_source.html">scene3D.cpp</a>.</p>

<p>Referenced by <a class="el" href="scene3D_8cpp_source.html#l00019">draw()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">//qDebug() &lt;&lt; &quot;Calling Scene3D::Scene3D::drawMyself() for&quot; &lt;&lt; name;</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="a28b94b99c4a81b3873086a37f801e88d"></a><!-- doxytag: member="Scene3D::dumpPCD" ref="a28b94b99c4a81b3873086a37f801e88d" args="(ostream &amp;out)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classScene3D.html#a28b94b99c4a81b3873086a37f801e88d">Scene3D::dumpPCD</a> </td>
          <td>(</td>
          <td class="paramtype">ostream &amp;&#160;</td>
          <td class="paramname"><em>out</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented in <a class="el" href="classMesh3DScene.html#a2e56485a46207b4bbe374e2d249afcb0">Mesh3DScene</a>, <a class="el" href="classScene3DMouse.html#a7dea6ae34b8abd8f4587d27fbd8f7bd2">Scene3DMouse</a>, and <a class="el" href="classCoordinateFrame.html#a24112707fcf61ccb054adfde26e3f178">CoordinateFrame</a>.</p>

<p>Definition at line <a class="el" href="scene3D_8cpp_source.html#l00246">246</a> of file <a class="el" href="scene3D_8cpp_source.html">scene3D.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{

}
</pre></div>
</div>
</div>
<a class="anchor" id="aca922aaf1e724afc9f25229ef3ae14a2"></a><!-- doxytag: member="Scene3D::dumpPLY" ref="aca922aaf1e724afc9f25229ef3ae14a2" args="(ostream &amp;out)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classScene3D.html#aca922aaf1e724afc9f25229ef3ae14a2">Scene3D::dumpPLY</a> </td>
          <td>(</td>
          <td class="paramtype">ostream &amp;&#160;</td>
          <td class="paramname"><em>out</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented in <a class="el" href="classMesh3DScene.html#aaca55a5aa99f339c858c26836a04ba40">Mesh3DScene</a>, <a class="el" href="classScene3DMouse.html#acf02323e2a2aafe18d23885d883b5313">Scene3DMouse</a>, and <a class="el" href="classCoordinateFrame.html#a3457b7cd11c6ba81797129aa35638284">CoordinateFrame</a>.</p>

<p>Definition at line <a class="el" href="scene3D_8cpp_source.html#l00251">251</a> of file <a class="el" href="scene3D_8cpp_source.html">scene3D.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{

}
</pre></div>
</div>
</div>
<a class="anchor" id="aabae8b5c42bde2300319604910a9f16b"></a><!-- doxytag: member="Scene3D::getContolWidget" ref="aabae8b5c42bde2300319604910a9f16b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classParametersControlWidgetBase.html">ParametersControlWidgetBase</a>* <a class="el" href="classScene3D.html#aabae8b5c42bde2300319604910a9f16b">Scene3D::getContolWidget</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented in <a class="el" href="classCameraScene.html#a9df7da0cba7bb13f10ca3efeda4ea3f5">CameraScene</a>, <a class="el" href="classMesh3DScene.html#a2849afe61ab9bc371db3f54c542d73a0">Mesh3DScene</a>, <a class="el" href="classCoordinateFrame.html#a8d1e9200d361167551dad292c18b4d08">CoordinateFrame</a>, and <a class="el" href="classScene3DMouse.html#a6e31203cf7cb0af6c2bd5a7746682ce5">Scene3DMouse</a>.</p>

<p>Definition at line <a class="el" href="scene3D_8h_source.html#l00058">58</a> of file <a class="el" href="scene3D_8h_source.html">scene3D.h</a>.</p>
<div class="fragment"><pre class="fragment">    {
<span class="comment">//        qDebug(&quot;Scene3D::getContolWidget() : Called&quot;);</span>
        <span class="keywordflow">return</span> NULL;
    };
</pre></div>
</div>
</div>
<a class="anchor" id="adf94b2a20dacc9c9be5e814bf0d57688"></a><!-- doxytag: member="Scene3D::initDecalState" ref="adf94b2a20dacc9c9be5e814bf0d57688" args="(CloudViewDialog *dialog, const Draw3dParameters *parameters, Matrix44 &amp;projector)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classScene3D.html#adf94b2a20dacc9c9be5e814bf0d57688">Scene3D::initDecalState</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCloudViewDialog.html">CloudViewDialog</a> *&#160;</td>
          <td class="paramname"><em>dialog</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classDraw3dParameters.html">Draw3dParameters</a> *&#160;</td>
          <td class="paramname"><em>parameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcorecvs_1_1Matrix44.html">Matrix44</a> &amp;&#160;</td>
          <td class="paramname"><em>projector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="scene3D_8cpp_source.html#l00035">35</a> of file <a class="el" href="scene3D_8cpp_source.html">scene3D.cpp</a>.</p>

<p>References <a class="el" href="matrix44_8h_source.html#l00208">corecvs::Matrix44::a()</a>, <a class="el" href="draw3dParameters_8h_source.html#l00165">Draw3dParameters::decalMatrixType()</a>, <a class="el" href="matrix44_8cpp_source.html#l00214">corecvs::Matrix44::inverted()</a>, <a class="el" href="cloudViewDialog_8h_source.html#l00121">CloudViewDialog::mCamera</a>, and <a class="el" href="matrix44_8cpp_source.html#l00162">corecvs::Matrix44::transposed()</a>.</p>

<p>Referenced by <a class="el" href="scene3D_8cpp_source.html#l00102">commonSetup()</a>.</p>
<div class="fragment"><pre class="fragment">{
    glEnable(GL_TEXTURE_GEN_S);
    glEnable(GL_TEXTURE_GEN_T);
    glEnable(GL_TEXTURE_GEN_R);
    glEnable(GL_TEXTURE_GEN_Q);

    qDebug() &lt;&lt; <span class="stringliteral">&quot;Decal Matrix type &quot;</span> &lt;&lt; parameters-&gt;<a class="code" href="classDraw3dParameters.html#af81a04a61abba3640d888e121e3c4f4c">decalMatrixType</a>();
    <span class="keywordtype">bool</span> eyeLinear =  (parameters-&gt;<a class="code" href="classDraw3dParameters.html#af81a04a61abba3640d888e121e3c4f4c">decalMatrixType</a>() % 10) &lt; 5;
    GLint decalMode = eyeLinear ? GL_EYE_LINEAR : GL_OBJECT_LINEAR;
    GLint planeMode = eyeLinear ? GL_EYE_PLANE  : GL_OBJECT_PLANE;

    glTexGeni (GL_S, GL_TEXTURE_GEN_MODE, decalMode);
    glTexGeni (GL_T, GL_TEXTURE_GEN_MODE, decalMode);
    glTexGeni (GL_R, GL_TEXTURE_GEN_MODE, decalMode);
    glTexGeni (GL_Q, GL_TEXTURE_GEN_MODE, decalMode);

    <a class="code" href="classcorecvs_1_1Matrix44.html" title="This class is mostly for representing Projectrive Transformations in 3D.">Matrix44</a> bias = <a class="code" href="classcorecvs_1_1Matrix44.html" title="This class is mostly for representing Projectrive Transformations in 3D.">Matrix44</a>(Matrix33::Scale3(0.5), <a class="code" href="namespacecorecvs.html#a8c6504d3d8b574bfb908b9fe5a7a3974">Vector3dd</a>(0.5, 0.5, 0.5));

    <span class="comment">/*double zNear = 0.5;</span>
<span class="comment">    double zFar  = 100.0;</span>
<span class="comment"></span>
<span class="comment">    double fovyRad = degToRad(45);</span>
<span class="comment">    double f = 1.0 / tan(fovyRad / 2);</span>
<span class="comment">    double zDepth = zNear - zFar;</span>
<span class="comment">    Matrix44 matrixProj (</span>
<span class="comment">        f / 1.0   , 0 ,             0          ,            0            ,</span>
<span class="comment">        0         ,-f ,             0          ,            0            ,</span>
<span class="comment">        0         , 0 , -(zFar + zNear) / zDepth, 2 *zFar * zNear / zDepth,</span>
<span class="comment">        0         , 0 ,             1          ,            0</span>
<span class="comment">    );*/</span>

    <a class="code" href="classcorecvs_1_1Matrix44.html" title="This class is mostly for representing Projectrive Transformations in 3D.">Matrix44</a> texGen(1.0);


    <span class="keywordflow">switch</span>( parameters-&gt;<a class="code" href="classDraw3dParameters.html#af81a04a61abba3640d888e121e3c4f4c">decalMatrixType</a>() % 5)
    {
        <span class="keywordflow">case</span> 0: texGen = <a class="code" href="classcorecvs_1_1Matrix44.html" title="This class is mostly for representing Projectrive Transformations in 3D.">Matrix44</a>(1.0);                           <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> 1: texGen = dialog-&gt;<a class="code" href="classCloudViewDialog.html#a1a22283a285b75f152eb484c60be5a43">mCamera</a>.<a class="code" href="classcorecvs_1_1Matrix44.html#a1313510f453385518a9f2c7d7f97be74" title="Terribly ineffective.">inverted</a>();              <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> 2: texGen = dialog-&gt;<a class="code" href="classCloudViewDialog.html#a1a22283a285b75f152eb484c60be5a43">mCamera</a>;                         <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> 3: texGen = dialog-&gt;<a class="code" href="classCloudViewDialog.html#a1a22283a285b75f152eb484c60be5a43">mCamera</a>.<a class="code" href="classcorecvs_1_1Matrix44.html#a1313510f453385518a9f2c7d7f97be74" title="Terribly ineffective.">inverted</a>().<a class="code" href="classcorecvs_1_1Matrix44.html#a2b2199727e0ea9264105937c9aca9a1f" title="Returning transposed matrix.">transposed</a>(); <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> 4: texGen = dialog-&gt;<a class="code" href="classCloudViewDialog.html#a1a22283a285b75f152eb484c60be5a43">mCamera</a>.<a class="code" href="classcorecvs_1_1Matrix44.html#a2b2199727e0ea9264105937c9aca9a1f" title="Returning transposed matrix.">transposed</a>();            <span class="keywordflow">break</span>;
    }

    <span class="keywordflow">if</span> (parameters-&gt;<a class="code" href="classDraw3dParameters.html#af81a04a61abba3640d888e121e3c4f4c">decalMatrixType</a>() &gt; 10)
    {
        texGen = bias * projector * texGen;
    }

    cout &lt;&lt; texGen &lt;&lt; endl;

    <span class="keywordflow">if</span> (eyeLinear) {
        glMatrixMode(GL_MODELVIEW);
        glPushMatrix();
        glLoadIdentity();
    }

    glTexGendv(GL_S, planeMode, &amp;texGen.a(0,0));
    glTexGendv(GL_T, planeMode, &amp;texGen.a(1,0));
    glTexGendv(GL_R, planeMode, &amp;texGen.a(2,0));
    glTexGendv(GL_Q, planeMode, &amp;texGen.a(3,0));

    <span class="keywordflow">if</span> (eyeLinear) {
        glPopMatrix();
    }
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classScene3D_adf94b2a20dacc9c9be5e814bf0d57688_cgraph.svg" width="100%" height="193"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a78d7ac1008e2aedf1fd141bce078f6eb"></a><!-- doxytag: member="Scene3D::isComplexObject" ref="a78d7ac1008e2aedf1fd141bce078f6eb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool <a class="el" href="classScene3D.html#a78d7ac1008e2aedf1fd141bce078f6eb">Scene3D::isComplexObject</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="scene3D_8h_source.html#l00064">64</a> of file <a class="el" href="scene3D_8h_source.html">scene3D.h</a>.</p>

<p>References <a class="el" href="scene3D_8h_source.html#l00033">COORDINATE_FRAME</a>, and <a class="el" href="scene3D_8h_source.html#l00039">type</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> (<a class="code" href="classScene3D.html#a1dfce1c50a73147c09d4afacdd9ed428">type</a> == <a class="code" href="classScene3D.html#a8c62a5e447d637c4aeb61156a8ed5ac2a8208ba42362b06e90f69a07f40b40976">COORDINATE_FRAME</a>);
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a60b7123a0f0f4fb8bb21315ba2d32896"></a><!-- doxytag: member="Scene3D::prepareMesh" ref="a60b7123a0f0f4fb8bb21315ba2d32896" args="(CloudViewDialog *dialog)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classScene3D.html#a60b7123a0f0f4fb8bb21315ba2d32896">Scene3D::prepareMesh</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCloudViewDialog.html">CloudViewDialog</a> *&#160;</td>
          <td class="paramname"><em>dialog</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented in <a class="el" href="classStereoCameraScene.html#a46f2b35f576246a7d14ccc8dceae5811">StereoCameraScene</a>, <a class="el" href="classCameraScene.html#aae47cdf16e28f56d182918764f8818ff">CameraScene</a>, <a class="el" href="classPlane3DScene.html#a6aef3c549652ad3432e21a25ffc070c4">Plane3DScene</a>, <a class="el" href="classGrid3DScene.html#af5218a4a69a06f9a5203d7248455c0d1">Grid3DScene</a>, <a class="el" href="classMesh3DScene.html#aa62ee4884ca4843117eec93e92fded7a">Mesh3DScene</a>, and <a class="el" href="classCoordinateFrame.html#af7d8ebb64704be136543b6469b71070b">CoordinateFrame</a>.</p>

<p>Definition at line <a class="el" href="scene3D_8cpp_source.html#l00235">235</a> of file <a class="el" href="scene3D_8cpp_source.html">scene3D.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{

}
</pre></div>
</div>
</div>
<a class="anchor" id="a1e7c89a37780624c890d0386686fcaf5"></a><!-- doxytag: member="Scene3D::setParameters" ref="a1e7c89a37780624c890d0386686fcaf5" args="(void *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classScene3D.html#a1e7c89a37780624c890d0386686fcaf5">Scene3D::setParameters</a> </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented in <a class="el" href="classCameraScene.html#ad2e3b82483ab96188fe85c5aa393d307">CameraScene</a>, <a class="el" href="classScene3DMouse.html#aab5a5a19af5688c892390299a360bac9">Scene3DMouse</a>, <a class="el" href="classMesh3DScene.html#acec22681c8e0618adaa60b2851e65e39">Mesh3DScene</a>, and <a class="el" href="classCoordinateFrame.html#a8a0ee670a1ba04fe35f9478ef4c6f600">CoordinateFrame</a>.</p>

<p>Definition at line <a class="el" href="scene3D_8h_source.html#l00055">55</a> of file <a class="el" href="scene3D_8h_source.html">scene3D.h</a>.</p>
<div class="fragment"><pre class="fragment">{};
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a3da537195f5d7d936edae5bbb45ab98c"></a><!-- doxytag: member="Scene3D::name" ref="a3da537195f5d7d936edae5bbb45ab98c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString <a class="el" href="classScene3D.html#a3da537195f5d7d936edae5bbb45ab98c">Scene3D::name</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="scene3D_8h_source.html#l00037">37</a> of file <a class="el" href="scene3D_8h_source.html">scene3D.h</a>.</p>

<p>Referenced by <a class="el" href="cloudViewDialog_8cpp_source.html#l00031">CloudViewDialog::CloudViewDialog()</a>.</p>

</div>
</div>
<a class="anchor" id="af379526578a5a7ba853664ab158a2efa"></a><!-- doxytag: member="Scene3D::parent" ref="af379526578a5a7ba853664ab158a2efa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classScene3D.html">Scene3D</a>* <a class="el" href="classScene3D.html#af379526578a5a7ba853664ab158a2efa">Scene3D::parent</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="scene3D_8h_source.html#l00038">38</a> of file <a class="el" href="scene3D_8h_source.html">scene3D.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1f5423500589f1a02a6c5d73f9e0fcb1"></a><!-- doxytag: member="Scene3D::transform" ref="a1f5423500589f1a02a6c5d73f9e0fcb1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1Matrix44.html">Matrix44</a> <a class="el" href="classScene3D.html#a1f5423500589f1a02a6c5d73f9e0fcb1">Scene3D::transform</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="scene3D_8h_source.html#l00041">41</a> of file <a class="el" href="scene3D_8h_source.html">scene3D.h</a>.</p>

<p>Referenced by <a class="el" href="scene3D_8cpp_source.html#l00019">draw()</a>.</p>

</div>
</div>
<a class="anchor" id="a1dfce1c50a73147c09d4afacdd9ed428"></a><!-- doxytag: member="Scene3D::type" ref="a1dfce1c50a73147c09d4afacdd9ed428" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classScene3D.html#a8c62a5e447d637c4aeb61156a8ed5ac2">SceneType</a> <a class="el" href="classScene3D.html#a1dfce1c50a73147c09d4afacdd9ed428">Scene3D::type</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="scene3D_8h_source.html#l00039">39</a> of file <a class="el" href="scene3D_8h_source.html">scene3D.h</a>.</p>

<p>Referenced by <a class="el" href="coordinateFrame_8cpp_source.html#l00010">CoordinateFrame::CoordinateFrame()</a>, and <a class="el" href="scene3D_8h_source.html#l00064">isComplexObject()</a>.</p>

</div>
</div>
<a class="anchor" id="a0dfb2f167fec868ddfe82325750f9371"></a><!-- doxytag: member="Scene3D::visible" ref="a0dfb2f167fec868ddfe82325750f9371" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classScene3D.html#a0dfb2f167fec868ddfe82325750f9371">Scene3D::visible</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="scene3D_8h_source.html#l00042">42</a> of file <a class="el" href="scene3D_8h_source.html">scene3D.h</a>.</p>

<p>Referenced by <a class="el" href="scene3D_8cpp_source.html#l00019">draw()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>utils/3d/<a class="el" href="scene3D_8h_source.html">scene3D.h</a></li>
<li>utils/3d/<a class="el" href="scene3D_8cpp_source.html">scene3D.cpp</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Tue Nov 12 2013 23:44:46 for DeepView by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
