<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>DeepView: corecvs::Triangulator Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">DeepView
   &#160;<span id="projectnumber">0.02</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespacecorecvs.html">corecvs</a>      </li>
      <li class="navelem"><a class="el" href="classcorecvs_1_1Triangulator.html">Triangulator</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">corecvs::Triangulator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="corecvs::Triangulator" -->
<p>Swarm point is a class that holds the information about single point in space Associated with color and etc.  
 <a href="classcorecvs_1_1Triangulator.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="triangulator_8h_source.html">triangulator.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for corecvs::Triangulator:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classcorecvs_1_1Triangulator__coll__graph.svg" width="100%" height="414"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classcorecvs_1_1Triangulator-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1Triangulator.html#a6e89fe0e5179208811ca995b5515a25a">Triangulator</a> (const <a class="el" href="classcorecvs_1_1RectificationResult.html">RectificationResult</a> &amp;_rectifierData)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecorecvs.html#a8c6504d3d8b574bfb908b9fe5a7a3974">Vector3dd</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1Triangulator.html#a7f4db79f9ef947ad012d1359d890c394">triangulate</a> (const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;start, const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;shift) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecorecvs.html#a8c6504d3d8b574bfb908b9fe5a7a3974">Vector3dd</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1Triangulator.html#a96d287ad2240437611c22c9bb069f173">triangulate</a> (const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;start, double shift) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1Triangulator.html#a0a62b52a2bd8d11f42e379cc8f042434">getDepth</a> (const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;start, const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;shift) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1Triangulator.html#ae574d733deb87e2e8b60ebd053845148">getDepth</a> (const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;start, double shift) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1Triangulator.html#a722c386e6ce6dc74204ddc6f7aa512b5">getDisparity</a> (const <a class="el" href="namespacecorecvs.html#a8c6504d3d8b574bfb908b9fe5a7a3974">Vector3dd</a> &amp;point) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1Cloud.html">Cloud</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1Triangulator.html#ac50976d110edffc9c8c2c84f29c64289">triangulate</a> (<a class="el" href="classcorecvs_1_1DisparityBuffer.html">DisparityBuffer</a> *input, int density, bool enforceRectify=false) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Input is right to left.  <a href="#ac50976d110edffc9c8c2c84f29c64289"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1Cloud.html">Cloud</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1Triangulator.html#ae4d47788469d8f857d04c8f60bb828e4">triangulate</a> (<a class="el" href="classcorecvs_1_1FloatFlowBuffer.html">FloatFlowBuffer</a> *input, int density, bool enforceRectify=false) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1Cloud.html">Cloud</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1Triangulator.html#ad2657d2f8ea69c967888564b0707921d">triangulate</a> (<a class="el" href="classcorecvs_1_1SixDBuffer.html">SixDBuffer</a> *input, int density) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1DepthBuffer.html">DepthBuffer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1Triangulator.html#a0a6b643b356974b22662d0c9288357a4">triangulateToDB</a> (<a class="el" href="classcorecvs_1_1DisparityBuffer.html">DisparityBuffer</a> *input, bool enforceRectify=false) const </td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1RectificationResult.html">RectificationResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1Triangulator.html#a05b768626670b1083caf497949821d27">rectifierData</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1Triangulator.html#af628784c2bcb581dfd35f34d661df757">rectifiedToCameraFrameLeft</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1Triangulator.html#ac60a77539b56d122c8a8df7e4298e008">rectifiedToCameraFrameRight</a></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class InputType &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1Cloud.html">Cloud</a> *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1Triangulator.html#a53fbf5247f6593a3b14439ac938029b2">triangulateHelper</a> (InputType *input, int density, bool enforceRectify) const </td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class InputType &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1Cloud.html">Cloud</a> *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1Triangulator.html#a2210496f2ad25dab5629a362dbcfbbe4">triangulateHelperParallel</a> (InputType *input, int density, bool enforceRectify) const </td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Swarm point is a class that holds the information about single point in space Associated with color and etc. </p>

<p>Definition at line <a class="el" href="triangulator_8h_source.html#l00114">114</a> of file <a class="el" href="triangulator_8h_source.html">triangulator.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a6e89fe0e5179208811ca995b5515a25a"></a><!-- doxytag: member="corecvs::Triangulator::Triangulator" ref="a6e89fe0e5179208811ca995b5515a25a" args="(const RectificationResult &amp;_rectifierData)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1Triangulator.html#a6e89fe0e5179208811ca995b5515a25a">corecvs::Triangulator::Triangulator</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcorecvs_1_1RectificationResult.html">RectificationResult</a> &amp;&#160;</td>
          <td class="paramname"><em>_rectifierData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="triangulator_8cpp_source.html#l00013">13</a> of file <a class="el" href="triangulator_8cpp_source.html">triangulator.cpp</a>.</p>

<p>References <a class="el" href="cameraParameters_8cpp_source.html#l00065">corecvs::CameraIntrinsics::getInvKMatrix33()</a>, <a class="el" href="matrix33_8cpp_source.html#l00040">corecvs::Matrix33::inv()</a>, <a class="el" href="triangulator_8h_source.html#l00118">rectifiedToCameraFrameLeft</a>, <a class="el" href="triangulator_8h_source.html#l00119">rectifiedToCameraFrameRight</a>, <a class="el" href="triangulator_8h_source.html#l00117">rectifierData</a>, <a class="el" href="triangulator_8h_source.html#l00035">corecvs::RectificationResult::rightCamera</a>, and <a class="el" href="triangulator_8h_source.html#l00042">corecvs::RectificationResult::rightTransform</a>.</p>
<div class="fragment"><pre class="fragment">                                                                    :
    <a class="code" href="classcorecvs_1_1Triangulator.html#a05b768626670b1083caf497949821d27">rectifierData</a>(_rectifierData)
{
    <a class="code" href="classcorecvs_1_1Triangulator.html#af628784c2bcb581dfd35f34d661df757">rectifiedToCameraFrameLeft</a> =
            <a class="code" href="classcorecvs_1_1Triangulator.html#a05b768626670b1083caf497949821d27">rectifierData</a>. leftCamera.getInvKMatrix33() * <a class="code" href="classcorecvs_1_1Triangulator.html#a05b768626670b1083caf497949821d27">rectifierData</a>. leftTransform.inv();

    <a class="code" href="classcorecvs_1_1Triangulator.html#ac60a77539b56d122c8a8df7e4298e008">rectifiedToCameraFrameRight</a> =
            <a class="code" href="classcorecvs_1_1Triangulator.html#a05b768626670b1083caf497949821d27">rectifierData</a>.<a class="code" href="classcorecvs_1_1RectificationResult.html#a1260854403aa61a4c29aab58131be624">rightCamera</a>.<a class="code" href="classcorecvs_1_1CameraIntrinsics.html#af6f12d9ac50cb5997e0e680fcfffafb3">getInvKMatrix33</a>() * <a class="code" href="classcorecvs_1_1Triangulator.html#a05b768626670b1083caf497949821d27">rectifierData</a>.<a class="code" href="classcorecvs_1_1RectificationResult.html#a5bbab9528f0608a417463aea0a048430">rightTransform</a>.<a class="code" href="classcorecvs_1_1Matrix33.html#a303763def6e3cd4a08222e9fa8f6faae" title="This function returns an inverse of the matrix.">inv</a>();

}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classcorecvs_1_1Triangulator_a6e89fe0e5179208811ca995b5515a25a_cgraph.svg" width="100%" height="228"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a0a62b52a2bd8d11f42e379cc8f042434"></a><!-- doxytag: member="corecvs::Triangulator::getDepth" ref="a0a62b52a2bd8d11f42e379cc8f042434" args="(const Vector2dd &amp;start, const Vector2dd &amp;shift) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classcorecvs_1_1Triangulator.html#a0a62b52a2bd8d11f42e379cc8f042434">corecvs::Triangulator::getDepth</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;&#160;</td>
          <td class="paramname"><em>shift</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="triangulator_8cpp_source.html#l00056">56</a> of file <a class="el" href="triangulator_8cpp_source.html">triangulator.cpp</a>.</p>

<p>References <a class="el" href="triangulator_8h_source.html#l00048">corecvs::RectificationResult::baseline</a>, <a class="el" href="triangulator_8h_source.html#l00039">corecvs::RectificationResult::decomposition</a>, <a class="el" href="essentialMatrix_8h_source.html#l00076">corecvs::EssentialDecomposition::getScaler()</a>, <a class="el" href="triangulator_8h_source.html#l00118">rectifiedToCameraFrameLeft</a>, <a class="el" href="triangulator_8h_source.html#l00119">rectifiedToCameraFrameRight</a>, and <a class="el" href="triangulator_8h_source.html#l00117">rectifierData</a>.</p>

<p>Referenced by <a class="el" href="triangulator_8cpp_source.html#l00072">getDepth()</a>, and <a class="el" href="triangulator_8cpp_source.html#l00333">triangulateToDB()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> end = start + shift;

    <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> startInCameraFrame = <a class="code" href="classcorecvs_1_1Triangulator.html#ac60a77539b56d122c8a8df7e4298e008">rectifiedToCameraFrameRight</a> * start;
    <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> endInCameraFrame   = <a class="code" href="classcorecvs_1_1Triangulator.html#af628784c2bcb581dfd35f34d661df757">rectifiedToCameraFrameLeft</a>  * end;

    <span class="keywordtype">double</span> d1, d2, err;

    <a class="code" href="classcorecvs_1_1Vector3d.html">Vector3dd</a> start3d(startInCameraFrame, 1.0);
    <a class="code" href="classcorecvs_1_1Vector3d.html">Vector3dd</a> end3d  (  endInCameraFrame, 1.0);

    <a class="code" href="classcorecvs_1_1Triangulator.html#a05b768626670b1083caf497949821d27">rectifierData</a>.<a class="code" href="classcorecvs_1_1RectificationResult.html#a3d0a04f999e7ed6af63651597555dc9d">decomposition</a>.<a class="code" href="classcorecvs_1_1EssentialDecomposition.html#aa84682ff901ec37153e580a33300317e" title="Triangulation taking as input left and right 2D projective vectors of the pixel in left ( ) and right...">getScaler</a>(start3d, end3d, d1, d2, err);
    <span class="keywordflow">return</span> d1 * <a class="code" href="classcorecvs_1_1Triangulator.html#a05b768626670b1083caf497949821d27">rectifierData</a>.<a class="code" href="classcorecvs_1_1RectificationResult.html#a2e0cc2c0bce3793f9d7162abe1df7cf3" title="Distance between cameras in units (generally millimeters)">baseline</a>;
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classcorecvs_1_1Triangulator_a0a62b52a2bd8d11f42e379cc8f042434_cgraph.svg" width="100%" height="249"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae574d733deb87e2e8b60ebd053845148"></a><!-- doxytag: member="corecvs::Triangulator::getDepth" ref="ae574d733deb87e2e8b60ebd053845148" args="(const Vector2dd &amp;start, double shift) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classcorecvs_1_1Triangulator.html#a0a62b52a2bd8d11f42e379cc8f042434">corecvs::Triangulator::getDepth</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>shift</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="triangulator_8cpp_source.html#l00072">72</a> of file <a class="el" href="triangulator_8cpp_source.html">triangulator.cpp</a>.</p>

<p>References <a class="el" href="triangulator_8cpp_source.html#l00056">getDepth()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="classcorecvs_1_1Triangulator.html#a0a62b52a2bd8d11f42e379cc8f042434">getDepth</a>(start, <a class="code" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a>(shift, 0));
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classcorecvs_1_1Triangulator_ae574d733deb87e2e8b60ebd053845148_cgraph.svg" width="100%" height="249"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a722c386e6ce6dc74204ddc6f7aa512b5"></a><!-- doxytag: member="corecvs::Triangulator::getDisparity" ref="a722c386e6ce6dc74204ddc6f7aa512b5" args="(const Vector3dd &amp;point) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classcorecvs_1_1Triangulator.html#a722c386e6ce6dc74204ddc6f7aa512b5">corecvs::Triangulator::getDisparity</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacecorecvs.html#a8c6504d3d8b574bfb908b9fe5a7a3974">Vector3dd</a> &amp;&#160;</td>
          <td class="paramname"><em>point</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="triangulator_8cpp_source.html#l00077">77</a> of file <a class="el" href="triangulator_8cpp_source.html">triangulator.cpp</a>.</p>

<p>References <a class="el" href="triangulator_8h_source.html#l00070">corecvs::RectificationResult::getRectifiedProjectionLeft()</a>, <a class="el" href="triangulator_8h_source.html#l00065">corecvs::RectificationResult::getRectifiedProjectionRight()</a>, <a class="el" href="triangulator_8h_source.html#l00117">rectifierData</a>, and <a class="el" href="vector2d_8h_source.html#l00050">corecvs::Vector2d&lt; ElementType &gt;::x()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> projectRight = <a class="code" href="classcorecvs_1_1Triangulator.html#a05b768626670b1083caf497949821d27">rectifierData</a>.<a class="code" href="classcorecvs_1_1RectificationResult.html#abf394eca40a26887b4384a1e906fbc7b">getRectifiedProjectionRight</a>(point);
    <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> projectLeft  = <a class="code" href="classcorecvs_1_1Triangulator.html#a05b768626670b1083caf497949821d27">rectifierData</a>.<a class="code" href="classcorecvs_1_1RectificationResult.html#a807a90dbe0d6dcf20745dca70a5d1d75">getRectifiedProjectionLeft</a> (point);
    <span class="keywordflow">return</span> projectLeft.<a class="code" href="classcorecvs_1_1Vector2d.html#a944721c41f044c1388d9dc42ca899bce">x</a>() - projectRight.<a class="code" href="classcorecvs_1_1Vector2d.html#a944721c41f044c1388d9dc42ca899bce">x</a>();
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classcorecvs_1_1Triangulator_a722c386e6ce6dc74204ddc6f7aa512b5_cgraph.svg" width="100%" height="228"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7f4db79f9ef947ad012d1359d890c394"></a><!-- doxytag: member="corecvs::Triangulator::triangulate" ref="a7f4db79f9ef947ad012d1359d890c394" args="(const Vector2dd &amp;start, const Vector2dd &amp;shift) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacecorecvs.html#a8c6504d3d8b574bfb908b9fe5a7a3974">Vector3dd</a> <a class="el" href="classcorecvs_1_1Triangulator.html#a7f4db79f9ef947ad012d1359d890c394">corecvs::Triangulator::triangulate</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;&#160;</td>
          <td class="paramname"><em>shift</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="triangulator_8cpp_source.html#l00024">24</a> of file <a class="el" href="triangulator_8cpp_source.html">triangulator.cpp</a>.</p>

<p>References <a class="el" href="triangulator_8h_source.html#l00048">corecvs::RectificationResult::baseline</a>, <a class="el" href="triangulator_8h_source.html#l00039">corecvs::RectificationResult::decomposition</a>, <a class="el" href="essentialMatrix_8h_source.html#l00113">corecvs::EssentialDecomposition::getDistance()</a>, <a class="el" href="essentialMatrix_8h_source.html#l00076">corecvs::EssentialDecomposition::getScaler()</a>, <a class="el" href="vectorOperations_8h_source.html#l00420">corecvs::VectorOperationsBase&lt; RealType, ElementType &gt;::normalised()</a>, <a class="el" href="triangulator_8h_source.html#l00118">rectifiedToCameraFrameLeft</a>, <a class="el" href="triangulator_8h_source.html#l00119">rectifiedToCameraFrameRight</a>, and <a class="el" href="triangulator_8h_source.html#l00117">rectifierData</a>.</p>

<p>Referenced by <a class="el" href="triangulator_8cpp_source.html#l00114">corecvs::ParallelTriangulate&lt; InputType &gt;::operator()()</a>, <a class="el" href="triangulator_8cpp_source.html#l00050">triangulate()</a>, and <a class="el" href="triangulator_8cpp_source.html#l00181">triangulateHelper()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> end = start + shift;

    <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> startInCameraFrame = <a class="code" href="classcorecvs_1_1Triangulator.html#ac60a77539b56d122c8a8df7e4298e008">rectifiedToCameraFrameRight</a> * start;
    <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> endInCameraFrame   = <a class="code" href="classcorecvs_1_1Triangulator.html#af628784c2bcb581dfd35f34d661df757">rectifiedToCameraFrameLeft</a>  * end;

    <span class="keywordtype">double</span> d1;
    <span class="keywordtype">double</span> d2;
    <span class="keywordtype">double</span> err;

    <a class="code" href="classcorecvs_1_1Vector3d.html">Vector3dd</a> start3d(startInCameraFrame, 1.0);
    <a class="code" href="classcorecvs_1_1Vector3d.html">Vector3dd</a> end3d  (  endInCameraFrame, 1.0);

    <a class="code" href="classcorecvs_1_1Vector3d.html">Vector3dd</a> point;

    <span class="keywordflow">if</span> (0 <span class="comment">/*Old style triangulation*/</span>) {
        <a class="code" href="classcorecvs_1_1Triangulator.html#a05b768626670b1083caf497949821d27">rectifierData</a>.<a class="code" href="classcorecvs_1_1RectificationResult.html#a3d0a04f999e7ed6af63651597555dc9d">decomposition</a>.<a class="code" href="classcorecvs_1_1EssentialDecomposition.html#aa84682ff901ec37153e580a33300317e" title="Triangulation taking as input left and right 2D projective vectors of the pixel in left ( ) and right...">getScaler</a>(start3d, end3d, d1, d2, err);
        point = (start3d * d1) * <a class="code" href="classcorecvs_1_1Triangulator.html#a05b768626670b1083caf497949821d27">rectifierData</a>.<a class="code" href="classcorecvs_1_1RectificationResult.html#a2e0cc2c0bce3793f9d7162abe1df7cf3" title="Distance between cameras in units (generally millimeters)">baseline</a>;
    } <span class="keywordflow">else</span> {
        <a class="code" href="classcorecvs_1_1Triangulator.html#a05b768626670b1083caf497949821d27">rectifierData</a>.<a class="code" href="classcorecvs_1_1RectificationResult.html#a3d0a04f999e7ed6af63651597555dc9d">decomposition</a>.<a class="code" href="classcorecvs_1_1EssentialDecomposition.html#a123182db14754ef75da9388905a32702" title="Triangulation taking as input left and right 2D projective vectors of the pixel in left ( ) and right...">getDistance</a>(start3d, end3d, d1, d2, err);
        point = (start3d.normalised() * d1) * <a class="code" href="classcorecvs_1_1Triangulator.html#a05b768626670b1083caf497949821d27">rectifierData</a>.<a class="code" href="classcorecvs_1_1RectificationResult.html#a2e0cc2c0bce3793f9d7162abe1df7cf3" title="Distance between cameras in units (generally millimeters)">baseline</a>;
    }
    <span class="keywordflow">return</span> point;
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classcorecvs_1_1Triangulator_a7f4db79f9ef947ad012d1359d890c394_cgraph.svg" width="100%" height="266"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a96d287ad2240437611c22c9bb069f173"></a><!-- doxytag: member="corecvs::Triangulator::triangulate" ref="a96d287ad2240437611c22c9bb069f173" args="(const Vector2dd &amp;start, double shift) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacecorecvs.html#a8c6504d3d8b574bfb908b9fe5a7a3974">Vector3dd</a> <a class="el" href="classcorecvs_1_1Triangulator.html#a7f4db79f9ef947ad012d1359d890c394">corecvs::Triangulator::triangulate</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>shift</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="triangulator_8cpp_source.html#l00050">50</a> of file <a class="el" href="triangulator_8cpp_source.html">triangulator.cpp</a>.</p>

<p>References <a class="el" href="triangulator_8cpp_source.html#l00024">triangulate()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="classcorecvs_1_1Triangulator.html#a7f4db79f9ef947ad012d1359d890c394">triangulate</a>(start, <a class="code" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a>(shift, 0));
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classcorecvs_1_1Triangulator_a96d287ad2240437611c22c9bb069f173_cgraph.svg" width="100%" height="266"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac50976d110edffc9c8c2c84f29c64289"></a><!-- doxytag: member="corecvs::Triangulator::triangulate" ref="ac50976d110edffc9c8c2c84f29c64289" args="(DisparityBuffer *input, int density, bool enforceRectify=false) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1Cloud.html">Cloud</a>* <a class="el" href="classcorecvs_1_1Triangulator.html#a7f4db79f9ef947ad012d1359d890c394">corecvs::Triangulator::triangulate</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcorecvs_1_1DisparityBuffer.html">DisparityBuffer</a> *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>density</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enforceRectify</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Input is right to left. </p>

</div>
</div>
<a class="anchor" id="ae4d47788469d8f857d04c8f60bb828e4"></a><!-- doxytag: member="corecvs::Triangulator::triangulate" ref="ae4d47788469d8f857d04c8f60bb828e4" args="(FloatFlowBuffer *input, int density, bool enforceRectify=false) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1Cloud.html">Cloud</a> * <a class="el" href="classcorecvs_1_1Triangulator.html#a7f4db79f9ef947ad012d1359d890c394">corecvs::Triangulator::triangulate</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcorecvs_1_1FloatFlowBuffer.html">FloatFlowBuffer</a> *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>density</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enforceRectify</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="triangulator_8cpp_source.html#l00217">217</a> of file <a class="el" href="triangulator_8cpp_source.html">triangulator.cpp</a>.</p>

<p>References <a class="el" href="triangulator_8cpp_source.html#l00181">triangulateHelper()</a>, and <a class="el" href="triangulator_8cpp_source.html#l00171">triangulateHelperParallel()</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="preprocessor">#ifdef WITH_TBB</span>
<span class="preprocessor"></span>    <span class="keywordflow">return</span> <a class="code" href="classcorecvs_1_1Triangulator.html#a2210496f2ad25dab5629a362dbcfbbe4">triangulateHelperParallel</a>(input, density, enforceRectify);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>    <span class="keywordflow">return</span> <a class="code" href="classcorecvs_1_1Triangulator.html#a53fbf5247f6593a3b14439ac938029b2">triangulateHelper</a>(input,  density, enforceRectify);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classcorecvs_1_1Triangulator_ae4d47788469d8f857d04c8f60bb828e4_cgraph.svg" width="100%" height="328"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad2657d2f8ea69c967888564b0707921d"></a><!-- doxytag: member="corecvs::Triangulator::triangulate" ref="ad2657d2f8ea69c967888564b0707921d" args="(SixDBuffer *input, int density) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1Cloud.html">Cloud</a> * <a class="el" href="classcorecvs_1_1Triangulator.html#a7f4db79f9ef947ad012d1359d890c394">corecvs::Triangulator::triangulate</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcorecvs_1_1SixDBuffer.html">SixDBuffer</a> *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>density</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="triangulator_8cpp_source.html#l00285">285</a> of file <a class="el" href="triangulator_8cpp_source.html">triangulator.cpp</a>.</p>

<p>References <a class="el" href="element6D_8h_source.html#l00075">corecvs::Element6D::disp</a>, <a class="el" href="element6D_8h_source.html#l00076">corecvs::Element6D::dispPrev</a>, <a class="el" href="abstractBuffer_8h_source.html#l00401">corecvs::AbstractBuffer&lt; ElementType, IndexType &gt;::element()</a>, <a class="el" href="element6D_8h_source.html#l00074">corecvs::Element6D::flow</a>, <a class="el" href="abstractBuffer_8h_source.html#l00127">corecvs::AbstractBufferParams::h</a>, <a class="el" href="element6D_8h_source.html#l00052">corecvs::Element6D::hasDisp()</a>, <a class="el" href="element6D_8h_source.html#l00045">corecvs::Element6D::hasFlow()</a>, <a class="el" href="element6D_8h_source.html#l00057">corecvs::Element6D::hasPrevDisp()</a>, <a class="el" href="swarmPoint_8h_source.html#l00021">corecvs::SwarmPoint::is6D</a>, <a class="el" href="swarmPoint_8h_source.html#l00017">corecvs::SwarmPoint::point</a>, <a class="el" href="swarmPoint_8h_source.html#l00018">corecvs::SwarmPoint::speed</a>, <a class="el" href="swarmPoint_8h_source.html#l00019">corecvs::SwarmPoint::texCoor</a>, <a class="el" href="triangulator_8cpp_source.html#l00024">triangulate()</a>, <a class="el" href="abstractBuffer_8h_source.html#l00128">corecvs::AbstractBufferParams::w</a>, <a class="el" href="vector2d_8h_source.html#l00050">corecvs::Vector2d&lt; ElementType &gt;::x()</a>, and <a class="el" href="vector2d_8h_source.html#l00055">corecvs::Vector2d&lt; ElementType &gt;::y()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classcorecvs_1_1Cloud.html">Cloud</a> *result = <span class="keyword">new</span> <a class="code" href="classcorecvs_1_1Cloud.html">Cloud</a>();
    result-&gt;reserve(density);

    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; input-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a88e969182e3f07bb3600de841b409e9b">h</a>; i++)
    {
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; input-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a7ff3d372b9a613e451a379a4427e2623">w</a>; j++)
        {
            <span class="keyword">const</span> <a class="code" href="classcorecvs_1_1Element6D.html" title="This class holds fully or partially reconstructed 6D point at disparity level.">Element6D</a> &amp;element = input-&gt;<a class="code" href="classcorecvs_1_1AbstractBuffer.html#a98f72526738a0c4ce8a0b72a3b5c28b9" title="The element getter.">element</a>(i,j);
            <span class="keywordflow">if</span> (!element.<a class="code" href="classcorecvs_1_1Element6D.html#a7a92042c62c507842f8263f5694d9a8d">hasDisp</a>() || element.<a class="code" href="classcorecvs_1_1Element6D.html#a360d1aca5fbc88fbe5cacea53fd809d8">disp</a> &lt;= 0)
                <span class="keywordflow">continue</span>;

            <span class="comment">/* Point in right frame*/</span>
            <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> start(j,i);
            <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> shift = <a class="code" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a>(element.<a class="code" href="classcorecvs_1_1Element6D.html#a360d1aca5fbc88fbe5cacea53fd809d8">disp</a>, 0);

            <a class="code" href="classcorecvs_1_1SwarmPoint.html">SwarmPoint</a> swarmPoint;
            <a class="code" href="classcorecvs_1_1Vector3d.html">Vector3dd</a> current3d = <a class="code" href="classcorecvs_1_1Triangulator.html#a7f4db79f9ef947ad012d1359d890c394">triangulate</a>(start, shift);
            swarmPoint.<a class="code" href="classcorecvs_1_1SwarmPoint.html#a16726d66dbda7c4d7289eab34102bf02">point</a> = current3d;
            swarmPoint.<a class="code" href="classcorecvs_1_1SwarmPoint.html#a74ccf96967a4499a1f40f0df88d18f52">texCoor</a> = start;

            <span class="comment">/* Now 6D */</span>
            <span class="keywordflow">if</span> (element.<a class="code" href="classcorecvs_1_1Element6D.html#a84baf8968271e8a1678ac75572c93545">hasFlow</a>())
            {
                <span class="comment">/*Position at previous frame */</span>
                <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> start1(start.x() + element.<a class="code" href="classcorecvs_1_1Element6D.html#a19ad95fb1325169f7db2ec5dbd9683cf">flow</a>.<a class="code" href="classcorecvs_1_1Vector2d.html#a944721c41f044c1388d9dc42ca899bce">x</a>(), start.y() + element.<a class="code" href="classcorecvs_1_1Element6D.html#a19ad95fb1325169f7db2ec5dbd9683cf">flow</a>.<a class="code" href="classcorecvs_1_1Vector2d.html#ae1ea2ad4c0821001408bf963cffa8413">y</a>());
                <a class="code" href="classcorecvs_1_1Vector3d.html">Vector3dd</a> old3d = current3d;

                <span class="keywordflow">if</span> (element.<a class="code" href="classcorecvs_1_1Element6D.html#a165b0a9def1f94258f886c5a5a0728dc">hasPrevDisp</a>() &amp;&amp; element.<a class="code" href="classcorecvs_1_1Element6D.html#a4a04e4abf28580f30ba268d6b872f817">dispPrev</a> &gt; 0)
                {
                    <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> shift1 = <a class="code" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a>(element.<a class="code" href="classcorecvs_1_1Element6D.html#a4a04e4abf28580f30ba268d6b872f817">dispPrev</a>, 0);
                    old3d = <a class="code" href="classcorecvs_1_1Triangulator.html#a7f4db79f9ef947ad012d1359d890c394">triangulate</a>(start1, shift1);
                    swarmPoint.<a class="code" href="classcorecvs_1_1SwarmPoint.html#a0d8b60a5c8a0f4417db3944cf549854a">is6D</a> = <span class="keyword">true</span>;
                } <span class="keywordflow">else</span> {
                    <span class="comment">//Vector2dd normalisedEnd1 = rectifiedToNormalizedRight * end1;</span>
                    <span class="comment">//old3d = Vector3dd(normalisedEnd1, 1.0) * current3d.z();</span>
                    <span class="comment">//old3d = current3d;</span>
                }
                swarmPoint.<a class="code" href="classcorecvs_1_1SwarmPoint.html#a79d41d6c0fb6e61eb1470397bd260c65">speed</a> = current3d - old3d;
            }

            result-&gt;push_back(swarmPoint);
        }
    }
    <span class="keywordflow">return</span> result;
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classcorecvs_1_1Triangulator_ad2657d2f8ea69c967888564b0707921d_cgraph.svg" width="100%" height="463"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a53fbf5247f6593a3b14439ac938029b2"></a><!-- doxytag: member="corecvs::Triangulator::triangulateHelper" ref="a53fbf5247f6593a3b14439ac938029b2" args="(InputType *input, int density, bool enforceRectify) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class InputType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1Cloud.html">Cloud</a> * <a class="el" href="classcorecvs_1_1Triangulator.html#a53fbf5247f6593a3b14439ac938029b2">corecvs::Triangulator::triangulateHelper</a> </td>
          <td>(</td>
          <td class="paramtype">InputType *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>density</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enforceRectify</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="triangulator_8cpp_source.html#l00181">181</a> of file <a class="el" href="triangulator_8cpp_source.html">triangulator.cpp</a>.</p>

<p>References <a class="el" href="swarmPoint_8h_source.html#l00017">corecvs::SwarmPoint::point</a>, <a class="el" href="swarmPoint_8h_source.html#l00019">corecvs::SwarmPoint::texCoor</a>, <a class="el" href="triangulator_8cpp_source.html#l00024">triangulate()</a>, and <a class="el" href="vector2d_8h_source.html#l00055">corecvs::Vector2d&lt; ElementType &gt;::y()</a>.</p>

<p>Referenced by <a class="el" href="triangulator_8cpp_source.html#l00217">triangulate()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classcorecvs_1_1Cloud.html">Cloud</a> *result = <span class="keyword">new</span> <a class="code" href="classcorecvs_1_1Cloud.html">Cloud</a>();
    result-&gt;reserve(density);

    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; input-&gt;h; i++)
    {
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; input-&gt;w; j++)
        {
            <span class="keywordflow">if</span> (!input-&gt;isElementKnown(i, j))
                <span class="keywordflow">continue</span>;
            <span class="comment">/* Point in right frame*/</span>
            <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> start(j,i);
            <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> shift;
            shift = getInputDisparity&lt;InputType&gt;(input, i,j);
            <span class="keywordflow">if</span> (enforceRectify) {
                shift.<a class="code" href="classcorecvs_1_1Vector2d.html#ae1ea2ad4c0821001408bf963cffa8413">y</a>() = 0;
            }

            <a class="code" href="classcorecvs_1_1SwarmPoint.html">SwarmPoint</a> cloudPoint;
            cloudPoint.<a class="code" href="classcorecvs_1_1SwarmPoint.html#a16726d66dbda7c4d7289eab34102bf02">point</a> = <a class="code" href="classcorecvs_1_1Triangulator.html#a7f4db79f9ef947ad012d1359d890c394">triangulate</a>(start, shift);
            cloudPoint.<a class="code" href="classcorecvs_1_1SwarmPoint.html#a74ccf96967a4499a1f40f0df88d18f52">texCoor</a> = start;
            result-&gt;push_back(cloudPoint);
        }
    }
    <span class="keywordflow">return</span> result;
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classcorecvs_1_1Triangulator_a53fbf5247f6593a3b14439ac938029b2_cgraph.svg" width="100%" height="266"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2210496f2ad25dab5629a362dbcfbbe4"></a><!-- doxytag: member="corecvs::Triangulator::triangulateHelperParallel" ref="a2210496f2ad25dab5629a362dbcfbbe4" args="(InputType *input, int density, bool enforceRectify) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class InputType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1Cloud.html">Cloud</a> * <a class="el" href="classcorecvs_1_1Triangulator.html#a2210496f2ad25dab5629a362dbcfbbe4">corecvs::Triangulator::triangulateHelperParallel</a> </td>
          <td>(</td>
          <td class="paramtype">InputType *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>density</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enforceRectify</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="triangulator_8cpp_source.html#l00171">171</a> of file <a class="el" href="triangulator_8cpp_source.html">triangulator.cpp</a>.</p>

<p>References <a class="el" href="tbbWrapper_8h_source.html#l00166">corecvs::parallelable_reduce()</a>, and <a class="el" href="triangulator_8cpp_source.html#l00113">corecvs::ParallelTriangulate&lt; InputType &gt;::result</a>.</p>

<p>Referenced by <a class="el" href="triangulator_8cpp_source.html#l00217">triangulate()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classcorecvs_1_1ParallelTriangulate.html">ParallelTriangulate&lt;InputType&gt;</a> tr(<span class="keyword">this</span>, input, density, enforceRectify);

    <a class="code" href="namespacecorecvs.html#a83e7e108cbf71500e492deff3b3c6440">parallelable_reduce</a>(0, input-&gt;h, tr);

    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classcorecvs_1_1Cloud.html">Cloud</a>(*(tr.result));
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classcorecvs_1_1Triangulator_a2210496f2ad25dab5629a362dbcfbbe4_cgraph.svg" width="100%" height="60"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0a6b643b356974b22662d0c9288357a4"></a><!-- doxytag: member="corecvs::Triangulator::triangulateToDB" ref="a0a6b643b356974b22662d0c9288357a4" args="(DisparityBuffer *input, bool enforceRectify=false) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1DepthBuffer.html">DepthBuffer</a> * <a class="el" href="classcorecvs_1_1Triangulator.html#a0a6b643b356974b22662d0c9288357a4">corecvs::Triangulator::triangulateToDB</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcorecvs_1_1DisparityBuffer.html">DisparityBuffer</a> *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enforceRectify</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="triangulator_8cpp_source.html#l00333">333</a> of file <a class="el" href="triangulator_8cpp_source.html">triangulator.cpp</a>.</p>

<p>References <a class="el" href="depthBuffer_8h_source.html#l00024">corecvs::DepthBuffer::DEPTH_UNKNOWN</a>, <a class="el" href="abstractBuffer_8h_source.html#l00401">corecvs::AbstractBuffer&lt; ElementType, IndexType &gt;::element()</a>, <a class="el" href="triangulator_8cpp_source.html#l00056">getDepth()</a>, <a class="el" href="abstractBuffer_8h_source.html#l00127">corecvs::AbstractBufferParams::h</a>, <a class="el" href="abstractBuffer_8h_source.html#l00128">corecvs::AbstractBufferParams::w</a>, <a class="el" href="vector2d_8h_source.html#l00050">corecvs::Vector2d&lt; ElementType &gt;::x()</a>, and <a class="el" href="vector2d_8h_source.html#l00055">corecvs::Vector2d&lt; ElementType &gt;::y()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (input != NULL) {
        <span class="keywordflow">return</span> NULL;
    }
    <a class="code" href="classcorecvs_1_1DepthBuffer.html">DepthBuffer</a> *result = <span class="keyword">new</span> <a class="code" href="classcorecvs_1_1DepthBuffer.html">DepthBuffer</a>(input-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a88e969182e3f07bb3600de841b409e9b">h</a>, input-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a7ff3d372b9a613e451a379a4427e2623">w</a>, <span class="keyword">false</span>);
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; result-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a88e969182e3f07bb3600de841b409e9b">h</a>; i++)
    {
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; result-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a7ff3d372b9a613e451a379a4427e2623">w</a>; j++)
        {
            <span class="keywordflow">if</span> (!input-&gt;isElementKnown(i, j)) {
                result-&gt;<a class="code" href="classcorecvs_1_1AbstractBuffer.html#a98f72526738a0c4ce8a0b72a3b5c28b9" title="The element getter.">element</a>(i,j) = <a class="code" href="classcorecvs_1_1DepthBuffer.html#a55de1751408075d71f4774a3bdfe3b92">DepthBuffer::DEPTH_UNKNOWN</a>;
                <span class="keywordflow">continue</span>;
            }

            <a class="code" href="classcorecvs_1_1Vector2d.html">FlowElement</a> *flowElement = &amp;input-&gt;<a class="code" href="classcorecvs_1_1AbstractBuffer.html#a98f72526738a0c4ce8a0b72a3b5c28b9" title="The element getter.">element</a>(i,j);
            <span class="comment">/* Point in right frame*/</span>
            <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> start(j,i);
            <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> shift(flowElement-&gt;<a class="code" href="classcorecvs_1_1Vector2d.html#a944721c41f044c1388d9dc42ca899bce">x</a>(), enforceRectify ? 0 : flowElement-&gt;<a class="code" href="classcorecvs_1_1Vector2d.html#ae1ea2ad4c0821001408bf963cffa8413">y</a>());
            result-&gt;<a class="code" href="classcorecvs_1_1AbstractBuffer.html#a98f72526738a0c4ce8a0b72a3b5c28b9" title="The element getter.">element</a>(i,j) = <a class="code" href="classcorecvs_1_1Triangulator.html#a0a62b52a2bd8d11f42e379cc8f042434">getDepth</a>(start, shift);
        }
    }
    <span class="keywordflow">return</span> result;
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classcorecvs_1_1Triangulator_a0a6b643b356974b22662d0c9288357a4_cgraph.svg" width="100%" height="251"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="af628784c2bcb581dfd35f34d661df757"></a><!-- doxytag: member="corecvs::Triangulator::rectifiedToCameraFrameLeft" ref="af628784c2bcb581dfd35f34d661df757" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a> <a class="el" href="classcorecvs_1_1Triangulator.html#af628784c2bcb581dfd35f34d661df757">corecvs::Triangulator::rectifiedToCameraFrameLeft</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="triangulator_8h_source.html#l00118">118</a> of file <a class="el" href="triangulator_8h_source.html">triangulator.h</a>.</p>

<p>Referenced by <a class="el" href="triangulator_8cpp_source.html#l00056">getDepth()</a>, <a class="el" href="triangulator_8cpp_source.html#l00024">triangulate()</a>, and <a class="el" href="triangulator_8cpp_source.html#l00013">Triangulator()</a>.</p>

</div>
</div>
<a class="anchor" id="ac60a77539b56d122c8a8df7e4298e008"></a><!-- doxytag: member="corecvs::Triangulator::rectifiedToCameraFrameRight" ref="ac60a77539b56d122c8a8df7e4298e008" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a> <a class="el" href="classcorecvs_1_1Triangulator.html#ac60a77539b56d122c8a8df7e4298e008">corecvs::Triangulator::rectifiedToCameraFrameRight</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="triangulator_8h_source.html#l00119">119</a> of file <a class="el" href="triangulator_8h_source.html">triangulator.h</a>.</p>

<p>Referenced by <a class="el" href="triangulator_8cpp_source.html#l00056">getDepth()</a>, <a class="el" href="triangulator_8cpp_source.html#l00024">triangulate()</a>, and <a class="el" href="triangulator_8cpp_source.html#l00013">Triangulator()</a>.</p>

</div>
</div>
<a class="anchor" id="a05b768626670b1083caf497949821d27"></a><!-- doxytag: member="corecvs::Triangulator::rectifierData" ref="a05b768626670b1083caf497949821d27" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1RectificationResult.html">RectificationResult</a> <a class="el" href="classcorecvs_1_1Triangulator.html#a05b768626670b1083caf497949821d27">corecvs::Triangulator::rectifierData</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="triangulator_8h_source.html#l00117">117</a> of file <a class="el" href="triangulator_8h_source.html">triangulator.h</a>.</p>

<p>Referenced by <a class="el" href="triangulator_8cpp_source.html#l00056">getDepth()</a>, <a class="el" href="triangulator_8cpp_source.html#l00077">getDisparity()</a>, <a class="el" href="triangulator_8cpp_source.html#l00024">triangulate()</a>, and <a class="el" href="triangulator_8cpp_source.html#l00013">Triangulator()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>core/rectification/<a class="el" href="triangulator_8h_source.html">triangulator.h</a></li>
<li>core/rectification/<a class="el" href="triangulator_8cpp_source.html">triangulator.cpp</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Tue Nov 12 2013 23:44:57 for DeepView by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
