<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>DeepView: DistortionWidget Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">DeepView
   &#160;<span id="projectnumber">0.02</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#signals">Signals</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-slots">Private Slots</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">DistortionWidget Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="DistortionWidget" -->
<p><code>#include &lt;<a class="el" href="distortionWidget_8h_source.html">distortionWidget.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for DistortionWidget:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classDistortionWidget__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classDistortionWidget-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="signals"></a>
Signals</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#abebe67bd53d81c2e3cf555eb26b31c6a">recalculationFinished</a> (QSharedPointer&lt; <a class="el" href="classcorecvs_1_1DisplacementBuffer.html">DisplacementBuffer</a> &gt; result)</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#a7148efd44fa4c805f0d42fec375a7870">DistortionWidget</a> (QWidget *parent=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#a5cac093df25894d1c3c0abd71aba2f49">~DistortionWidget</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QSharedPointer<br class="typebreak"/>
&lt; <a class="el" href="classcorecvs_1_1DisplacementBuffer.html">DisplacementBuffer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#a79577eb6f6044f9a7c6f4b3bfcb83aae">distortionCorrectionTransform</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#ab0bfc379efd826ee371401cb32653b1e">setBuffer</a> (<a class="el" href="classcorecvs_1_1G12Buffer.html">G12Buffer</a> *buffer)</td></tr>
<tr><td colspan="2"><h2><a name="pri-slots"></a>
Private Slots</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#a987ab5001cdd1bd31591b453f5308a32">tryAddPoint</a> (int toolID, QPointF const &amp;point)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#a58deb6480e2af09b12b5faae9c258676">initExistingPoint</a> (int toolID, QPointF const &amp;point)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#a81bfb1c7be110f2f88a9e5afa675f59c">setParams</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#a5d7c0943e9e96416516e2940717730a4">addVector</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#abc0b1c06bd5aff2d12de71bec8e28558">initTransform</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#a8f45fe404d6d77b574f7f2e94fdbb04e">detectCorners</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Distortion reconstruction with 3D template.  <a href="#a8f45fe404d6d77b574f7f2e94fdbb04e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#a2555c0af89ba468f08bdc1996acd4779">resetParameters</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#a9788089954e930460b2b84f4021641be">choosePoint</a> (int row, int column)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#a96d7805c04ab371285384eda79f0fda7">showBufferChanged</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#a6796887461341fbd45081f0bcea3519b">deletePointPair</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#a7977583220451f123886327a5b24d930">editPoint</a> (QPointF const &amp;prevPoint, QPointF const &amp;newPoint)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#acd0a6baf382ed08a2e57de62b82bb5ce">addPower</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#a463f43ca659f3be87b5e8272595b2a9f">delPower</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#a1f91c72ac0fb5b47dc766f8f850c8bd9">updateScore</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#ad22920d93b2d23677fc3c5960945eada">updateAdditionalData</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#aaf0d0497e8456730e85fd213731efd75">savePoints</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Saving/loading state.  <a href="#aaf0d0497e8456730e85fd213731efd75"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#a762c42384a71b91391fb7e010e625719">loadPoints</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#a0f55765158a55e21f8a59bd253e17488">setCameraParameters</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#a0982e5f3f97f2981bc05f8c647a4d160">clearParameters</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#a0b946732bdc012178425b7c80257b8e1">doTransformLM</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#acc4920eb6035c486c50914f270324921">doInversionTransform</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Correction by Maria Osechkina's algorithm.  <a href="#acc4920eb6035c486c50914f270324921"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#adac1a0f5ac124afc61c11cc10374b210">doLinesTransform</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Correction by algorithm of straight.  <a href="#adac1a0f5ac124afc61c11cc10374b210"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#ab992ca12e76f4269a7aec54c405cde78">doDefaultTransform</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#ab999e924f68ea2d6e8089ca8f4717c32">doManualTransform</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#ac3994ee1565dbdee8d23e08367355774">printVectorPair</a> (const <a class="el" href="namespacecorecvs.html#a8c6504d3d8b574bfb908b9fe5a7a3974">Vector3dd</a> &amp;spacePoint, const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;imagePoint)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#abe7f163ecb22928af447159edf53ab5a">addPointPair</a> (const <a class="el" href="namespacecorecvs.html#a8c6504d3d8b574bfb908b9fe5a7a3974">Vector3dd</a> &amp;spacePoint, const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;imagePoint)</td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1G12Buffer.html">G12Buffer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1G12Buffer.html">G12Buffer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#a5a607146f02837871f86b997107954eb">mBufferWithCorners</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QList&lt; QLine &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#a434e34c6db26e728838684c9488546bc">mCorrectionVectors</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vector&lt; QPair&lt; <a class="el" href="namespacecorecvs.html#a8c6504d3d8b574bfb908b9fe5a7a3974">Vector3dd</a>, <br class="typebreak"/>
<a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#a54d23086220f5852603022babb7423c8">mCorrectionMap</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDistortionParameters.html">DistortionParameters</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#a27f745d1c54618dd7bd0b3c7f8eae812">mDistortionParameters</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1RadialCorrection.html">RadialCorrection</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#ab38e12d9b8ddab07752c2ab2d9bf4843">mLinesRadialCoorection</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QSharedPointer<br class="typebreak"/>
&lt; <a class="el" href="classcorecvs_1_1DisplacementBuffer.html">DisplacementBuffer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#a2b71fdbbc0244dc678f9380999d62cd7">mDistortionCorrectTransform</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1Segmentator.html">Segmentator</a>&lt; <a class="el" href="classcorecvs_1_1CornerSegmentator.html">CornerSegmentator</a>, <br class="typebreak"/>
<a class="el" href="classcorecvs_1_1CornerSegment.html">CornerSegment</a> &gt;<br class="typebreak"/>
::SegmentationResult *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#a7aea0d80bb82595b1bf094f2e3abde9d">mResult</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classGraphPlotDialog.html">GraphPlotDialog</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#a1cb8aceee93b2f34804de153ecdb2186">mGraphDialog</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classAdvancedImageWidget.html">AdvancedImageWidget</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#a364dbb9776b0ae2e9a1a596716043ded">mLevelGraphDialog</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Ui::DistortionWidget *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="distortionWidget_8h_source.html#l00020">20</a> of file <a class="el" href="distortionWidget_8h_source.html">distortionWidget.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a7148efd44fa4c805f0d42fec375a7870"></a><!-- doxytag: member="DistortionWidget::DistortionWidget" ref="a7148efd44fa4c805f0d42fec375a7870" args="(QWidget *parent=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDistortionWidget.html#a7148efd44fa4c805f0d42fec375a7870">DistortionWidget::DistortionWidget</a> </td>
          <td>(</td>
          <td class="paramtype">QWidget *&#160;</td>
          <td class="paramname"><em>parent</em> = <code>0</code></td><td>)</td>
          <td><code> [explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8cpp_source.html#l00025">25</a> of file <a class="el" href="distortionWidget_8cpp_source.html">distortionWidget.cpp</a>.</p>

<p>References <a class="el" href="distortionWidget_8cpp_source.html#l00684">addPower()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00203">addVector()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00505">choosePoint()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00528">deletePointPair()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00692">delPower()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00148">detectCorners()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00556">editPoint()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00176">initExistingPoint()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00097">initTransform()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00733">loadPoints()</a>, <a class="el" href="distortionWidget_8h_source.html#l00041">mDistortionParameters</a>, <a class="el" href="distortionWidget_8h_source.html#l00061">mGraphDialog</a>, <a class="el" href="distortionWidget_8h_source.html#l00062">mLevelGraphDialog</a>, <a class="el" href="distortionWidget_8h_source.html#l00096">mUi</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00067">resetParameters()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00089">setParams()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00168">tryAddPoint()</a>, and <a class="el" href="distortionWidget_8cpp_source.html#l00337">updateScore()</a>.</p>
<div class="fragment"><pre class="fragment">                                                  :
      QWidget(parent)
    , <a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>(NULL)
    , <a class="code" href="classDistortionWidget.html#a5a607146f02837871f86b997107954eb">mBufferWithCorners</a>(NULL)
    , <a class="code" href="classDistortionWidget.html#a27f745d1c54618dd7bd0b3c7f8eae812">mDistortionParameters</a>(NULL)
    , <a class="code" href="classDistortionWidget.html#a2b71fdbbc0244dc678f9380999d62cd7">mDistortionCorrectTransform</a>(NULL)
    , <a class="code" href="classDistortionWidget.html#a7aea0d80bb82595b1bf094f2e3abde9d">mResult</a>(NULL)
    , <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>(<span class="keyword">new</span> Ui::DistortionWidget)
{
    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;setupUi(<span class="keyword">this</span>);
    this-&gt;setWindowTitle(<span class="stringliteral">&quot;Distortion correction&quot;</span>);
    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;imageXSpinBox-&gt;setMaximum(2000);
    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;imageYSpinBox-&gt;setMaximum(2000);
    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;xCoordSpinBox-&gt;setMaximum(2000);
    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;yCoordSpinBox-&gt;setMaximum(2000);
    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;zCoordSpinBox-&gt;setMaximum(2000);

    connect(<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;widget, SIGNAL(newPolygonPointSelected(<span class="keywordtype">int</span>,QPointF)), <span class="keyword">this</span>, SLOT(tryAddPointToPolygon(<span class="keywordtype">int</span>,QPointF)));
    connect(<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;widget, SIGNAL(newPointFSelected(<span class="keywordtype">int</span>, QPointF)), <span class="keyword">this</span>, SLOT(<a class="code" href="classDistortionWidget.html#a987ab5001cdd1bd31591b453f5308a32">tryAddPoint</a>(<span class="keywordtype">int</span>, QPointF)));
    connect(<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;widget, SIGNAL(existedPointSelected(<span class="keywordtype">int</span>, QPointF)), <span class="keyword">this</span>, SLOT(<a class="code" href="classDistortionWidget.html#a58deb6480e2af09b12b5faae9c258676">initExistingPoint</a>(<span class="keywordtype">int</span>,QPointF)));
    connect(<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;widget, SIGNAL(<a class="code" href="classDistortionWidget.html#a7977583220451f123886327a5b24d930">editPoint</a>(QPointF, QPointF)), <span class="keyword">this</span>, SLOT(<a class="code" href="classDistortionWidget.html#a7977583220451f123886327a5b24d930">editPoint</a>(QPointF,QPointF)));

    connect(<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;pointsTableWidget, SIGNAL(cellDoubleClicked(<span class="keywordtype">int</span>,<span class="keywordtype">int</span>)), <span class="keyword">this</span>, SLOT(<a class="code" href="classDistortionWidget.html#a9788089954e930460b2b84f4021641be">choosePoint</a>(<span class="keywordtype">int</span>,<span class="keywordtype">int</span>)));
    connect(<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;recalculateButton,      SIGNAL(released()), <span class="keyword">this</span>, SLOT(<a class="code" href="classDistortionWidget.html#abc0b1c06bd5aff2d12de71bec8e28558">initTransform</a>()));
    connect(<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;resetButton,            SIGNAL(released()), <span class="keyword">this</span>, SLOT(<a class="code" href="classDistortionWidget.html#a2555c0af89ba468f08bdc1996acd4779">resetParameters</a>()));
    connect(<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;setParamsButton,        SIGNAL(released()), <span class="keyword">this</span>, SLOT(<a class="code" href="classDistortionWidget.html#a81bfb1c7be110f2f88a9e5afa675f59c">setParams</a>()));
    connect(<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;saveButton,             SIGNAL(released()), <span class="keyword">this</span>, SLOT(<a class="code" href="classDistortionWidget.html#a5d7c0943e9e96416516e2940717730a4">addVector</a>()));
    connect(<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;cornerDetectorButton,   SIGNAL(released()), <span class="keyword">this</span>, SLOT(<a class="code" href="classDistortionWidget.html#a8f45fe404d6d77b574f7f2e94fdbb04e" title="Distortion reconstruction with 3D template.">detectCorners</a>()));
    connect(<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;updateScoreButton,      SIGNAL(released()), <span class="keyword">this</span>, SLOT(<a class="code" href="classDistortionWidget.html#a1f91c72ac0fb5b47dc766f8f850c8bd9">updateScore</a>()));
    connect(<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;deleteButton,           SIGNAL(released()), <span class="keyword">this</span>, SLOT(<a class="code" href="classDistortionWidget.html#a6796887461341fbd45081f0bcea3519b">deletePointPair</a>()));
    <a class="code" href="classDistortionWidget.html#a27f745d1c54618dd7bd0b3c7f8eae812">mDistortionParameters</a> = <span class="keyword">new</span> <a class="code" href="classDistortionParameters.html">DistortionParameters</a>();

    <span class="comment">/* Additional subwidgets */</span>
    connect(<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;graphButton, SIGNAL(released()), &amp;<a class="code" href="classDistortionWidget.html#a1cb8aceee93b2f34804de153ecdb2186">mGraphDialog</a>, SLOT(show()));
    connect(<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;levelGraphButton, SIGNAL(released()), &amp;<a class="code" href="classDistortionWidget.html#a364dbb9776b0ae2e9a1a596716043ded">mLevelGraphDialog</a>, SLOT(show()));

    connect(<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;addPowerButton, SIGNAL(released()), <span class="keyword">this</span>, SLOT(<a class="code" href="classDistortionWidget.html#acd0a6baf382ed08a2e57de62b82bb5ce">addPower</a>()));
    connect(<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;delPowerButton, SIGNAL(released()), <span class="keyword">this</span>, SLOT(<a class="code" href="classDistortionWidget.html#a463f43ca659f3be87b5e8272595b2a9f">delPower</a>()));

    <a class="code" href="classDistortionWidget.html#a762c42384a71b91391fb7e010e625719">loadPoints</a>();
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classDistortionWidget_a7148efd44fa4c805f0d42fec375a7870_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5cac093df25894d1c3c0abd71aba2f49"></a><!-- doxytag: member="DistortionWidget::~DistortionWidget" ref="a5cac093df25894d1c3c0abd71aba2f49" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDistortionWidget.html#a5cac093df25894d1c3c0abd71aba2f49">DistortionWidget::~DistortionWidget</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8cpp_source.html#l00077">77</a> of file <a class="el" href="distortionWidget_8cpp_source.html">distortionWidget.cpp</a>.</p>

<p>References <a class="el" href="distortionWidget_8h_source.html#l00033">mBufferInput</a>, <a class="el" href="distortionWidget_8h_source.html#l00034">mBufferWithCorners</a>, <a class="el" href="distortionWidget_8h_source.html#l00053">mDistortionCorrectTransform</a>, <a class="el" href="distortionWidget_8h_source.html#l00041">mDistortionParameters</a>, <a class="el" href="distortionWidget_8h_source.html#l00056">mResult</a>, <a class="el" href="distortionWidget_8h_source.html#l00096">mUi</a>, and <a class="el" href="distortionWidget_8cpp_source.html#l00701">savePoints()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classDistortionWidget.html#aaf0d0497e8456730e85fd213731efd75" title="Saving/loading state.">savePoints</a>();

    <a class="code" href="classDistortionWidget.html#a2b71fdbbc0244dc678f9380999d62cd7">mDistortionCorrectTransform</a>.clear();
    delete_safe(<a class="code" href="classDistortionWidget.html#a7aea0d80bb82595b1bf094f2e3abde9d">mResult</a>);
    delete_safe(<a class="code" href="classDistortionWidget.html#a27f745d1c54618dd7bd0b3c7f8eae812">mDistortionParameters</a>);
    delete_safe(<a class="code" href="classDistortionWidget.html#a5a607146f02837871f86b997107954eb">mBufferWithCorners</a>);
    delete_safe(<a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>);
    delete_safe(<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classDistortionWidget_a5cac093df25894d1c3c0abd71aba2f49_cgraph.svg" width="515" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="abe7f163ecb22928af447159edf53ab5a"></a><!-- doxytag: member="DistortionWidget::addPointPair" ref="abe7f163ecb22928af447159edf53ab5a" args="(const Vector3dd &amp;spacePoint, const Vector2dd &amp;imagePoint)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDistortionWidget.html#abe7f163ecb22928af447159edf53ab5a">DistortionWidget::addPointPair</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacecorecvs.html#a8c6504d3d8b574bfb908b9fe5a7a3974">Vector3dd</a> &amp;&#160;</td>
          <td class="paramname"><em>spacePoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;&#160;</td>
          <td class="paramname"><em>imagePoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8cpp_source.html#l00485">485</a> of file <a class="el" href="distortionWidget_8cpp_source.html">distortionWidget.cpp</a>.</p>

<p>References <a class="el" href="distortionWidget_8cpp_source.html#l00023">EPSILON</a>, <a class="el" href="distortionWidget_8h_source.html#l00037">mCorrectionMap</a>, <a class="el" href="distortionWidget_8h_source.html#l00096">mUi</a>, and <a class="el" href="distortionWidget_8cpp_source.html#l00455">printVectorPair()</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00203">addVector()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00148">detectCorners()</a>, and <a class="el" href="distortionWidget_8cpp_source.html#l00733">loadPoints()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">unsigned</span> i = 0;
    <span class="keywordflow">while</span> (i &lt; <a class="code" href="classDistortionWidget.html#a54d23086220f5852603022babb7423c8">mCorrectionMap</a>.size())
    {
        <span class="keywordflow">if</span> ((<a class="code" href="classDistortionWidget.html#a54d23086220f5852603022babb7423c8">mCorrectionMap</a>.at(i).second - value).l2Metric() &lt; <a class="code" href="distortionWidget_8cpp.html#a596344e5a2992d2beec43b76a6294de0">EPSILON</a>)
        {
            <a class="code" href="classDistortionWidget.html#a54d23086220f5852603022babb7423c8">mCorrectionMap</a>.erase(<a class="code" href="classDistortionWidget.html#a54d23086220f5852603022babb7423c8">mCorrectionMap</a>.begin() + i);
        } <span class="keywordflow">else</span> {
            i ++;
        }
    }
    <a class="code" href="classDistortionWidget.html#a54d23086220f5852603022babb7423c8">mCorrectionMap</a>.push_back(QPair&lt;Vector3dd,Vector2dd&gt;(key, value));

    <a class="code" href="classDistortionWidget.html#ac3994ee1565dbdee8d23e08367355774">printVectorPair</a>(key, value);

    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;widget-&gt;addVertex(value);

}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classDistortionWidget_abe7f163ecb22928af447159edf53ab5a_cgraph.svg" width="100%" height="230"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="acd0a6baf382ed08a2e57de62b82bb5ce"></a><!-- doxytag: member="DistortionWidget::addPower" ref="acd0a6baf382ed08a2e57de62b82bb5ce" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDistortionWidget.html#acd0a6baf382ed08a2e57de62b82bb5ce">DistortionWidget::addPower</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private, slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8cpp_source.html#l00684">684</a> of file <a class="el" href="distortionWidget_8cpp_source.html">distortionWidget.cpp</a>.</p>

<p>References <a class="el" href="distortionWidget_8h_source.html#l00096">mUi</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00025">DistortionWidget()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">int</span> newRow = <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;koefTableWidget-&gt;rowCount() + 1;
    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;koefTableWidget-&gt;setRowCount(newRow);
    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;koefTableWidget-&gt;setColumnCount(2);
    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;koefTableWidget-&gt;setItem(newRow - 1, 0, <span class="keyword">new</span> QTableWidgetItem(QString(<span class="stringliteral">&quot;x^%1&quot;</span>).arg(newRow)));
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5d7c0943e9e96416516e2940717730a4"></a><!-- doxytag: member="DistortionWidget::addVector" ref="a5d7c0943e9e96416516e2940717730a4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDistortionWidget.html#a5d7c0943e9e96416516e2940717730a4">DistortionWidget::addVector</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private, slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8cpp_source.html#l00203">203</a> of file <a class="el" href="distortionWidget_8cpp_source.html">distortionWidget.cpp</a>.</p>

<p>References <a class="el" href="distortionWidget_8cpp_source.html#l00485">addPointPair()</a>, and <a class="el" href="distortionWidget_8h_source.html#l00096">mUi</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00025">DistortionWidget()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classcorecvs_1_1Vector3d.html">Vector3dd</a> key(<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;xCoordSpinBox-&gt;value(), <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;yCoordSpinBox-&gt;value(), <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;zCoordSpinBox-&gt;value());
    <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> value(<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;imageXSpinBox-&gt;value(), <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;imageYSpinBox-&gt;value());
    <a class="code" href="classDistortionWidget.html#abe7f163ecb22928af447159edf53ab5a">addPointPair</a>(key, value);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classDistortionWidget_a5d7c0943e9e96416516e2940717730a4_cgraph.svg" width="100%" height="230"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9788089954e930460b2b84f4021641be"></a><!-- doxytag: member="DistortionWidget::choosePoint" ref="a9788089954e930460b2b84f4021641be" args="(int row, int column)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDistortionWidget.html#a9788089954e930460b2b84f4021641be">DistortionWidget::choosePoint</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>column</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private, slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8cpp_source.html#l00505">505</a> of file <a class="el" href="distortionWidget_8cpp_source.html">distortionWidget.cpp</a>.</p>

<p>References <a class="el" href="distortionWidget_8h_source.html#l00096">mUi</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00025">DistortionWidget()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00556">editPoint()</a>, and <a class="el" href="distortionWidget_8cpp_source.html#l00176">initExistingPoint()</a>.</p>
<div class="fragment"><pre class="fragment">{
    QTableWidget *table = <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;pointsTableWidget;

    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; table-&gt;rowCount(); i ++)
    {
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; table-&gt;columnCount(); j ++)
        {
            table-&gt;item(i, j)-&gt;setBackgroundColor(Qt::color0);
        }
    }
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; table-&gt;columnCount(); i ++)
    {
        table-&gt;item(row, i)-&gt;setBackgroundColor(Qt::yellow);
    }
    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;imageXSpinBox-&gt;setValue(table-&gt;item(row, 3)-&gt;text().toDouble());
    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;imageYSpinBox-&gt;setValue(table-&gt;item(row, 4)-&gt;text().toDouble());
    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;xCoordSpinBox-&gt;setValue(table-&gt;item(row, 0)-&gt;text().toDouble());
    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;yCoordSpinBox-&gt;setValue(table-&gt;item(row, 1)-&gt;text().toDouble());
    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;zCoordSpinBox-&gt;setValue(table-&gt;item(row, 2)-&gt;text().toDouble());
    <span class="comment">//ui-&gt;widget-&gt;setCurrentPoint(QPointF(ui-&gt;dsbImageX-&gt;value(), ui-&gt;dsbImageY-&gt;value()));</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0982e5f3f97f2981bc05f8c647a4d160"></a><!-- doxytag: member="DistortionWidget::clearParameters" ref="a0982e5f3f97f2981bc05f8c647a4d160" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDistortionWidget.html#a0982e5f3f97f2981bc05f8c647a4d160">DistortionWidget::clearParameters</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8cpp_source.html#l00122">122</a> of file <a class="el" href="distortionWidget_8cpp_source.html">distortionWidget.cpp</a>.</p>

<p>References <a class="el" href="distortionWidget_8h_source.html#l00037">mCorrectionMap</a>, <a class="el" href="distortionWidget_8h_source.html#l00041">mDistortionParameters</a>, and <a class="el" href="distortionWidget_8h_source.html#l00096">mUi</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00067">resetParameters()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;widget-&gt;clear();

<span class="comment">//    mNewStraight.clear();</span>
<span class="comment">//    mStraights.clear();</span>
    <a class="code" href="classDistortionWidget.html#a54d23086220f5852603022babb7423c8">mCorrectionMap</a>.clear();
    <span class="keywordtype">int</span> row = <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;pointsTableWidget-&gt;rowCount();
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; row; i ++)
    {
        <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;pointsTableWidget-&gt;removeRow(0);
    }

    <span class="keyword">delete</span> <a class="code" href="classDistortionWidget.html#a27f745d1c54618dd7bd0b3c7f8eae812">mDistortionParameters</a>;
    <a class="code" href="classDistortionWidget.html#a27f745d1c54618dd7bd0b3c7f8eae812">mDistortionParameters</a> = <span class="keyword">new</span> <a class="code" href="classDistortionParameters.html">DistortionParameters</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6796887461341fbd45081f0bcea3519b"></a><!-- doxytag: member="DistortionWidget::deletePointPair" ref="a6796887461341fbd45081f0bcea3519b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDistortionWidget.html#a6796887461341fbd45081f0bcea3519b">DistortionWidget::deletePointPair</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private, slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8cpp_source.html#l00528">528</a> of file <a class="el" href="distortionWidget_8cpp_source.html">distortionWidget.cpp</a>.</p>

<p>References <a class="el" href="distortionWidget_8cpp_source.html#l00023">EPSILON</a>, <a class="el" href="distortionWidget_8h_source.html#l00037">mCorrectionMap</a>, and <a class="el" href="distortionWidget_8h_source.html#l00096">mUi</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00025">DistortionWidget()</a>.</p>
<div class="fragment"><pre class="fragment">{
    QTableWidget *table = <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;pointsTableWidget;
    <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> value(<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;imageXSpinBox-&gt;value(), <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;imageYSpinBox-&gt;value());
    <span class="keywordtype">unsigned</span> i = 0;
    <span class="keywordflow">while</span> (i &lt; <a class="code" href="classDistortionWidget.html#a54d23086220f5852603022babb7423c8">mCorrectionMap</a>.size())
    {
        <span class="keywordflow">if</span> ((<a class="code" href="classDistortionWidget.html#a54d23086220f5852603022babb7423c8">mCorrectionMap</a>.at(i).second - value).l2Metric() &lt; <a class="code" href="distortionWidget_8cpp.html#a596344e5a2992d2beec43b76a6294de0">EPSILON</a>)
        {
            <a class="code" href="classDistortionWidget.html#a54d23086220f5852603022babb7423c8">mCorrectionMap</a>.erase(<a class="code" href="classDistortionWidget.html#a54d23086220f5852603022babb7423c8">mCorrectionMap</a>.begin() + i);
        } <span class="keywordflow">else</span> {
            i ++;
        }
    }

    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; table-&gt;rowCount(); i ++)
    {
        <span class="keywordflow">if</span> (table-&gt;item(i, 3)-&gt;text().toDouble() == value.x() &amp;&amp;
            table-&gt;item(i, 4)-&gt;text().toDouble() == value.y())
        {
            table-&gt;removeRow(i);
            <span class="keywordflow">break</span>;
        }
    }
    <span class="comment">// TODO: PaintFeature</span>
    <span class="comment">// ui-&gt;widget-&gt;deletePoint(QPointF(value.x(), value.y()));</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="a463f43ca659f3be87b5e8272595b2a9f"></a><!-- doxytag: member="DistortionWidget::delPower" ref="a463f43ca659f3be87b5e8272595b2a9f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDistortionWidget.html#a463f43ca659f3be87b5e8272595b2a9f">DistortionWidget::delPower</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private, slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8cpp_source.html#l00692">692</a> of file <a class="el" href="distortionWidget_8cpp_source.html">distortionWidget.cpp</a>.</p>

<p>References <a class="el" href="distortionWidget_8h_source.html#l00096">mUi</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00025">DistortionWidget()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;koefTableWidget-&gt;setRowCount(<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;koefTableWidget-&gt;rowCount() - 1);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8f45fe404d6d77b574f7f2e94fdbb04e"></a><!-- doxytag: member="DistortionWidget::detectCorners" ref="a8f45fe404d6d77b574f7f2e94fdbb04e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDistortionWidget.html#a8f45fe404d6d77b574f7f2e94fdbb04e">DistortionWidget::detectCorners</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private, slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Distortion reconstruction with 3D template. </p>
<p>Using corner detector as a helper </p>

<p>Definition at line <a class="el" href="distortionWidget_8cpp_source.html#l00148">148</a> of file <a class="el" href="distortionWidget_8cpp_source.html">distortionWidget.cpp</a>.</p>

<p>References <a class="el" href="distortionWidget_8cpp_source.html#l00485">addPointPair()</a>, <a class="el" href="spatialGradient_8cpp_source.html#l00043">corecvs::SpatialGradient::findCornerPoints()</a>, <a class="el" href="segmentator_8h_source.html#l00284">corecvs::CornerSegment::getMean()</a>, <a class="el" href="distortionWidget_8h_source.html#l00033">mBufferInput</a>, <a class="el" href="distortionWidget_8h_source.html#l00034">mBufferWithCorners</a>, <a class="el" href="distortionWidget_8h_source.html#l00056">mResult</a>, <a class="el" href="distortionWidget_8h_source.html#l00096">mUi</a>, and <a class="el" href="segmentator_8h_source.html#l00160">corecvs::Segmentator&lt; ThisType, SegmentType &gt;::segment()</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00025">DistortionWidget()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span>(<a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a> == NULL) {
        <span class="keywordflow">return</span>;
    }
    <a class="code" href="classcorecvs_1_1SpatialGradient.html" title="This class holds the spatial gradient matrix square elements.">SpatialGradient</a> *grad = <span class="keyword">new</span> <a class="code" href="classcorecvs_1_1SpatialGradient.html" title="This class holds the spatial gradient matrix square elements.">SpatialGradient</a>(<a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>);

    <span class="keyword">delete</span> <a class="code" href="classDistortionWidget.html#a5a607146f02837871f86b997107954eb">mBufferWithCorners</a>;
    <a class="code" href="classDistortionWidget.html#a5a607146f02837871f86b997107954eb">mBufferWithCorners</a> = grad-&gt;<a class="code" href="classcorecvs_1_1SpatialGradient.html#adcf1483d0b6c36500a5e7d6f8361f316">findCornerPoints</a>(<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;lambdaDivisorBox-&gt;value());
    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;bufferSelectorBox-&gt;setCurrentIndex(1);

    <a class="code" href="classcorecvs_1_1CornerSegmentator.html">CornerSegmentator</a> segmentator(<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;cornerThresholdBox-&gt;value());
    <a class="code" href="classDistortionWidget.html#a7aea0d80bb82595b1bf094f2e3abde9d">mResult</a> = segmentator.<a class="code" href="classcorecvs_1_1Segmentator.html#a75082d72fa057adfd0702143e39fc98f">segment</a>&lt;<a class="code" href="classcorecvs_1_1G12Buffer.html" title="TODO: Add consts where it should go.">G12Buffer</a>&gt;(<a class="code" href="classDistortionWidget.html#a5a607146f02837871f86b997107954eb">mBufferWithCorners</a>);
    <span class="keywordflow">foreach</span> (<a class="code" href="classcorecvs_1_1CornerSegment.html">CornerSegment</a> *cornerSegment, *mResult-&gt;segments)
    {
        <a class="code" href="classDistortionWidget.html#abe7f163ecb22928af447159edf53ab5a">addPointPair</a>(<a class="code" href="namespacecorecvs.html#a8c6504d3d8b574bfb908b9fe5a7a3974">Vector3dd</a>(), cornerSegment-&gt;<a class="code" href="classcorecvs_1_1CornerSegment.html#a333f97137ca4902783b34af30ce0e2dd">getMean</a>());
    }
    delete_safe(grad);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classDistortionWidget_a8f45fe404d6d77b574f7f2e94fdbb04e_cgraph.svg" width="100%" height="350"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a79577eb6f6044f9a7c6f4b3bfcb83aae"></a><!-- doxytag: member="DistortionWidget::distortionCorrectionTransform" ref="a79577eb6f6044f9a7c6f4b3bfcb83aae" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QSharedPointer&lt; <a class="el" href="classcorecvs_1_1DisplacementBuffer.html">DisplacementBuffer</a> &gt; <a class="el" href="classDistortionWidget.html#a79577eb6f6044f9a7c6f4b3bfcb83aae">DistortionWidget::distortionCorrectionTransform</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8cpp_source.html#l00400">400</a> of file <a class="el" href="distortionWidget_8cpp_source.html">distortionWidget.cpp</a>.</p>

<p>References <a class="el" href="distortionWidget_8h_source.html#l00053">mDistortionCorrectTransform</a>.</p>

<p>Referenced by <a class="el" href="baseHostDialog_8cpp_source.html#l00284">BaseHostDialog::distortionEstimationFinished()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="classDistortionWidget.html#a2b71fdbbc0244dc678f9380999d62cd7">mDistortionCorrectTransform</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab992ca12e76f4269a7aec54c405cde78"></a><!-- doxytag: member="DistortionWidget::doDefaultTransform" ref="ab992ca12e76f4269a7aec54c405cde78" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDistortionWidget.html#ab992ca12e76f4269a7aec54c405cde78">DistortionWidget::doDefaultTransform</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8cpp_source.html#l00584">584</a> of file <a class="el" href="distortionWidget_8cpp_source.html">distortionWidget.cpp</a>.</p>

<p>References <a class="el" href="global_8h_source.html#l00017">CORE_COUNT_OF</a>, <a class="el" href="abstractBuffer_8h_source.html#l00127">corecvs::AbstractBufferParams::h</a>, <a class="el" href="distortionWidget_8h_source.html#l00033">mBufferInput</a>, <a class="el" href="distortionWidget_8h_source.html#l00053">mDistortionCorrectTransform</a>, and <a class="el" href="abstractBuffer_8h_source.html#l00128">corecvs::AbstractBufferParams::w</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00097">initTransform()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">const</span> <span class="keywordtype">double</span> scale = 1.05;
    <span class="keyword">const</span> <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a>  center(<a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a7ff3d372b9a613e451a379a4427e2623">w</a> * 0.5, <a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a88e969182e3f07bb3600de841b409e9b">h</a> * 0.5);
    <span class="keyword">const</span> <span class="keywordtype">double</span> k = 1024.0 / <a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a88e969182e3f07bb3600de841b409e9b">h</a>; <span class="comment">//params for ueyecameras</span>
    <span class="keyword">const</span> <span class="keywordtype">double</span> params[] = {
            0.000657414 * k,
           -6.97987e-05 * k * k,
             7.9655e-07 * pow(k, 3),
             -4.318e-09 * pow(k, 4),
            1.33988e-11 * pow(k, 5),
           -2.50562e-14 * pow(k, 6),
            2.79465e-17 * pow(k, 7),
           -1.71374e-20 * pow(k, 8),
             4.4494e-24 * pow(k, 9)};
    vector&lt;double&gt; straightParams(params, params + <a class="code" href="global_8h.html#adf7f0f5c34dedd7cc1eca0f7c55a73d2">CORE_COUNT_OF</a>(params));
    <a class="code" href="classcorecvs_1_1LensCorrectionParametres.html" title="This structure holds the parameters to correct the image.">LensCorrectionParametres</a> lenCorrectionParams(straightParams, 0, 0, <span class="comment">/*p1, p2,*/</span> scale, 200.0,  center);
    <a class="code" href="classcorecvs_1_1RadialCorrection.html">RadialCorrection</a> radCorrection(lenCorrectionParams);
    <a class="code" href="classDistortionWidget.html#a2b71fdbbc0244dc678f9380999d62cd7">mDistortionCorrectTransform</a> = QSharedPointer&lt;DisplacementBuffer&gt;(
            <span class="keyword">new</span> <a class="code" href="classcorecvs_1_1DisplacementBuffer.html" title="This buffer stores a buffer deformation - a shift of the buffer pixels.">DisplacementBuffer</a>(&amp;radCorrection, <a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a88e969182e3f07bb3600de841b409e9b">h</a>, <a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a7ff3d372b9a613e451a379a4427e2623">w</a>, <span class="keyword">true</span>)
    );
}
</pre></div>
</div>
</div>
<a class="anchor" id="acc4920eb6035c486c50914f270324921"></a><!-- doxytag: member="DistortionWidget::doInversionTransform" ref="acc4920eb6035c486c50914f270324921" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDistortionWidget.html#acc4920eb6035c486c50914f270324921">DistortionWidget::doInversionTransform</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Correction by Maria Osechkina's algorithm. </p>

<p>Definition at line <a class="el" href="distortionWidget_8cpp_source.html#l00247">247</a> of file <a class="el" href="distortionWidget_8cpp_source.html">distortionWidget.cpp</a>.</p>

<p>References <a class="el" href="distortionParameters_8h_source.html#l00026">DistortionParameters::getPoints()</a>, <a class="el" href="distortionParameters_8h_source.html#l00047">DistortionParameters::getRadius()</a>, <a class="el" href="distortionParameters_8h_source.html#l00051">DistortionParameters::getScale()</a>, <a class="el" href="abstractBuffer_8h_source.html#l00127">corecvs::AbstractBufferParams::h</a>, <a class="el" href="distortionWidget_8h_source.html#l00033">mBufferInput</a>, <a class="el" href="distortionWidget_8h_source.html#l00053">mDistortionCorrectTransform</a>, <a class="el" href="distortionWidget_8h_source.html#l00041">mDistortionParameters</a>, <a class="el" href="distortionWidget_8h_source.html#l00096">mUi</a>, <a class="el" href="distortionParameters_8h_source.html#l00043">DistortionParameters::needCalculateParams()</a>, <a class="el" href="distortionCorrectTransform_8h_source.html#l00060">corecvs::DistortionCorrectTransform::setRadius()</a>, and <a class="el" href="abstractBuffer_8h_source.html#l00128">corecvs::AbstractBufferParams::w</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00097">initTransform()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> centre(<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;widget-&gt;mImage.data()-&gt;width() * 0.5, <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;widget-&gt;mImage.data()-&gt;height() * 0.5);
    vector&lt;Vector2dd&gt; points = <a class="code" href="classDistortionWidget.html#a27f745d1c54618dd7bd0b3c7f8eae812">mDistortionParameters</a>-&gt;<a class="code" href="classDistortionParameters.html#a2cdede0f316211158acbf1049331eb22">getPoints</a>();

    <a class="code" href="classcorecvs_1_1DistortionCorrectTransform.html">DistortionCorrectTransform</a> *transform = <span class="keyword">new</span> <a class="code" href="classcorecvs_1_1DistortionCorrectTransform.html">DistortionCorrectTransform</a>(centre);
    <span class="keywordflow">if</span> (points.size() &lt; 3 || !<a class="code" href="classDistortionWidget.html#a27f745d1c54618dd7bd0b3c7f8eae812">mDistortionParameters</a>-&gt;<a class="code" href="classDistortionParameters.html#ab0d1b0f3633e91b5f35b551658848f66">needCalculateParams</a>())
    {
        <span class="keyword">delete</span> transform;
        transform = <span class="keyword">new</span> <a class="code" href="classcorecvs_1_1DistortionCorrectTransform.html">DistortionCorrectTransform</a>(
            centre,
            <a class="code" href="classDistortionWidget.html#a27f745d1c54618dd7bd0b3c7f8eae812">mDistortionParameters</a>-&gt;<a class="code" href="classDistortionParameters.html#a897b81056139d8ae045c12acb96380ed">getRadius</a>(),
            <a class="code" href="classDistortionWidget.html#a27f745d1c54618dd7bd0b3c7f8eae812">mDistortionParameters</a>-&gt;<a class="code" href="classDistortionParameters.html#aefdd4889879195b0a6137e66b1953347">getScale</a>());
    }
    <span class="keywordflow">else</span>
    {
        transform-&gt;<a class="code" href="classcorecvs_1_1DistortionCorrectTransform.html#abd621eb01799cb4ccbaac07dcd5e7c43">setRadius</a>(points.at(0), points.at(1), points.at(2));
    }

    <a class="code" href="classDistortionWidget.html#a2b71fdbbc0244dc678f9380999d62cd7">mDistortionCorrectTransform</a> = QSharedPointer&lt;DisplacementBuffer&gt;(
            <span class="keyword">new</span> <a class="code" href="classcorecvs_1_1DisplacementBuffer.html" title="This buffer stores a buffer deformation - a shift of the buffer pixels.">DisplacementBuffer</a>(transform, <a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a88e969182e3f07bb3600de841b409e9b">h</a>, <a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a7ff3d372b9a613e451a379a4427e2623">w</a>)
    );
    delete_safe(transform);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classDistortionWidget_acc4920eb6035c486c50914f270324921_cgraph.svg" width="100%" height="310"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="adac1a0f5ac124afc61c11cc10374b210"></a><!-- doxytag: member="DistortionWidget::doLinesTransform" ref="adac1a0f5ac124afc61c11cc10374b210" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDistortionWidget.html#adac1a0f5ac124afc61c11cc10374b210">DistortionWidget::doLinesTransform</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Correction by algorithm of straight. </p>

<p>Definition at line <a class="el" href="distortionWidget_8cpp_source.html#l00275">275</a> of file <a class="el" href="distortionWidget_8cpp_source.html">distortionWidget.cpp</a>.</p>

<p>References <a class="el" href="math_2levenmarq_8h_source.html#l00026">corecvs::LevenbergMarquardt::f</a>, <a class="el" href="math_2levenmarq_8cpp_source.html#l00022">corecvs::LevenbergMarquardt::fit()</a>, <a class="el" href="paintImageWidget_8cpp_source.html#l00350">PaintImageWidget::getPaths()</a>, <a class="el" href="abstractBuffer_8h_source.html#l00127">corecvs::AbstractBufferParams::h</a>, <a class="el" href="vectorOperations_8h_source.html#l00383">corecvs::VectorOperationsBase&lt; RealType, ElementType &gt;::l2Metric()</a>, <a class="el" href="log_8h_source.html#l00034">L_INFO_P</a>, <a class="el" href="distortionWidget_8h_source.html#l00033">mBufferInput</a>, <a class="el" href="distortionWidget_8h_source.html#l00053">mDistortionCorrectTransform</a>, <a class="el" href="distortionWidget_8h_source.html#l00052">mLinesRadialCoorection</a>, <a class="el" href="distortionWidget_8h_source.html#l00096">mUi</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00642">updateAdditionalData()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00337">updateScore()</a>, and <a class="el" href="abstractBuffer_8h_source.html#l00128">corecvs::AbstractBufferParams::w</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00097">initTransform()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">double</span> scale = <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;lineScaleSpinBox-&gt;value();
    qDebug() &lt;&lt; <span class="stringliteral">&quot;doLinesTransform: aspectCorrection = &quot;</span>&lt;&lt; scale;

    <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> center(<a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a7ff3d372b9a613e451a379a4427e2623">w</a> / 2.0, <a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a88e969182e3f07bb3600de841b409e9b">h</a> /2.0);

    <a class="code" href="classPaintImageWidget.html">PaintImageWidget</a> *editor = <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;widget;
    vector&lt;vector&lt;Vector2dd&gt; &gt; straights = editor-&gt;<a class="code" href="classPaintImageWidget.html#a422346b5a780cc350796cb6c1cb3d3cb">getPaths</a>();
    <a class="code" href="log_8h.html#aff28a71db681e4409315ac040e75275f">L_INFO_P</a>(<span class="stringliteral">&quot;Starting distortion calibration on %d lines&quot;</span>, straights.size());

    <a class="code" href="classcorecvs_1_1RadialCorrection.html">RadialCorrection</a> correction(<a class="code" href="align__nonlinear_8h.html#a52770e9002472ac65b3563ecca58455b" title="This structure holds the parameters to correct the image.">LensCorrectionParametres</a>(
       vector&lt;double&gt;(<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;degreeSpinBox-&gt;value()),
       0.0, 0.0,
       1.0,
       center.l2Metric(),
       center
    ));

    <a class="code" href="classcorecvs_1_1ModelToRadialCorrection.html">ModelToRadialCorrection</a> modelFactory(
        correction,
        <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;estimateCenterCheckBox-&gt;isChecked(),
        <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;estimateTangentCheckBox-&gt;isChecked(),
        <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;degreeSpinBox-&gt;value()
    );

    <a class="code" href="classcorecvs_1_1FunctionArgs.html" title="This class is a virtual version of a .">FunctionArgs</a> *costFuntion = NULL;
    <span class="keywordflow">if</span> (<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;costFunctionComboBox-&gt;currentIndex() == 0) {
        costFuntion = <span class="keyword">new</span> <a class="code" href="classcorecvs_1_1AnglePointsFunction.html" title="This class describes the cost function that shows how a set of lines differ from the model...">AnglePointsFunction</a> (straights, modelFactory);
        <span class="comment">//straightF.simpleJacobian = mUi-&gt;simpleJacobianCheckBox-&gt;isChecked();</span>
    } <span class="keywordflow">else</span> {
        costFuntion = <span class="keyword">new</span> <a class="code" href="classcorecvs_1_1DistPointsFunction.html" title="This class describes the cost function that shows how a set of lines differ from the model...">DistPointsFunction</a>  (straights, modelFactory);
    }

    <a class="code" href="classcorecvs_1_1LevenbergMarquardt.html">LevenbergMarquardt</a> straightLevMarq(<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;iterationsSpinBox-&gt;value(), 2, 1.5);
    straightLevMarq.f = costFuntion;

    <span class="comment">/* First aproximation is zero vector */</span>
    vector&lt;double&gt; first(costFuntion-&gt;inputs, 0);
    modelFactory.getModel(correction, &amp;first[0]);

    vector&lt;double&gt; value(costFuntion-&gt;outputs, 0);
    vector&lt;double&gt; straightParams = straightLevMarq.fit(first, value);

    <a class="code" href="classDistortionWidget.html#ab38e12d9b8ddab07752c2ab2d9bf4843">mLinesRadialCoorection</a> = modelFactory.getRadial(&amp;straightParams[0]);

    <a class="code" href="log_8h.html#aff28a71db681e4409315ac040e75275f">L_INFO_P</a>(<span class="stringliteral">&quot;Inverting the distortion buffer&quot;</span>);

   <a class="code" href="classDistortionWidget.html#a2b71fdbbc0244dc678f9380999d62cd7">mDistortionCorrectTransform</a> = QSharedPointer&lt;DisplacementBuffer&gt;(DisplacementBuffer::CacheInverse(&amp;<a class="code" href="classDistortionWidget.html#ab38e12d9b8ddab07752c2ab2d9bf4843">mLinesRadialCoorection</a>,
            <a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a88e969182e3f07bb3600de841b409e9b">h</a>, <a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a7ff3d372b9a613e451a379a4427e2623">w</a>,
            0.0,0.0,
            (<span class="keywordtype">double</span>)<a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a7ff3d372b9a613e451a379a4427e2623">w</a>, (<span class="keywordtype">double</span>)<a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a88e969182e3f07bb3600de841b409e9b">h</a>,
            0.5, <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;preciseInvertionCheckBox-&gt;isChecked())
   );

    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;isInverseCheckBox-&gt;setChecked(<span class="keyword">true</span>);
    <a class="code" href="classDistortionWidget.html#ad22920d93b2d23677fc3c5960945eada">updateAdditionalData</a>();
    <a class="code" href="log_8h.html#aff28a71db681e4409315ac040e75275f">L_INFO_P</a>(<span class="stringliteral">&quot;Ending distortion calibration&quot;</span>);
    <a class="code" href="classDistortionWidget.html#a1f91c72ac0fb5b47dc766f8f850c8bd9">updateScore</a>();

}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classDistortionWidget_adac1a0f5ac124afc61c11cc10374b210_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab999e924f68ea2d6e8089ca8f4717c32"></a><!-- doxytag: member="DistortionWidget::doManualTransform" ref="ab999e924f68ea2d6e8089ca8f4717c32" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDistortionWidget.html#ab999e924f68ea2d6e8089ca8f4717c32">DistortionWidget::doManualTransform</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8cpp_source.html#l00609">609</a> of file <a class="el" href="distortionWidget_8cpp_source.html">distortionWidget.cpp</a>.</p>

<p>References <a class="el" href="radialCorrection_8h_source.html#l00060">corecvs::LensCorrectionParametres::aspect</a>, <a class="el" href="radialCorrection_8h_source.html#l00063">corecvs::LensCorrectionParametres::center</a>, <a class="el" href="abstractBuffer_8h_source.html#l00127">corecvs::AbstractBufferParams::h</a>, <a class="el" href="radialCorrection_8h_source.html#l00055">corecvs::LensCorrectionParametres::koeff</a>, <a class="el" href="distortionWidget_8h_source.html#l00033">mBufferInput</a>, <a class="el" href="distortionWidget_8h_source.html#l00053">mDistortionCorrectTransform</a>, <a class="el" href="distortionWidget_8h_source.html#l00052">mLinesRadialCoorection</a>, <a class="el" href="radialCorrection_8h_source.html#l00186">corecvs::RadialCorrection::mParams</a>, <a class="el" href="distortionWidget_8h_source.html#l00096">mUi</a>, <a class="el" href="radialCorrection_8h_source.html#l00057">corecvs::LensCorrectionParametres::p1</a>, <a class="el" href="radialCorrection_8h_source.html#l00058">corecvs::LensCorrectionParametres::p2</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00642">updateAdditionalData()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00337">updateScore()</a>, <a class="el" href="abstractBuffer_8h_source.html#l00128">corecvs::AbstractBufferParams::w</a>, <a class="el" href="vector2d_8h_source.html#l00050">corecvs::Vector2d&lt; ElementType &gt;::x()</a>, and <a class="el" href="vector2d_8h_source.html#l00055">corecvs::Vector2d&lt; ElementType &gt;::y()</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00097">initTransform()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classcorecvs_1_1LensCorrectionParametres.html" title="This structure holds the parameters to correct the image.">LensCorrectionParametres</a> &amp;lensParams = <a class="code" href="classDistortionWidget.html#ab38e12d9b8ddab07752c2ab2d9bf4843">mLinesRadialCoorection</a>.<a class="code" href="classcorecvs_1_1RadialCorrection.html#a37a674a2ec28a36aeb35dedc88e2581b">mParams</a>;
    lensParams.<a class="code" href="classcorecvs_1_1LensCorrectionParametres.html#a2145b5b7c4f6c0b7587bae2aa1e90211" title="The center of the distortion .">center</a>.<a class="code" href="classcorecvs_1_1Vector2d.html#a944721c41f044c1388d9dc42ca899bce">x</a>() = <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;centerXSpinBox-&gt;value();
    lensParams.<a class="code" href="classcorecvs_1_1LensCorrectionParametres.html#a2145b5b7c4f6c0b7587bae2aa1e90211" title="The center of the distortion .">center</a>.<a class="code" href="classcorecvs_1_1Vector2d.html#ae1ea2ad4c0821001408bf963cffa8413">y</a>() = <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;centerYSpinBox-&gt;value();
    lensParams.<a class="code" href="classcorecvs_1_1LensCorrectionParametres.html#a6c1b9a82e3bde3592ffefc24884ee03c" title="First tangent correction coefficient - .">p1</a> = <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;tangential1SpinBox-&gt;value();
    lensParams.<a class="code" href="classcorecvs_1_1LensCorrectionParametres.html#aadc60a3cb91599136009b99e23f71cfe" title="Second tangent correction coefficient - .">p2</a> = <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;tangential2SpinBox-&gt;value();
    lensParams.<a class="code" href="classcorecvs_1_1LensCorrectionParametres.html#abff21985b6f6a9c8c51fd649b73960f2" title="y/x matrix ratio">aspect</a> = <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;scaleSpinBox-&gt;value();

    lensParams.<a class="code" href="classcorecvs_1_1LensCorrectionParametres.html#adaff88b76030f4d217f2f978fe056420" title="Polynom to describe radial correction.">koeff</a>.clear();
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;koefTableWidget-&gt;rowCount(); i ++) {
        QVariant value = <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;koefTableWidget-&gt;item(i, 1)-&gt;data(Qt::DisplayRole);
        <span class="keywordtype">bool</span> ok = <span class="keyword">true</span>;
        <span class="keywordtype">double</span> koef = value.toDouble(&amp;ok);
        qDebug() &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; value &lt;&lt; <span class="stringliteral">&quot;) =&quot;</span> &lt;&lt; koef &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; ok &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>;
        lensParams.<a class="code" href="classcorecvs_1_1LensCorrectionParametres.html#adaff88b76030f4d217f2f978fe056420" title="Polynom to describe radial correction.">koeff</a>.push_back(koef);
    }

    <a class="code" href="classDistortionWidget.html#ab38e12d9b8ddab07752c2ab2d9bf4843">mLinesRadialCoorection</a> = <a class="code" href="classcorecvs_1_1RadialCorrection.html">RadialCorrection</a>(lensParams);
    <span class="keywordflow">if</span> (!<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;isInverseCheckBox-&gt;isChecked()) {
        <a class="code" href="classDistortionWidget.html#a2b71fdbbc0244dc678f9380999d62cd7">mDistortionCorrectTransform</a> = QSharedPointer&lt;DisplacementBuffer&gt;(<span class="keyword">new</span> <a class="code" href="classcorecvs_1_1DisplacementBuffer.html" title="This buffer stores a buffer deformation - a shift of the buffer pixels.">DisplacementBuffer</a>(&amp;<a class="code" href="classDistortionWidget.html#ab38e12d9b8ddab07752c2ab2d9bf4843">mLinesRadialCoorection</a>, <a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a88e969182e3f07bb3600de841b409e9b">h</a>, <a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a7ff3d372b9a613e451a379a4427e2623">w</a>, <span class="keyword">true</span>));
    } <span class="keywordflow">else</span> {
        <a class="code" href="classDistortionWidget.html#a2b71fdbbc0244dc678f9380999d62cd7">mDistortionCorrectTransform</a> = QSharedPointer&lt;DisplacementBuffer&gt;(DisplacementBuffer::CacheInverse(&amp;<a class="code" href="classDistortionWidget.html#ab38e12d9b8ddab07752c2ab2d9bf4843">mLinesRadialCoorection</a>,
            <a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a88e969182e3f07bb3600de841b409e9b">h</a>, <a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a7ff3d372b9a613e451a379a4427e2623">w</a>,
            0.0,0.0,
            (<span class="keywordtype">double</span>)<a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a7ff3d372b9a613e451a379a4427e2623">w</a>, (<span class="keywordtype">double</span>)<a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a88e969182e3f07bb3600de841b409e9b">h</a>, 0.5)
        );
    }
    <a class="code" href="classDistortionWidget.html#a1f91c72ac0fb5b47dc766f8f850c8bd9">updateScore</a>();
    <a class="code" href="classDistortionWidget.html#ad22920d93b2d23677fc3c5960945eada">updateAdditionalData</a>();
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classDistortionWidget_ab999e924f68ea2d6e8089ca8f4717c32_cgraph.svg" width="100%" height="490"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0b946732bdc012178425b7c80257b8e1"></a><!-- doxytag: member="DistortionWidget::doTransformLM" ref="a0b946732bdc012178425b7c80257b8e1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDistortionWidget.html#a0b946732bdc012178425b7c80257b8e1">DistortionWidget::doTransformLM</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8cpp_source.html#l00210">210</a> of file <a class="el" href="distortionWidget_8cpp_source.html">distortionWidget.cpp</a>.</p>

<p>References <a class="el" href="global_8h_source.html#l00017">CORE_COUNT_OF</a>, <a class="el" href="math_2levenmarq_8h_source.html#l00026">corecvs::LevenbergMarquardt::f</a>, <a class="el" href="math_2levenmarq_8cpp_source.html#l00022">corecvs::LevenbergMarquardt::fit()</a>, <a class="el" href="abstractBuffer_8h_source.html#l00127">corecvs::AbstractBufferParams::h</a>, <a class="el" href="distortionWidget_8h_source.html#l00033">mBufferInput</a>, <a class="el" href="distortionWidget_8h_source.html#l00037">mCorrectionMap</a>, <a class="el" href="distortionWidget_8h_source.html#l00053">mDistortionCorrectTransform</a>, <a class="el" href="distortionWidget_8h_source.html#l00096">mUi</a>, <a class="el" href="camerasCalibrationFunc_8cpp_source.html#l00182">corecvs::CamerasCalibrationFunc::setIsDistored()</a>, and <a class="el" href="abstractBuffer_8h_source.html#l00128">corecvs::AbstractBufferParams::w</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00097">initTransform()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2d32</a> center(<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;widget-&gt;mImage.data()-&gt;width() * 0.5, <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;widget-&gt;mImage.data()-&gt;height() * 0.5);
    vector&lt;double&gt; values;
    vector&lt;Vector3dd&gt; arguments;
    <span class="keywordflow">foreach</span> (<a class="code" href="distortionWidget_8cpp.html#aad6ebad1efed086eb6a7d6932ad93431">Points</a> points, <a class="code" href="classDistortionWidget.html#a54d23086220f5852603022babb7423c8">mCorrectionMap</a>)
    {
        values.push_back(points.second.x());
        values.push_back(points.second.y());
        arguments.push_back(points.first);
    }
    <a class="code" href="classcorecvs_1_1CamerasCalibrationFunc.html">CamerasCalibrationFunc</a> func(&amp;arguments, center);
    vector&lt;double&gt; bestParams;

    <span class="keywordtype">double</span> params[] = {0, 0, 0, 0, -5.09, 11.1, -30.4, 35, 0.12, 0.04, -4.81, 14.6, -11.2, 11.2};
    vector&lt;double&gt; parameters(params, params + <a class="code" href="global_8h.html#adf7f0f5c34dedd7cc1eca0f7c55a73d2">CORE_COUNT_OF</a>(params));
    <a class="code" href="classcorecvs_1_1LevenbergMarquardt.html">LevenbergMarquardt</a> LMTransform(10000, 4, 1.2);
    LMTransform.f = &amp;func;
    func.setIsDistored(<span class="keyword">false</span>);
    bestParams = LMTransform.fit(parameters,values);
    func.setIsDistored(<span class="keyword">true</span>);
    bestParams = LMTransform.fit(bestParams, values);
    vector&lt;double&gt; polynomKoeff;
    polynomKoeff.push_back(bestParams.at(0));
    polynomKoeff.push_back(bestParams.at(1));
    <a class="code" href="classcorecvs_1_1LensCorrectionParametres.html" title="This structure holds the parameters to correct the image.">LensCorrectionParametres</a> lenCorrectParams(polynomKoeff, bestParams.at(2), bestParams.at(3), center);

    <a class="code" href="classcorecvs_1_1RadialCorrection.html">RadialCorrection</a> correction(lenCorrectParams);
    <a class="code" href="classDistortionWidget.html#a2b71fdbbc0244dc678f9380999d62cd7">mDistortionCorrectTransform</a> = QSharedPointer&lt;DisplacementBuffer&gt;(
            <span class="keyword">new</span> <a class="code" href="classcorecvs_1_1DisplacementBuffer.html" title="This buffer stores a buffer deformation - a shift of the buffer pixels.">DisplacementBuffer</a>(&amp;correction, <a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a88e969182e3f07bb3600de841b409e9b">h</a>, <a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a7ff3d372b9a613e451a379a4427e2623">w</a>, <span class="keyword">false</span>)
    );
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classDistortionWidget_a0b946732bdc012178425b7c80257b8e1_cgraph.svg" width="100%" height="308"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7977583220451f123886327a5b24d930"></a><!-- doxytag: member="DistortionWidget::editPoint" ref="a7977583220451f123886327a5b24d930" args="(QPointF const &amp;prevPoint, QPointF const &amp;newPoint)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDistortionWidget.html#a7977583220451f123886327a5b24d930">DistortionWidget::editPoint</a> </td>
          <td>(</td>
          <td class="paramtype">QPointF const &amp;&#160;</td>
          <td class="paramname"><em>prevPoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QPointF const &amp;&#160;</td>
          <td class="paramname"><em>newPoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private, slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8cpp_source.html#l00556">556</a> of file <a class="el" href="distortionWidget_8cpp_source.html">distortionWidget.cpp</a>.</p>

<p>References <a class="el" href="distortionWidget_8cpp_source.html#l00505">choosePoint()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00023">EPSILON</a>, <a class="el" href="distortionWidget_8h_source.html#l00037">mCorrectionMap</a>, and <a class="el" href="distortionWidget_8h_source.html#l00096">mUi</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00025">DistortionWidget()</a>.</p>
<div class="fragment"><pre class="fragment">{
    QTableWidget *table = <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;pointsTableWidget;
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; table-&gt;rowCount(); i ++)
    {
        QPointF tablePoint(table-&gt;item(i, 3)-&gt;text().toDouble(), table-&gt;item(i, 4)-&gt;text().toDouble());
        <span class="keywordflow">if</span> ((prevPoint - tablePoint).manhattanLength() &lt; <a class="code" href="distortionWidget_8cpp.html#a596344e5a2992d2beec43b76a6294de0">EPSILON</a>)
        {
            table-&gt;item(i, 3)-&gt;setText(QString::number(newPoint.x()));
            table-&gt;item(i, 4)-&gt;setText(QString::number(newPoint.y()));
            <a class="code" href="classDistortionWidget.html#a9788089954e930460b2b84f4021641be">choosePoint</a>(i, 0);
        }
    }
    <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> prevVector(prevPoint.x(), prevPoint.y());
    <a class="code" href="classcorecvs_1_1Vector3d.html">Vector3dd</a> spacePos(-1, -1, -1);
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="classDistortionWidget.html#a54d23086220f5852603022babb7423c8">mCorrectionMap</a>.size(); i ++)
    {
        <span class="keywordflow">if</span> ((<a class="code" href="classDistortionWidget.html#a54d23086220f5852603022babb7423c8">mCorrectionMap</a>.at(i).second - prevVector).l2Metric() &lt; <a class="code" href="distortionWidget_8cpp.html#a596344e5a2992d2beec43b76a6294de0">EPSILON</a>)
        {
            spacePos = <a class="code" href="classDistortionWidget.html#a54d23086220f5852603022babb7423c8">mCorrectionMap</a>.at(i).first;
            <a class="code" href="classDistortionWidget.html#a54d23086220f5852603022babb7423c8">mCorrectionMap</a>.erase(<a class="code" href="classDistortionWidget.html#a54d23086220f5852603022babb7423c8">mCorrectionMap</a>.begin() + i);
            <span class="keywordflow">break</span>;
        }
    }
    <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> newVector(newPoint.x(), newPoint.y());
    <a class="code" href="classDistortionWidget.html#a54d23086220f5852603022babb7423c8">mCorrectionMap</a>.push_back(<a class="code" href="distortionWidget_8cpp.html#aad6ebad1efed086eb6a7d6932ad93431">Points</a>(spacePos, newVector));
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classDistortionWidget_a7977583220451f123886327a5b24d930_cgraph.svg" width="464" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a58deb6480e2af09b12b5faae9c258676"></a><!-- doxytag: member="DistortionWidget::initExistingPoint" ref="a58deb6480e2af09b12b5faae9c258676" args="(int toolID, QPointF const &amp;point)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDistortionWidget.html#a58deb6480e2af09b12b5faae9c258676">DistortionWidget::initExistingPoint</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>toolID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QPointF const &amp;&#160;</td>
          <td class="paramname"><em>point</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private, slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8cpp_source.html#l00176">176</a> of file <a class="el" href="distortionWidget_8cpp_source.html">distortionWidget.cpp</a>.</p>

<p>References <a class="el" href="distortionWidget_8cpp_source.html#l00505">choosePoint()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00023">EPSILON</a>, and <a class="el" href="distortionWidget_8h_source.html#l00096">mUi</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00025">DistortionWidget()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (toolID != 0) {
        <span class="keywordflow">return</span>;
    }
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;pointsTableWidget-&gt;rowCount(); i ++)
    {
        QPointF tablePoint(<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;pointsTableWidget-&gt;item(i, 3)-&gt;text().toDouble(), <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;pointsTableWidget-&gt;item(i, 4)-&gt;text().toDouble());
        <span class="keywordflow">if</span> ((point - tablePoint).manhattanLength() &lt; <a class="code" href="distortionWidget_8cpp.html#a596344e5a2992d2beec43b76a6294de0">EPSILON</a>)
        {
            <a class="code" href="classDistortionWidget.html#a9788089954e930460b2b84f4021641be">choosePoint</a>(i, 0);
            <span class="keywordflow">return</span>;
        }
    }
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classDistortionWidget_a58deb6480e2af09b12b5faae9c258676_cgraph.svg" width="507" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="abc0b1c06bd5aff2d12de71bec8e28558"></a><!-- doxytag: member="DistortionWidget::initTransform" ref="abc0b1c06bd5aff2d12de71bec8e28558" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDistortionWidget.html#abc0b1c06bd5aff2d12de71bec8e28558">DistortionWidget::initTransform</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private, slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8cpp_source.html#l00097">97</a> of file <a class="el" href="distortionWidget_8cpp_source.html">distortionWidget.cpp</a>.</p>

<p>References <a class="el" href="distortionWidget_8cpp_source.html#l00584">doDefaultTransform()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00247">doInversionTransform()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00275">doLinesTransform()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00609">doManualTransform()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00210">doTransformLM()</a>, <a class="el" href="distortionWidget_8h_source.html#l00053">mDistortionCorrectTransform</a>, <a class="el" href="distortionWidget_8h_source.html#l00096">mUi</a>, <a class="el" href="classDistortionWidget.html#abebe67bd53d81c2e3cf555eb26b31c6a">recalculationFinished()</a>, and <a class="el" href="distortionWidget_8cpp_source.html#l00405">showBufferChanged()</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00025">DistortionWidget()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">switch</span> (<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;methodSelectorBox-&gt;currentIndex())
    {
    <span class="keywordflow">case</span> 0:
        <a class="code" href="classDistortionWidget.html#a0b946732bdc012178425b7c80257b8e1">doTransformLM</a>();
        <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> 1:
        <a class="code" href="classDistortionWidget.html#acc4920eb6035c486c50914f270324921" title="Correction by Maria Osechkina&#39;s algorithm.">doInversionTransform</a>();
        <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> 2:
        <a class="code" href="classDistortionWidget.html#adac1a0f5ac124afc61c11cc10374b210" title="Correction by algorithm of straight.">doLinesTransform</a>();
        <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> 3:
        <a class="code" href="classDistortionWidget.html#ab992ca12e76f4269a7aec54c405cde78">doDefaultTransform</a>();
        <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> 4:
        <a class="code" href="classDistortionWidget.html#ab999e924f68ea2d6e8089ca8f4717c32">doManualTransform</a>();
        <span class="keywordflow">break</span>;
    }
    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;bufferSelectorBox-&gt;setCurrentIndex(2);
    <a class="code" href="classDistortionWidget.html#a96d7805c04ab371285384eda79f0fda7">showBufferChanged</a>();
    emit <a class="code" href="classDistortionWidget.html#abebe67bd53d81c2e3cf555eb26b31c6a">recalculationFinished</a>(<a class="code" href="classDistortionWidget.html#a2b71fdbbc0244dc678f9380999d62cd7">mDistortionCorrectTransform</a>);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classDistortionWidget_abc0b1c06bd5aff2d12de71bec8e28558_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a762c42384a71b91391fb7e010e625719"></a><!-- doxytag: member="DistortionWidget::loadPoints" ref="a762c42384a71b91391fb7e010e625719" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDistortionWidget.html#a762c42384a71b91391fb7e010e625719">DistortionWidget::loadPoints</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private, slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8cpp_source.html#l00733">733</a> of file <a class="el" href="distortionWidget_8cpp_source.html">distortionWidget.cpp</a>.</p>

<p>References <a class="el" href="distortionWidget_8cpp_source.html#l00485">addPointPair()</a>, <a class="el" href="paintImageWidget_8cpp_source.html#l00256">PaintImageWidget::addVertex()</a>, <a class="el" href="paintImageWidget_8h_source.html#l00149">PaintImageWidget::addVertexToPath()</a>, <a class="el" href="paintImageWidget_8h_source.html#l00137">PaintImageWidget::mPaths</a>, <a class="el" href="paintImageWidget_8h_source.html#l00090">PaintImageWidget::mPoints</a>, <a class="el" href="distortionWidget_8h_source.html#l00096">mUi</a>, <a class="el" href="vector2d_8h_source.html#l00050">corecvs::Vector2d&lt; ElementType &gt;::x()</a>, and <a class="el" href="vector2d_8h_source.html#l00055">corecvs::Vector2d&lt; ElementType &gt;::y()</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00025">DistortionWidget()</a>.</p>
<div class="fragment"><pre class="fragment">{
    QSettings settings(<span class="stringliteral">&quot;distortionCorrection.conf&quot;</span>, QSettings::IniFormat);
    <span class="keywordtype">int</span> size = settings.beginReadArray(<span class="stringliteral">&quot;points&quot;</span>);
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; size; i ++)
    {
        <a class="code" href="distortionWidget_8cpp.html#aad6ebad1efed086eb6a7d6932ad93431">Points</a> points;
        settings.setArrayIndex(i);
        points.first[0]  = settings.value(<span class="stringliteral">&quot;spacePoint_X&quot;</span>).toDouble();
        points.first[1]  = settings.value(<span class="stringliteral">&quot;spacePoint_Y&quot;</span>).toDouble();
        points.first[2]  = settings.value(<span class="stringliteral">&quot;spacePoint_Z&quot;</span>).toDouble();
        points.second[0] = settings.value(<span class="stringliteral">&quot;imagePoint_X&quot;</span>).toDouble();
        points.second[1] = settings.value(<span class="stringliteral">&quot;imagePoint_Y&quot;</span>).toDouble();
        <a class="code" href="classDistortionWidget.html#abe7f163ecb22928af447159edf53ab5a">addPointPair</a>(points.first, points.second);
    }
    settings.endArray();

    <span class="comment">/* TODO: Make an interface for this */</span>
    <a class="code" href="classPaintImageWidget.html">PaintImageWidget</a> *canvas = <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;widget;

    <span class="keywordtype">int</span> lines = settings.beginReadArray(<span class="stringliteral">&quot;lines&quot;</span>);
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; lines; i++) {
        canvas-&gt;<a class="code" href="classPaintImageWidget.html#a51a6b31fefd69479f2e281cce4e6e286" title="Pathes.">mPaths</a>.append(<a class="code" href="structPaintImageWidget_1_1VertexPath.html">PaintImageWidget::VertexPath</a>());
        <a class="code" href="structPaintImageWidget_1_1VertexPath.html">PaintImageWidget::VertexPath</a> &amp;path = canvas-&gt;<a class="code" href="classPaintImageWidget.html#a51a6b31fefd69479f2e281cce4e6e286" title="Pathes.">mPaths</a>.last();

        settings.setArrayIndex(i);
        <span class="keywordtype">int</span> subpoints = settings.beginReadArray(<span class="stringliteral">&quot;subpoints&quot;</span>);
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; subpoints; j++) {
            settings.setArrayIndex(j);
            <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> pos;
            pos.<a class="code" href="classcorecvs_1_1Vector2d.html#a944721c41f044c1388d9dc42ca899bce">x</a>() = settings.value(<span class="stringliteral">&quot;point.x&quot;</span>).toDouble();
            pos.<a class="code" href="classcorecvs_1_1Vector2d.html#ae1ea2ad4c0821001408bf963cffa8413">y</a>() = settings.value(<span class="stringliteral">&quot;point.y&quot;</span>).toDouble();
            canvas-&gt;<a class="code" href="classPaintImageWidget.html#a7d3e0eee6e65817b8d55c1e80a1719b1">addVertex</a>(pos);
            canvas-&gt;<a class="code" href="classPaintImageWidget.html#a570ccd098d1ab60c3b6d923ea2a7320f">addVertexToPath</a>(&amp;canvas-&gt;<a class="code" href="classPaintImageWidget.html#af724b3ab8583238ac32c927ba115675a" title="Points.">mPoints</a>.last(), &amp;path);
        }
        settings.endArray();
    }
    settings.endArray();
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classDistortionWidget_a762c42384a71b91391fb7e010e625719_cgraph.svg" width="100%" height="268"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac3994ee1565dbdee8d23e08367355774"></a><!-- doxytag: member="DistortionWidget::printVectorPair" ref="ac3994ee1565dbdee8d23e08367355774" args="(const Vector3dd &amp;spacePoint, const Vector2dd &amp;imagePoint)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDistortionWidget.html#ac3994ee1565dbdee8d23e08367355774">DistortionWidget::printVectorPair</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacecorecvs.html#a8c6504d3d8b574bfb908b9fe5a7a3974">Vector3dd</a> &amp;&#160;</td>
          <td class="paramname"><em>spacePoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;&#160;</td>
          <td class="paramname"><em>imagePoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8cpp_source.html#l00455">455</a> of file <a class="el" href="distortionWidget_8cpp_source.html">distortionWidget.cpp</a>.</p>

<p>References <a class="el" href="distortionWidget_8h_source.html#l00096">mUi</a>, <a class="el" href="vector2d_8h_source.html#l00050">corecvs::Vector2d&lt; ElementType &gt;::x()</a>, <a class="el" href="vector3d_8h_source.html#l00052">corecvs::Vector3d&lt; ElementType &gt;::x()</a>, <a class="el" href="vector2d_8h_source.html#l00055">corecvs::Vector2d&lt; ElementType &gt;::y()</a>, <a class="el" href="vector3d_8h_source.html#l00057">corecvs::Vector3d&lt; ElementType &gt;::y()</a>, and <a class="el" href="vector3d_8h_source.html#l00062">corecvs::Vector3d&lt; ElementType &gt;::z()</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00485">addPointPair()</a>.</p>
<div class="fragment"><pre class="fragment">{
    QTableWidget *table = <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;pointsTableWidget;
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; table-&gt;rowCount(); i ++)
    {
        <span class="keywordflow">if</span> (table-&gt;item(i, 3)-&gt;text().toDouble() == value.x() &amp;&amp;
            table-&gt;item(i, 4)-&gt;text().toDouble() == value.y())
        {
            table-&gt;item(i, 0)-&gt;setText(QString::number(key.x()));
            table-&gt;item(i, 1)-&gt;setText(QString::number(key.y()));
            table-&gt;item(i, 2)-&gt;setText(QString::number(key.z()));
            <span class="keywordflow">return</span>;
        }
    }
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; table-&gt;rowCount(); i ++)
    {
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; table-&gt;columnCount(); j ++)
            table-&gt;item(i, j)-&gt;setBackgroundColor(Qt::color0);
    }
    table-&gt;insertRow(<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;pointsTableWidget-&gt;rowCount());
    <span class="keywordtype">int</span> row = table-&gt;rowCount() - 1;
    table-&gt;setItem(row, 0, <span class="keyword">new</span> QTableWidgetItem(QString::number(key.x())));
    table-&gt;setItem(row, 1, <span class="keyword">new</span> QTableWidgetItem(QString::number(key.y())));
    table-&gt;setItem(row, 2, <span class="keyword">new</span> QTableWidgetItem(QString::number(key.z())));
    table-&gt;setItem(row, 3, <span class="keyword">new</span> QTableWidgetItem(QString::number(value.x())));
    table-&gt;setItem(row, 4, <span class="keyword">new</span> QTableWidgetItem(QString::number(value.y())));

}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classDistortionWidget_ac3994ee1565dbdee8d23e08367355774_cgraph.svg" width="440" height="254"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="abebe67bd53d81c2e3cf555eb26b31c6a"></a><!-- doxytag: member="DistortionWidget::recalculationFinished" ref="abebe67bd53d81c2e3cf555eb26b31c6a" args="(QSharedPointer&lt; DisplacementBuffer &gt; result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDistortionWidget.html#abebe67bd53d81c2e3cf555eb26b31c6a">DistortionWidget::recalculationFinished</a> </td>
          <td>(</td>
          <td class="paramtype">QSharedPointer&lt; <a class="el" href="classcorecvs_1_1DisplacementBuffer.html">DisplacementBuffer</a> &gt;&#160;</td>
          <td class="paramname"><em>result</em></td><td>)</td>
          <td><code> [signal]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00097">initTransform()</a>, and <a class="el" href="distortionWidget_8cpp_source.html#l00067">resetParameters()</a>.</p>

</div>
</div>
<a class="anchor" id="a2555c0af89ba468f08bdc1996acd4779"></a><!-- doxytag: member="DistortionWidget::resetParameters" ref="a2555c0af89ba468f08bdc1996acd4779" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDistortionWidget.html#a2555c0af89ba468f08bdc1996acd4779">DistortionWidget::resetParameters</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private, slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8cpp_source.html#l00067">67</a> of file <a class="el" href="distortionWidget_8cpp_source.html">distortionWidget.cpp</a>.</p>

<p>References <a class="el" href="distortionWidget_8cpp_source.html#l00122">clearParameters()</a>, <a class="el" href="abstractBuffer_8h_source.html#l00127">corecvs::AbstractBufferParams::h</a>, <a class="el" href="distortionWidget_8h_source.html#l00033">mBufferInput</a>, <a class="el" href="distortionWidget_8h_source.html#l00053">mDistortionCorrectTransform</a>, <a class="el" href="distortionWidget_8h_source.html#l00096">mUi</a>, <a class="el" href="classDistortionWidget.html#abebe67bd53d81c2e3cf555eb26b31c6a">recalculationFinished()</a>, and <a class="el" href="abstractBuffer_8h_source.html#l00128">corecvs::AbstractBufferParams::w</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00025">DistortionWidget()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;bufferSelectorBox-&gt;setCurrentIndex(0);
    <a class="code" href="classDistortionWidget.html#a0982e5f3f97f2981bc05f8c647a4d160">clearParameters</a>();
    <a class="code" href="classDistortionWidget.html#a2b71fdbbc0244dc678f9380999d62cd7">mDistortionCorrectTransform</a> = QSharedPointer&lt;DisplacementBuffer&gt;(
            <span class="keyword">new</span> <a class="code" href="classcorecvs_1_1DisplacementBuffer.html" title="This buffer stores a buffer deformation - a shift of the buffer pixels.">DisplacementBuffer</a>(<a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a88e969182e3f07bb3600de841b409e9b">h</a>, <a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a7ff3d372b9a613e451a379a4427e2623">w</a>)
    );
    emit <a class="code" href="classDistortionWidget.html#abebe67bd53d81c2e3cf555eb26b31c6a">recalculationFinished</a>(<a class="code" href="classDistortionWidget.html#a2b71fdbbc0244dc678f9380999d62cd7">mDistortionCorrectTransform</a>);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classDistortionWidget_a2555c0af89ba468f08bdc1996acd4779_cgraph.svg" width="568" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="aaf0d0497e8456730e85fd213731efd75"></a><!-- doxytag: member="DistortionWidget::savePoints" ref="aaf0d0497e8456730e85fd213731efd75" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDistortionWidget.html#aaf0d0497e8456730e85fd213731efd75">DistortionWidget::savePoints</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private, slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Saving/loading state. </p>
<p>Loading and saving of current points. </p>

<p>Definition at line <a class="el" href="distortionWidget_8cpp_source.html#l00701">701</a> of file <a class="el" href="distortionWidget_8cpp_source.html">distortionWidget.cpp</a>.</p>

<p>References <a class="el" href="distortionWidget_8h_source.html#l00037">mCorrectionMap</a>, and <a class="el" href="distortionWidget_8h_source.html#l00096">mUi</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00077">~DistortionWidget()</a>.</p>
<div class="fragment"><pre class="fragment">{
    QSettings settings(<span class="stringliteral">&quot;distortionCorrection.conf&quot;</span>, QSettings::IniFormat);
    settings.beginWriteArray(<span class="stringliteral">&quot;points&quot;</span>);
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="classDistortionWidget.html#a54d23086220f5852603022babb7423c8">mCorrectionMap</a>.size(); i ++)
    {
        <a class="code" href="distortionWidget_8cpp.html#aad6ebad1efed086eb6a7d6932ad93431">Points</a> points = <a class="code" href="classDistortionWidget.html#a54d23086220f5852603022babb7423c8">mCorrectionMap</a>.at(i);
        settings.setArrayIndex(i);
        settings.setValue(<span class="stringliteral">&quot;spacePoint_X&quot;</span>, points.first.x());
        settings.setValue(<span class="stringliteral">&quot;spacePoint_Y&quot;</span>, points.first.y());
        settings.setValue(<span class="stringliteral">&quot;spacePoint_Z&quot;</span>, points.first.z());
        settings.setValue(<span class="stringliteral">&quot;imagePoint_X&quot;</span>, points.second.x());
        settings.setValue(<span class="stringliteral">&quot;imagePoint_Y&quot;</span>, points.second.y());
    }
    settings.endArray();

    vector&lt;vector&lt;Vector2dd&gt; &gt; straights = <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;widget-&gt;getPaths();
    settings.beginWriteArray(<span class="stringliteral">&quot;lines&quot;</span>);
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; straights.size(); i++) {
        settings.setArrayIndex(i);
        settings.beginWriteArray(<span class="stringliteral">&quot;subpoints&quot;</span>);
        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> j = 0; j &lt; straights[i].size(); j++) {
            settings.setArrayIndex(j);

            settings.setValue(<span class="stringliteral">&quot;point.x&quot;</span>, straights[i][j].x());
            settings.setValue(<span class="stringliteral">&quot;point.y&quot;</span>, straights[i][j].y());
        }
        settings.endArray();
    }
    settings.endArray();
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab0bfc379efd826ee371401cb32653b1e"></a><!-- doxytag: member="DistortionWidget::setBuffer" ref="ab0bfc379efd826ee371401cb32653b1e" args="(G12Buffer *buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDistortionWidget.html#ab0bfc379efd826ee371401cb32653b1e">DistortionWidget::setBuffer</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcorecvs_1_1G12Buffer.html">G12Buffer</a> *&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8cpp_source.html#l00192">192</a> of file <a class="el" href="distortionWidget_8cpp_source.html">distortionWidget.cpp</a>.</p>

<p>References <a class="el" href="distortionWidget_8h_source.html#l00033">mBufferInput</a>, and <a class="el" href="distortionWidget_8cpp_source.html#l00405">showBufferChanged()</a>.</p>

<p>Referenced by <a class="el" href="baseHostDialog_8cpp_source.html#l00245">BaseHostDialog::showDistortionCorrectorDialog()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (buffer == NULL) {
        <span class="keywordflow">return</span>;
    }
    <span class="keyword">delete</span> <a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>;
    <a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a> = <span class="keyword">new</span> <a class="code" href="classcorecvs_1_1G12Buffer.html" title="TODO: Add consts where it should go.">G12Buffer</a>(buffer);
    <a class="code" href="classDistortionWidget.html#a96d7805c04ab371285384eda79f0fda7">showBufferChanged</a>();
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classDistortionWidget_ab0bfc379efd826ee371401cb32653b1e_cgraph.svg" width="100%" height="168"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0f55765158a55e21f8a59bd253e17488"></a><!-- doxytag: member="DistortionWidget::setCameraParameters" ref="a0f55765158a55e21f8a59bd253e17488" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDistortionWidget.html#a0f55765158a55e21f8a59bd253e17488">DistortionWidget::setCameraParameters</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a81bfb1c7be110f2f88a9e5afa675f59c"></a><!-- doxytag: member="DistortionWidget::setParams" ref="a81bfb1c7be110f2f88a9e5afa675f59c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDistortionWidget.html#a81bfb1c7be110f2f88a9e5afa675f59c">DistortionWidget::setParams</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private, slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8cpp_source.html#l00089">89</a> of file <a class="el" href="distortionWidget_8cpp_source.html">distortionWidget.cpp</a>.</p>

<p>References <a class="el" href="distortionWidget_8h_source.html#l00041">mDistortionParameters</a>, and <a class="el" href="distortionWidget_8h_source.html#l00096">mUi</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00025">DistortionWidget()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">delete</span> <a class="code" href="classDistortionWidget.html#a27f745d1c54618dd7bd0b3c7f8eae812">mDistortionParameters</a>;
    <a class="code" href="classDistortionWidget.html#a27f745d1c54618dd7bd0b3c7f8eae812">mDistortionParameters</a> = <span class="keyword">new</span> <a class="code" href="classDistortionParameters.html">DistortionParameters</a>(
            <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;radiusSpinBox-&gt;value(),
            <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;scaleSpinBox-&gt;value());
}
</pre></div>
</div>
</div>
<a class="anchor" id="a96d7805c04ab371285384eda79f0fda7"></a><!-- doxytag: member="DistortionWidget::showBufferChanged" ref="a96d7805c04ab371285384eda79f0fda7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDistortionWidget.html#a96d7805c04ab371285384eda79f0fda7">DistortionWidget::showBufferChanged</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private, slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8cpp_source.html#l00405">405</a> of file <a class="el" href="distortionWidget_8cpp_source.html">distortionWidget.cpp</a>.</p>

<p>References <a class="el" href="abstractContiniousBuffer_8h_source.html#l00342">corecvs::AbstractContiniousBuffer&lt; ElementType, IndexType &gt;::doReverseDeformationBl()</a>, <a class="el" href="abstractBuffer_8h_source.html#l00127">corecvs::AbstractBufferParams::h</a>, <a class="el" href="radialCorrection_8h_source.html#l00110">corecvs::RadialCorrection::map()</a>, <a class="el" href="distortionWidget_8h_source.html#l00033">mBufferInput</a>, <a class="el" href="distortionWidget_8h_source.html#l00034">mBufferWithCorners</a>, <a class="el" href="distortionWidget_8h_source.html#l00053">mDistortionCorrectTransform</a>, <a class="el" href="distortionWidget_8h_source.html#l00052">mLinesRadialCoorection</a>, <a class="el" href="distortionWidget_8h_source.html#l00096">mUi</a>, <a class="el" href="abstractBuffer_8h_source.html#l00128">corecvs::AbstractBufferParams::w</a>, <a class="el" href="vector2d_8h_source.html#l00050">corecvs::Vector2d&lt; ElementType &gt;::x()</a>, and <a class="el" href="vector2d_8h_source.html#l00055">corecvs::Vector2d&lt; ElementType &gt;::y()</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00097">initTransform()</a>, and <a class="el" href="distortionWidget_8cpp_source.html#l00192">setBuffer()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">int</span> <span class="keywordtype">id</span> = <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;bufferSelectorBox-&gt;currentIndex();
    <a class="code" href="classG12Image.html">G12Image</a> *image = NULL;
    <span class="keywordflow">switch</span> (<span class="keywordtype">id</span>)
    {
    <span class="keywordflow">case</span> 0:
        <span class="keywordflow">if</span> (<a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a> != NULL)
        {
            image = <span class="keyword">new</span> <a class="code" href="classG12Image.html">G12Image</a>(<a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>);
            <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;widget-&gt;setImage(QSharedPointer&lt;QImage&gt;(image));
        }
        <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> 1:
        <span class="keywordflow">if</span> (<a class="code" href="classDistortionWidget.html#a5a607146f02837871f86b997107954eb">mBufferWithCorners</a> != NULL)
        {
            image = <span class="keyword">new</span> <a class="code" href="classG12Image.html">G12Image</a>(<a class="code" href="classDistortionWidget.html#a5a607146f02837871f86b997107954eb">mBufferWithCorners</a>);
            <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;widget-&gt;setImage(QSharedPointer&lt;QImage&gt;(image));
        }
        <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> 2:
        {
            <span class="keywordflow">if</span> (<a class="code" href="classDistortionWidget.html#a2b71fdbbc0244dc678f9380999d62cd7">mDistortionCorrectTransform</a> == NULL) {
                <span class="keywordflow">break</span>;
            }
            <a class="code" href="classcorecvs_1_1G12Buffer.html" title="TODO: Add consts where it should go.">G12Buffer</a> *buffer = <a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>-&gt;<a class="code" href="classcorecvs_1_1AbstractContiniousBuffer.html#a34af819499a45b5dd52fefdbddefe33d" title="This function template is responsible for applying reverse transformation to the abstract buffer...">doReverseDeformationBl</a>&lt;<a class="code" href="classcorecvs_1_1G12Buffer.html" title="TODO: Add consts where it should go.">G12Buffer</a>, <a class="code" href="classcorecvs_1_1DisplacementBuffer.html" title="This buffer stores a buffer deformation - a shift of the buffer pixels.">DisplacementBuffer</a>&gt;(
                        <a class="code" href="classDistortionWidget.html#a2b71fdbbc0244dc678f9380999d62cd7">mDistortionCorrectTransform</a>.data(), <a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a88e969182e3f07bb3600de841b409e9b">h</a>, <a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a7ff3d372b9a613e451a379a4427e2623">w</a>);
            image = <span class="keyword">new</span> <a class="code" href="classG12Image.html">G12Image</a>(buffer);
            QPainter painter(image);
            vector&lt;vector&lt;Vector2dd&gt; &gt; straights = <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;widget-&gt;getPaths();
            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; straights.size(); i++) {
                <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> j = 0; j &lt; straights[i].size(); j++) {
                    <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> point = straights[i][j];
                    <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> moved = <a class="code" href="classDistortionWidget.html#ab38e12d9b8ddab07752c2ab2d9bf4843">mLinesRadialCoorection</a>.<a class="code" href="classcorecvs_1_1RadialCorrection.html#a2f5fa4ae158f8e68bb31a9179d60c8a1">map</a>(point.<a class="code" href="classcorecvs_1_1Vector2d.html#ae1ea2ad4c0821001408bf963cffa8413">y</a>(), point.<a class="code" href="classcorecvs_1_1Vector2d.html#a944721c41f044c1388d9dc42ca899bce">x</a>());
                    painter.setPen(Qt::yellow);
                    painter.drawLine(moved.<a class="code" href="classcorecvs_1_1Vector2d.html#a944721c41f044c1388d9dc42ca899bce">x</a>() - 1, moved.<a class="code" href="classcorecvs_1_1Vector2d.html#ae1ea2ad4c0821001408bf963cffa8413">y</a>() - 1, moved.<a class="code" href="classcorecvs_1_1Vector2d.html#a944721c41f044c1388d9dc42ca899bce">x</a>() + 1, moved.<a class="code" href="classcorecvs_1_1Vector2d.html#ae1ea2ad4c0821001408bf963cffa8413">y</a>() + 1);
                    painter.drawLine(moved.<a class="code" href="classcorecvs_1_1Vector2d.html#a944721c41f044c1388d9dc42ca899bce">x</a>() + 1, moved.<a class="code" href="classcorecvs_1_1Vector2d.html#ae1ea2ad4c0821001408bf963cffa8413">y</a>() - 1, moved.<a class="code" href="classcorecvs_1_1Vector2d.html#a944721c41f044c1388d9dc42ca899bce">x</a>() - 1, moved.<a class="code" href="classcorecvs_1_1Vector2d.html#ae1ea2ad4c0821001408bf963cffa8413">y</a>() + 1);
<span class="comment">//                    cout &lt;&lt; point &lt;&lt; &quot;=&gt;&quot; &lt;&lt; moved &lt;&lt; &quot;\n&quot;;</span>
                }
            }
            painter.end();

            <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;widget-&gt;setImage(QSharedPointer&lt;QImage&gt;(image));
            delete_safe(buffer);
            <span class="keywordflow">break</span>;
        }
    }
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classDistortionWidget_a96d7805c04ab371285384eda79f0fda7_cgraph.svg" width="100%" height="168"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a987ab5001cdd1bd31591b453f5308a32"></a><!-- doxytag: member="DistortionWidget::tryAddPoint" ref="a987ab5001cdd1bd31591b453f5308a32" args="(int toolID, QPointF const &amp;point)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDistortionWidget.html#a987ab5001cdd1bd31591b453f5308a32">DistortionWidget::tryAddPoint</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>toolID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QPointF const &amp;&#160;</td>
          <td class="paramname"><em>point</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private, slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8cpp_source.html#l00168">168</a> of file <a class="el" href="distortionWidget_8cpp_source.html">distortionWidget.cpp</a>.</p>

<p>References <a class="el" href="distortionWidget_8h_source.html#l00096">mUi</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00025">DistortionWidget()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (toolID != 0)
        <span class="keywordflow">return</span>;
    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;imageXSpinBox-&gt;setValue(point.x());
    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;imageYSpinBox-&gt;setValue(point.y());
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad22920d93b2d23677fc3c5960945eada"></a><!-- doxytag: member="DistortionWidget::updateAdditionalData" ref="ad22920d93b2d23677fc3c5960945eada" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDistortionWidget.html#ad22920d93b2d23677fc3c5960945eada">DistortionWidget::updateAdditionalData</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private, slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8cpp_source.html#l00642">642</a> of file <a class="el" href="distortionWidget_8cpp_source.html">distortionWidget.cpp</a>.</p>

<p>References <a class="el" href="graphPlotDialog_8cpp_source.html#l00355">GraphPlotDialog::addGraphPoint()</a>, <a class="el" href="radialCorrection_8h_source.html#l00060">corecvs::LensCorrectionParametres::aspect</a>, <a class="el" href="radialCorrection_8h_source.html#l00063">corecvs::LensCorrectionParametres::center</a>, <a class="el" href="rgb24Buffer_8cpp_source.html#l00592">corecvs::RGB24Buffer::drawIsolines()</a>, <a class="el" href="abstractBuffer_8h_source.html#l00127">corecvs::AbstractBufferParams::h</a>, <a class="el" href="radialCorrection_8h_source.html#l00055">corecvs::LensCorrectionParametres::koeff</a>, <a class="el" href="vectorOperations_8h_source.html#l00383">corecvs::VectorOperationsBase&lt; RealType, ElementType &gt;::l2Metric()</a>, <a class="el" href="distortionWidget_8h_source.html#l00033">mBufferInput</a>, <a class="el" href="distortionWidget_8h_source.html#l00053">mDistortionCorrectTransform</a>, <a class="el" href="distortionWidget_8h_source.html#l00061">mGraphDialog</a>, <a class="el" href="distortionWidget_8h_source.html#l00062">mLevelGraphDialog</a>, <a class="el" href="distortionWidget_8h_source.html#l00052">mLinesRadialCoorection</a>, <a class="el" href="radialCorrection_8h_source.html#l00186">corecvs::RadialCorrection::mParams</a>, <a class="el" href="distortionWidget_8h_source.html#l00096">mUi</a>, <a class="el" href="radialCorrection_8h_source.html#l00057">corecvs::LensCorrectionParametres::p1</a>, <a class="el" href="radialCorrection_8h_source.html#l00058">corecvs::LensCorrectionParametres::p2</a>, <a class="el" href="radialCorrection_8h_source.html#l00115">corecvs::RadialCorrection::radialScale()</a>, <a class="el" href="advancedImageWidget_8cpp_source.html#l00088">AdvancedImageWidget::setImage()</a>, <a class="el" href="graphPlotDialog_8cpp_source.html#l00427">GraphPlotDialog::update()</a>, <a class="el" href="abstractBuffer_8h_source.html#l00128">corecvs::AbstractBufferParams::w</a>, <a class="el" href="vector2d_8h_source.html#l00050">corecvs::Vector2d&lt; ElementType &gt;::x()</a>, and <a class="el" href="vector2d_8h_source.html#l00055">corecvs::Vector2d&lt; ElementType &gt;::y()</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00275">doLinesTransform()</a>, and <a class="el" href="distortionWidget_8cpp_source.html#l00609">doManualTransform()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classcorecvs_1_1LensCorrectionParametres.html" title="This structure holds the parameters to correct the image.">LensCorrectionParametres</a> &amp;lensParams = <a class="code" href="classDistortionWidget.html#ab38e12d9b8ddab07752c2ab2d9bf4843">mLinesRadialCoorection</a>.<a class="code" href="classcorecvs_1_1RadialCorrection.html#a37a674a2ec28a36aeb35dedc88e2581b">mParams</a>;
    <span class="comment">/* Updating graph */</span>
    <span class="keywordtype">int</span> diagonal = <a class="code" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a>(<a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a7ff3d372b9a613e451a379a4427e2623">w</a>, <a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a88e969182e3f07bb3600de841b409e9b">h</a>).<a class="code" href="classcorecvs_1_1VectorOperationsBase.html#acfcd4bcc60d1d076b00afcfeba9f9e8b" title="Euclidean distance.">l2Metric</a>();
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; diagonal; i++) {
        <a class="code" href="classDistortionWidget.html#a1cb8aceee93b2f34804de153ecdb2186">mGraphDialog</a>.<a class="code" href="classGraphPlotDialog.html#aa9919d91a1219eb290eded597c3f230a">addGraphPoint</a>(0, <a class="code" href="classDistortionWidget.html#ab38e12d9b8ddab07752c2ab2d9bf4843">mLinesRadialCoorection</a>.<a class="code" href="classcorecvs_1_1RadialCorrection.html#a0390787ab3d7567171a68f9cf0d2d0e4">radialScale</a>(((<span class="keywordtype">double</span>)diagonal - i - 1) / diagonal), <span class="keyword">true</span>);
    }
    <a class="code" href="classDistortionWidget.html#a1cb8aceee93b2f34804de153ecdb2186">mGraphDialog</a>.<a class="code" href="classGraphPlotDialog.html#a7ac2613d55686a6e35815b667c77d9fd">update</a>();

    <span class="comment">/* Updating distortion*/</span>
    <a class="code" href="classcorecvs_1_1Map2DFunction.html">Map2DFunction&lt;DisplacementBuffer&gt;</a> mapFunc(<a class="code" href="classDistortionWidget.html#a2b71fdbbc0244dc678f9380999d62cd7">mDistortionCorrectTransform</a>.data());
    <a class="code" href="classcorecvs_1_1LengthFunction.html">LengthFunction</a> lengthFunc(&amp;mapFunc);
    <a class="code" href="classcorecvs_1_1RGB24Buffer.html">RGB24Buffer</a> *output = <span class="keyword">new</span> <a class="code" href="classcorecvs_1_1RGB24Buffer.html">RGB24Buffer</a>(<a class="code" href="classDistortionWidget.html#a2b71fdbbc0244dc678f9380999d62cd7">mDistortionCorrectTransform</a>-&gt;getSize());
    output-&gt;<a class="code" href="classcorecvs_1_1RGB24Buffer.html#af1eea99d617a211ad0e57c9f32153d7d">drawIsolines</a>(0.0, 0.0,
            (<span class="keywordtype">double</span>)<a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a88e969182e3f07bb3600de841b409e9b">h</a>,  (<span class="keywordtype">double</span>)<a class="code" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">mBufferInput</a>-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a7ff3d372b9a613e451a379a4427e2623">w</a>,
            0.1, lengthFunc);

    <a class="code" href="classDistortionWidget.html#a364dbb9776b0ae2e9a1a596716043ded">mLevelGraphDialog</a>.<a class="code" href="classAdvancedImageWidget.html#a365f213bdb320f2392d2693d6931abdd">setImage</a>(QSharedPointer&lt;QImage&gt;(<span class="keyword">new</span> <a class="code" href="classRGB24Image.html">RGB24Image</a>(output)));
    delete_safe(output);

    <span class="comment">/* Updating textual output */</span>
    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;centerXSpinBox-&gt;setValue(lensParams.<a class="code" href="classcorecvs_1_1LensCorrectionParametres.html#a2145b5b7c4f6c0b7587bae2aa1e90211" title="The center of the distortion .">center</a>.<a class="code" href="classcorecvs_1_1Vector2d.html#a944721c41f044c1388d9dc42ca899bce">x</a>());
    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;centerYSpinBox-&gt;setValue(lensParams.<a class="code" href="classcorecvs_1_1LensCorrectionParametres.html#a2145b5b7c4f6c0b7587bae2aa1e90211" title="The center of the distortion .">center</a>.<a class="code" href="classcorecvs_1_1Vector2d.html#ae1ea2ad4c0821001408bf963cffa8413">y</a>());
    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;tangential1SpinBox-&gt;setValue(lensParams.<a class="code" href="classcorecvs_1_1LensCorrectionParametres.html#a6c1b9a82e3bde3592ffefc24884ee03c" title="First tangent correction coefficient - .">p1</a>);
    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;tangential2SpinBox-&gt;setValue(lensParams.<a class="code" href="classcorecvs_1_1LensCorrectionParametres.html#aadc60a3cb91599136009b99e23f71cfe" title="Second tangent correction coefficient - .">p2</a>);

    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;scaleSpinBox-&gt;setValue(lensParams.<a class="code" href="classcorecvs_1_1LensCorrectionParametres.html#abff21985b6f6a9c8c51fd649b73960f2" title="y/x matrix ratio">aspect</a>);

    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;koefTableWidget-&gt;clear();
    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;koefTableWidget-&gt;setColumnCount(2);
    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;koefTableWidget-&gt;setRowCount(lensParams.<a class="code" href="classcorecvs_1_1LensCorrectionParametres.html#adaff88b76030f4d217f2f978fe056420" title="Polynom to describe radial correction.">koeff</a>.size());
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; lensParams.<a class="code" href="classcorecvs_1_1LensCorrectionParametres.html#adaff88b76030f4d217f2f978fe056420" title="Polynom to describe radial correction.">koeff</a>.size(); i ++) {
        <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;koefTableWidget-&gt;setItem(i, 0, <span class="keyword">new</span> QTableWidgetItem(QString(<span class="stringliteral">&quot;x^%1&quot;</span>).arg(i + 1)));
        QVariant value(QString::number(lensParams.<a class="code" href="classcorecvs_1_1LensCorrectionParametres.html#adaff88b76030f4d217f2f978fe056420" title="Polynom to describe radial correction.">koeff</a>[i], <span class="charliteral">&#39;g&#39;</span>, 15));
        QTableWidgetItem *data = <span class="keyword">new</span> QTableWidgetItem();
        data-&gt;setData(Qt::DisplayRole, value);
        data-&gt;setFlags(data-&gt;flags() | Qt::ItemIsEditable);
        <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;koefTableWidget-&gt;setItem(i, 1, data);
    }
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classDistortionWidget_ad22920d93b2d23677fc3c5960945eada_cgraph.svg" width="100%" height="430"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1f91c72ac0fb5b47dc766f8f850c8bd9"></a><!-- doxytag: member="DistortionWidget::updateScore" ref="a1f91c72ac0fb5b47dc766f8f850c8bd9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDistortionWidget.html#a1f91c72ac0fb5b47dc766f8f850c8bd9">DistortionWidget::updateScore</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private, slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8cpp_source.html#l00337">337</a> of file <a class="el" href="distortionWidget_8cpp_source.html">distortionWidget.cpp</a>.</p>

<p>References <a class="el" href="paintImageWidget_8cpp_source.html#l00350">PaintImageWidget::getPaths()</a>, <a class="el" href="distortionWidget_8h_source.html#l00052">mLinesRadialCoorection</a>, <a class="el" href="paintImageWidget_8h_source.html#l00137">PaintImageWidget::mPaths</a>, <a class="el" href="distortionWidget_8h_source.html#l00096">mUi</a>, and <a class="el" href="paintImageWidget_8h_source.html#l00133">PaintImageWidget::VertexPath::vertexes</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00025">DistortionWidget()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00275">doLinesTransform()</a>, and <a class="el" href="distortionWidget_8cpp_source.html#l00609">doManualTransform()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classPaintImageWidget.html">PaintImageWidget</a> *editor = <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;widget;
    vector&lt;vector&lt;Vector2dd&gt; &gt; straights = editor-&gt;<a class="code" href="classPaintImageWidget.html#a422346b5a780cc350796cb6c1cb3d3cb">getPaths</a>();

    <a class="code" href="classcorecvs_1_1ModelToRadialCorrection.html">ModelToRadialCorrection</a> modelFactory(
        <a class="code" href="classDistortionWidget.html#ab38e12d9b8ddab07752c2ab2d9bf4843">mLinesRadialCoorection</a>,
        <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;estimateCenterCheckBox-&gt;isChecked(),
        <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;estimateTangentCheckBox-&gt;isChecked(),
        <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;degreeSpinBox-&gt;value()
    );

    <a class="code" href="classcorecvs_1_1FunctionArgs.html" title="This class is a virtual version of a .">FunctionArgs</a> *costFuntion = NULL;
    <span class="keywordflow">if</span> (<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;costFunctionComboBox-&gt;currentIndex() == 0) {
        costFuntion = <span class="keyword">new</span> <a class="code" href="classcorecvs_1_1AnglePointsFunction.html" title="This class describes the cost function that shows how a set of lines differ from the model...">AnglePointsFunction</a> (straights, modelFactory);
           <span class="comment">//straightF.simpleJacobian = mUi-&gt;simpleJacobianCheckBox-&gt;isChecked();</span>
    } <span class="keywordflow">else</span> {
        costFuntion = <span class="keyword">new</span> <a class="code" href="classcorecvs_1_1DistPointsFunction.html" title="This class describes the cost function that shows how a set of lines differ from the model...">DistPointsFunction</a>  (straights, modelFactory);
    }

    vector&lt;double&gt; modelParameters(costFuntion-&gt;inputs, 0);
    modelFactory.getModel(<a class="code" href="classDistortionWidget.html#ab38e12d9b8ddab07752c2ab2d9bf4843">mLinesRadialCoorection</a>, &amp;modelParameters[0]);

    vector&lt;double&gt; result(costFuntion-&gt;outputs);
    costFuntion-&gt;operator()(&amp;modelParameters[0], &amp;result[0]);

    <span class="keywordtype">double</span> sqSum = 0;
    <span class="keywordtype">double</span> maxValue = 0.0;
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; result.size(); i++) {
        <span class="keywordflow">if</span> (fabs(result[i]) &gt; maxValue) {
            maxValue = fabs(result[i]);
        }
        sqSum += result[i] * result[i];
    }

    <span class="keywordtype">int</span> count = 0;
    <a class="code" href="classPaintImageWidget.html">PaintImageWidget</a> *canvas = <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;widget;
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; (unsigned)canvas-&gt;<a class="code" href="classPaintImageWidget.html#a51a6b31fefd69479f2e281cce4e6e286" title="Pathes.">mPaths</a>.size(); i++)
    {
        <a class="code" href="structPaintImageWidget_1_1VertexPath.html">PaintImageWidget::VertexPath</a> &amp;path = canvas-&gt;<a class="code" href="classPaintImageWidget.html#a51a6b31fefd69479f2e281cce4e6e286" title="Pathes.">mPaths</a>[i];
        <span class="keywordflow">if</span> (path.<a class="code" href="structPaintImageWidget_1_1VertexPath.html#a963f824710e6cf14501ce73de8edddff">vertexes</a>.size() &lt; 3) {
            <span class="keywordflow">continue</span>;
        }
        <span class="keywordflow">if</span> (<a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;costFunctionComboBox-&gt;currentIndex() == 0)
        {
            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 1; j &lt; path.<a class="code" href="structPaintImageWidget_1_1VertexPath.html#a963f824710e6cf14501ce73de8edddff">vertexes</a>.size() - 1; j++) {
                path.<a class="code" href="structPaintImageWidget_1_1VertexPath.html#a963f824710e6cf14501ce73de8edddff">vertexes</a>[j]-&gt;weight = fabs(result[count]) / maxValue;
                count++;
            }
        } <span class="keywordflow">else</span> {
            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; path.<a class="code" href="structPaintImageWidget_1_1VertexPath.html#a963f824710e6cf14501ce73de8edddff">vertexes</a>.size(); j++) {
                path.<a class="code" href="structPaintImageWidget_1_1VertexPath.html#a963f824710e6cf14501ce73de8edddff">vertexes</a>[j]-&gt;weight = fabs(result[count]) / maxValue;
                count++;
            }
        }
    }
    canvas-&gt;update();

    sqSum /= result.size();

    <a class="code" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">mUi</a>-&gt;scoreLabel-&gt;setText(QString::number(sqrt(sqSum)));
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classDistortionWidget_a1f91c72ac0fb5b47dc766f8f850c8bd9_cgraph.svg" width="478" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a69ac1c3865c229718ffc3c14675d7576"></a><!-- doxytag: member="DistortionWidget::mBufferInput" ref="a69ac1c3865c229718ffc3c14675d7576" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1G12Buffer.html">G12Buffer</a>* <a class="el" href="classDistortionWidget.html#a69ac1c3865c229718ffc3c14675d7576">DistortionWidget::mBufferInput</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8h_source.html#l00033">33</a> of file <a class="el" href="distortionWidget_8h_source.html">distortionWidget.h</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00148">detectCorners()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00584">doDefaultTransform()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00247">doInversionTransform()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00275">doLinesTransform()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00609">doManualTransform()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00210">doTransformLM()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00067">resetParameters()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00192">setBuffer()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00405">showBufferChanged()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00642">updateAdditionalData()</a>, and <a class="el" href="distortionWidget_8cpp_source.html#l00077">~DistortionWidget()</a>.</p>

</div>
</div>
<a class="anchor" id="a5a607146f02837871f86b997107954eb"></a><!-- doxytag: member="DistortionWidget::mBufferWithCorners" ref="a5a607146f02837871f86b997107954eb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1G12Buffer.html">G12Buffer</a>* <a class="el" href="classDistortionWidget.html#a5a607146f02837871f86b997107954eb">DistortionWidget::mBufferWithCorners</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8h_source.html#l00034">34</a> of file <a class="el" href="distortionWidget_8h_source.html">distortionWidget.h</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00148">detectCorners()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00405">showBufferChanged()</a>, and <a class="el" href="distortionWidget_8cpp_source.html#l00077">~DistortionWidget()</a>.</p>

</div>
</div>
<a class="anchor" id="a54d23086220f5852603022babb7423c8"></a><!-- doxytag: member="DistortionWidget::mCorrectionMap" ref="a54d23086220f5852603022babb7423c8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;QPair&lt;<a class="el" href="namespacecorecvs.html#a8c6504d3d8b574bfb908b9fe5a7a3974">Vector3dd</a>, <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a>&gt; &gt; <a class="el" href="classDistortionWidget.html#a54d23086220f5852603022babb7423c8">DistortionWidget::mCorrectionMap</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8h_source.html#l00037">37</a> of file <a class="el" href="distortionWidget_8h_source.html">distortionWidget.h</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00485">addPointPair()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00122">clearParameters()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00528">deletePointPair()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00210">doTransformLM()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00556">editPoint()</a>, and <a class="el" href="distortionWidget_8cpp_source.html#l00701">savePoints()</a>.</p>

</div>
</div>
<a class="anchor" id="a434e34c6db26e728838684c9488546bc"></a><!-- doxytag: member="DistortionWidget::mCorrectionVectors" ref="a434e34c6db26e728838684c9488546bc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QList&lt;QLine&gt; <a class="el" href="classDistortionWidget.html#a434e34c6db26e728838684c9488546bc">DistortionWidget::mCorrectionVectors</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8h_source.html#l00036">36</a> of file <a class="el" href="distortionWidget_8h_source.html">distortionWidget.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2b71fdbbc0244dc678f9380999d62cd7"></a><!-- doxytag: member="DistortionWidget::mDistortionCorrectTransform" ref="a2b71fdbbc0244dc678f9380999d62cd7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QSharedPointer&lt;<a class="el" href="classcorecvs_1_1DisplacementBuffer.html">DisplacementBuffer</a>&gt; <a class="el" href="classDistortionWidget.html#a2b71fdbbc0244dc678f9380999d62cd7">DistortionWidget::mDistortionCorrectTransform</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8h_source.html#l00053">53</a> of file <a class="el" href="distortionWidget_8h_source.html">distortionWidget.h</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00400">distortionCorrectionTransform()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00584">doDefaultTransform()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00247">doInversionTransform()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00275">doLinesTransform()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00609">doManualTransform()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00210">doTransformLM()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00097">initTransform()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00067">resetParameters()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00405">showBufferChanged()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00642">updateAdditionalData()</a>, and <a class="el" href="distortionWidget_8cpp_source.html#l00077">~DistortionWidget()</a>.</p>

</div>
</div>
<a class="anchor" id="a27f745d1c54618dd7bd0b3c7f8eae812"></a><!-- doxytag: member="DistortionWidget::mDistortionParameters" ref="a27f745d1c54618dd7bd0b3c7f8eae812" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDistortionParameters.html">DistortionParameters</a>* <a class="el" href="classDistortionWidget.html#a27f745d1c54618dd7bd0b3c7f8eae812">DistortionWidget::mDistortionParameters</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8h_source.html#l00041">41</a> of file <a class="el" href="distortionWidget_8h_source.html">distortionWidget.h</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00122">clearParameters()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00025">DistortionWidget()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00247">doInversionTransform()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00089">setParams()</a>, and <a class="el" href="distortionWidget_8cpp_source.html#l00077">~DistortionWidget()</a>.</p>

</div>
</div>
<a class="anchor" id="a1cb8aceee93b2f34804de153ecdb2186"></a><!-- doxytag: member="DistortionWidget::mGraphDialog" ref="a1cb8aceee93b2f34804de153ecdb2186" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGraphPlotDialog.html">GraphPlotDialog</a> <a class="el" href="classDistortionWidget.html#a1cb8aceee93b2f34804de153ecdb2186">DistortionWidget::mGraphDialog</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8h_source.html#l00061">61</a> of file <a class="el" href="distortionWidget_8h_source.html">distortionWidget.h</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00025">DistortionWidget()</a>, and <a class="el" href="distortionWidget_8cpp_source.html#l00642">updateAdditionalData()</a>.</p>

</div>
</div>
<a class="anchor" id="a364dbb9776b0ae2e9a1a596716043ded"></a><!-- doxytag: member="DistortionWidget::mLevelGraphDialog" ref="a364dbb9776b0ae2e9a1a596716043ded" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAdvancedImageWidget.html">AdvancedImageWidget</a> <a class="el" href="classDistortionWidget.html#a364dbb9776b0ae2e9a1a596716043ded">DistortionWidget::mLevelGraphDialog</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8h_source.html#l00062">62</a> of file <a class="el" href="distortionWidget_8h_source.html">distortionWidget.h</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00025">DistortionWidget()</a>, and <a class="el" href="distortionWidget_8cpp_source.html#l00642">updateAdditionalData()</a>.</p>

</div>
</div>
<a class="anchor" id="ab38e12d9b8ddab07752c2ab2d9bf4843"></a><!-- doxytag: member="DistortionWidget::mLinesRadialCoorection" ref="ab38e12d9b8ddab07752c2ab2d9bf4843" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1RadialCorrection.html">RadialCorrection</a> <a class="el" href="classDistortionWidget.html#ab38e12d9b8ddab07752c2ab2d9bf4843">DistortionWidget::mLinesRadialCoorection</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8h_source.html#l00052">52</a> of file <a class="el" href="distortionWidget_8h_source.html">distortionWidget.h</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00275">doLinesTransform()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00609">doManualTransform()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00405">showBufferChanged()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00642">updateAdditionalData()</a>, and <a class="el" href="distortionWidget_8cpp_source.html#l00337">updateScore()</a>.</p>

</div>
</div>
<a class="anchor" id="a7aea0d80bb82595b1bf094f2e3abde9d"></a><!-- doxytag: member="DistortionWidget::mResult" ref="a7aea0d80bb82595b1bf094f2e3abde9d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1Segmentator.html">Segmentator</a>&lt;<a class="el" href="classcorecvs_1_1CornerSegmentator.html">CornerSegmentator</a>, <a class="el" href="classcorecvs_1_1CornerSegment.html">CornerSegment</a>&gt;::SegmentationResult* <a class="el" href="classDistortionWidget.html#a7aea0d80bb82595b1bf094f2e3abde9d">DistortionWidget::mResult</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8h_source.html#l00056">56</a> of file <a class="el" href="distortionWidget_8h_source.html">distortionWidget.h</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00148">detectCorners()</a>, and <a class="el" href="distortionWidget_8cpp_source.html#l00077">~DistortionWidget()</a>.</p>

</div>
</div>
<a class="anchor" id="abd96be5480ff746583072bd4f42df2d4"></a><!-- doxytag: member="DistortionWidget::mUi" ref="abd96be5480ff746583072bd4f42df2d4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Ui::DistortionWidget* <a class="el" href="classDistortionWidget.html#abd96be5480ff746583072bd4f42df2d4">DistortionWidget::mUi</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="distortionWidget_8h_source.html#l00096">96</a> of file <a class="el" href="distortionWidget_8h_source.html">distortionWidget.h</a>.</p>

<p>Referenced by <a class="el" href="distortionWidget_8cpp_source.html#l00485">addPointPair()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00684">addPower()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00203">addVector()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00505">choosePoint()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00122">clearParameters()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00528">deletePointPair()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00692">delPower()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00148">detectCorners()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00025">DistortionWidget()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00247">doInversionTransform()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00275">doLinesTransform()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00609">doManualTransform()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00210">doTransformLM()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00556">editPoint()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00176">initExistingPoint()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00097">initTransform()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00733">loadPoints()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00455">printVectorPair()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00067">resetParameters()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00701">savePoints()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00089">setParams()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00405">showBufferChanged()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00168">tryAddPoint()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00642">updateAdditionalData()</a>, <a class="el" href="distortionWidget_8cpp_source.html#l00337">updateScore()</a>, and <a class="el" href="distortionWidget_8cpp_source.html#l00077">~DistortionWidget()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>utils/distortioncorrector/<a class="el" href="distortionWidget_8h_source.html">distortionWidget.h</a></li>
<li>utils/distortioncorrector/<a class="el" href="distortionWidget_8cpp_source.html">distortionWidget.cpp</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Tue Nov 12 2013 23:44:43 for DeepView by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
