<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>DeepView: RecorderThread Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">DeepView
   &#160;<span id="projectnumber">0.02</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-slots">Public Slots</a> &#124;
<a href="#signals">Signals</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-slots">Protected Slots</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">RecorderThread Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="RecorderThread" --><!-- doxytag: inherits="BaseCalculationThread" -->
<p><code>#include &lt;<a class="el" href="recorderThread_8h_source.html">recorderThread.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for RecorderThread:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classRecorderThread__inherit__graph.svg" width="200" height="195"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for RecorderThread:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classRecorderThread__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classRecorderThread-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRecorderThread.html#a6427dacf37e31067159ac907f4d731b4">RecordingState</a> { <a class="el" href="classRecorderThread.html#a6427dacf37e31067159ac907f4d731b4a9d648e8cbcd0f82ff4bfd7d611a745f2">StateRecordingActive</a> =  0, 
<a class="el" href="classRecorderThread.html#a6427dacf37e31067159ac907f4d731b4a2fadba4e9b3c6501d4f1013f4b370bf0">StateRecordingPaused</a>, 
<a class="el" href="classRecorderThread.html#a6427dacf37e31067159ac907f4d731b4a1a2f5b11b52b9ff66557149413eed674">StateRecordingReset</a>, 
<a class="el" href="classRecorderThread.html#a6427dacf37e31067159ac907f4d731b4ad689d8ca2c48e87ea00c726461558e72">StateRecordingFailure</a>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4da">CalculationState</a> { <br/>
&#160;&#160;<a class="el" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4daa412a72e1bad8e8e5cf6d8091436d9229">CALCULATION_NOT_STARTED</a> =  0, 
<a class="el" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4daa18fa0ad2c8623bdff08e207269c7c512">CALCULATION_AWAITING_DATA</a>, 
<a class="el" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4daa39f4901f2976e282b09e0027050c3b88">CALCULATION_ACTIVE</a>, 
<a class="el" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4daa4435235084300335baa70c1115c39985">CALCULATION_PAUSED</a>, 
<br/>
&#160;&#160;<a class="el" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4daaeee748c80d24a1e00dcca18edf06e55c">CALCULATION_TERMINATED</a>
<br/>
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-slots"></a>
Public Slots</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRecorderThread.html#a1cb6aeb9a56d9d9e8ee499ca0907366d">toggleRecording</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRecorderThread.html#a9b0f3b71843d7d64310e955dbb35f796">resetRecording</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRecorderThread.html#a971579553fac97f778dae4a554003fe0">recorderControlParametersChanged</a> (QSharedPointer&lt; <a class="el" href="classRecorder.html">Recorder</a> &gt; params)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRecorderThread.html#a8a811e3bff9bdcf14cbb0a348b9517fa">baseControlParametersChanged</a> (QSharedPointer&lt; <a class="el" href="classBaseParameters.html">BaseParameters</a> &gt; params)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRecorderThread.html#ad0295368ec1d66b7fc0851de3aa705db">camerasParametersChanged</a> (QSharedPointer&lt; <a class="el" href="classCamerasConfigParameters.html">CamerasConfigParameters</a> &gt; parameters)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseCalculationThread.html#abf1a591db295ed706668600216fc2d17">presentationControlParametersChanged</a> (QSharedPointer&lt; <a class="el" href="classPresentationParameters.html">PresentationParameters</a> &gt; params)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseCalculationThread.html#ae163e08ecf162475cbc84eb1827357f1">filterControlParametersChanged</a> (<a class="el" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687">Frames::FrameSourceId</a> id, QSharedPointer&lt; <a class="el" href="classFilterSelectorParameters.html">FilterSelectorParameters</a> &gt; params)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseCalculationThread.html#a745becb4e89055b9da792a2e90a835e8">graphChanged</a> (<a class="el" href="classtinyxml2_1_1XMLDocument.html">tinyxml2::XMLDocument</a> *)</td></tr>
<tr><td colspan="2"><h2><a name="signals"></a>
Signals</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRecorderThread.html#a73d9be2b27fabd34867707e15bdddaf1">recordingStateChanged</a> (<a class="el" href="classRecorderThread.html#a6427dacf37e31067159ac907f4d731b4">RecorderThread::RecordingState</a> state)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRecorderThread.html#adc0321d1390dd0a96ed5c9270d9e7608">errorMessage</a> (QString string)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractCalculationThread.html#ac58abb000054cad2dbd74475277dcc3d">processingFinished</a> (<a class="el" href="classAbstractOutputData.html">AbstractOutputData</a> *output)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractCalculationThread.html#accff9f3bbf936d31d194b17756aa8ebc">calculationStateChanged</a> (<a class="el" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4da">AbstractCalculationThread::CalculationState</a> state)</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRecorderThread.html#aeba2c3fee3ebad2ea9a5ecebd72da3d7">RecorderThread</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseCalculationThread.html#a431002cffd853fa3a3753f376beec6e5">setLeftTransform</a> (<a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a> &amp;leftTransform)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractCalculationThread.html#a4c447a4cceb3cbf61d827c7ef6b4c9bb">run</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractCalculationThread.html#a195e9fbf4625286e9df8309c7e1b3461">setCalculationState</a> (<a class="el" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4da">CalculationState</a> state)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4da">CalculationState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractCalculationThread.html#a64d2f2e8f290eb5a0f7416112081ea10">getCalculationState</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classFrames.html">Frames</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractCalculationThread.html#a165e9c3a97101c8ca445c995889ac6f3">getFramesHolder</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractCalculationThread.html#a1b793a97bb171d37d3258bda7fbf404a">setImageCaptureInterface</a> (<a class="el" href="classImageCaptureInterface.html">ImageCaptureInterface</a> *captureInterface)</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1FiltersCollection.html">FiltersCollection</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractCalculationThread.html#ac1f5153f75cba89d4b1213c1e9237812">mFiltersCollection</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractCalculationThread.html#a0245b40575283af33ea2e0077d54364e">stateNames</a> []</td></tr>
<tr><td colspan="2"><h2><a name="pro-slots"></a>
Protected Slots</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractCalculationThread.html#a7ebfcd2976250c8ad15e643517a70a08">newFrameReady</a> (<a class="el" href="structframe__data__t.html">frame_data_t</a> frameData)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">New frame data is ready to be processed.  <a href="#a7ebfcd2976250c8ad15e643517a70a08"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractCalculationThread.html#a0947cebe1b8817e7e50cb02f88ed9070">pauseCalculation</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Pauses calculation.  <a href="#a0947cebe1b8817e7e50cb02f88ed9070"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractCalculationThread.html#a0315964951143d0a3f5a28aca612feeb">resumeCalculation</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Resumes calculation Should only be called as a asynchronous slot function.  <a href="#a0315964951143d0a3f5a28aca612feeb"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classAbstractOutputData.html">AbstractOutputData</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRecorderThread.html#a829d457d9b719805753ab03d57b55ceb">processNewData</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the main calculation routine called when a new frame is received.  <a href="#a829d457d9b719805753ab03d57b55ceb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseCalculationThread.html#a8f2e9ad491dfdef975e98a82b273e94f">initData</a> (<a class="el" href="classBaseOutputData.html">BaseOutputData</a> *data, <a class="el" href="classcorecvs_1_1Statistics.html">Statistics</a> *stats=NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseCalculationThread.html#a93b6c05bc3b19216062a3fd10a93328e">executeFilterGraph</a> (<a class="el" href="classcorecvs_1_1Statistics.html">Statistics</a> *stats=NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseCalculationThread.html#ab0bfc02f4fbca0058d67ad8065741514">transformInputFrames</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseCalculationThread.html#af97f32c53fc3d1c35096355aeafdc146">recalculateCache</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">As the transformation procedure uses the inverse of the transformation matrix We first apply the rectification matrix, and then the scaling and shift.  <a href="#af97f32c53fc3d1c35096355aeafdc146"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1TransformationCache.html">TransformationCache</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseCalculationThread.html#a18a8597f022ff37e0ff149bcbbfa68e1">mTransformationCache</a> [<a class="el" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687a21fbb034d44df7e056fc99ad39bbca2e">Frames::MAX_INPUTS_NUMBER</a>]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The cache of the transformation applied to the left and right image.  <a href="#a18a8597f022ff37e0ff149bcbbfa68e1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1G12Buffer.html">G12Buffer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseCalculationThread.html#a857dded8c392da36dfeae430987fe4c9">mTransformedBuffers</a> [<a class="el" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687a21fbb034d44df7e056fc99ad39bbca2e">Frames::MAX_INPUTS_NUMBER</a>]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Transformed buffers.  <a href="#a857dded8c392da36dfeae430987fe4c9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1FilterExecuter.html">FilterExecuter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseCalculationThread.html#aea5eb473a4ea6a7e9bc454abe0f3f87a">mFilterExecuter</a> [<a class="el" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687a21fbb034d44df7e056fc99ad39bbca2e">Frames::MAX_INPUTS_NUMBER</a>]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1RectificationResult.html">RectificationResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseCalculationThread.html#a6c8a429894c4641c4b47b4b1ea2f1a52">mRectificationData</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1RectificationResult.html">RectificationResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseCalculationThread.html#a84e4dde21f873662ba7de13ffaff7c97">mPretransformedRectificationData</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseCalculationThread.html#a0f4342c169fdadb0de2fee1ab4768def">mInputPretransform</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseCalculationThread.html#a3d44498bac9884f8b24b65a606de9563">mInputPretransformInv</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseCalculationThread.html#a79a3eae6ffa42173d708926a9ebeab9c">mFrameTransforms</a> [<a class="el" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687a21fbb034d44df7e056fc99ad39bbca2e">Frames::MAX_INPUTS_NUMBER</a>]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The transforms from original input image camera image to rectified image.  <a href="#a79a3eae6ffa42173d708926a9ebeab9c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseCalculationThread.html#a4671421ed945ae474f7271185a2f895c">mFrameTransformsInv</a> [<a class="el" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687a21fbb034d44df7e056fc99ad39bbca2e">Frames::MAX_INPUTS_NUMBER</a>]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Inverse of previous to use in interpolation of the buffer.  <a href="#a4671421ed945ae474f7271185a2f895c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QSharedPointer<br class="typebreak"/>
&lt; <a class="el" href="classcorecvs_1_1DisplacementBuffer.html">DisplacementBuffer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseCalculationThread.html#a6fd7e2edc406dec6b51b710bf71d805f">mDistortionTransform</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a lens precorrection.  <a href="#a6fd7e2edc406dec6b51b710bf71d805f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseCalculationThread.html#a99a99b2359575a7f1c41979c3d827ea1">mActiveInputsNumber</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QSharedPointer&lt; <a class="el" href="classBaseParameters.html">BaseParameters</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseCalculationThread.html#aea77314a077ced16b495daf1ae473a9c">mBaseParams</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QSharedPointer<br class="typebreak"/>
&lt; <a class="el" href="classPresentationParameters.html">PresentationParameters</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseCalculationThread.html#ae8225d3895b38208aa2e5f1efc9a4e8f">mPresentationParams</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseCalculationThread.html#a3d1d098604952bbaf5d5e0d4411b7463">mCacheUpdateNeeded</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">For a thread to start calculating it needs first frame and the input parameters.  <a href="#a3d1d098604952bbaf5d5e0d4411b7463"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1FilterGraph.html">FilterGraph</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseCalculationThread.html#abab5db480d8bb7a69c27ac9e83e9a27a">mProcessorGraph</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classImageCaptureInterface.html">ImageCaptureInterface</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractCalculationThread.html#a69089cfc7f126d9803d2dfd98714d0e5">mCaptureInterface</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The capture interface we fetch the frames from.  <a href="#a69089cfc7f126d9803d2dfd98714d0e5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classFrames.html">Frames</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractCalculationThread.html#a7b69d907795df8dbd9544fb16d474446">mFrames</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the last two sets of frames acquired from the capture device(s)  <a href="#a7b69d907795df8dbd9544fb16d474446"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint__win_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractCalculationThread.html#a51d905729ecbbe8b6a5050bded987717">mInterframeDelay</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Delay between this and previous frame.  <a href="#a51d905729ecbbe8b6a5050bded987717"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint__win_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractCalculationThread.html#a40e40e0f791e5f4817369c7bcdd63860">mLastFrameTimeStamp</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4da">CalculationState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractCalculationThread.html#af7fe7173f1c1af49a9d215b35922435e">mCurrentState</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Current calculation state This state can't be changed directly, but can be queried.  <a href="#af7fe7173f1c1af49a9d215b35922435e"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRecorderThread.html#a031662d98731d7fea0d944f843b8d73e">mRecordingStarted</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRecorderThread.html#a7ce1016d07076ef10b93eab485ec376f">mIsRecording</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1PreciseTimer.html">PreciseTimer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRecorderThread.html#a74b8f68361439d15cf0cfadc901171b4">mIdleTimer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1PPMLoader.html">PPMLoader</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRecorderThread.html#a649298a4582ed9d7bb5c5a28709a51bc">mSaver</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint__win_8h.html#a6eb1e68cc391dd753bc8ce896dbb8315">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRecorderThread.html#a5a4625a3bff294adeba3536094138a24">mFrameCount</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRecorderThread.html#aad69c0c33ea64e65a830fb3ab620c300">mPath</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QSharedPointer&lt; <a class="el" href="classRecorder.html">Recorder</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRecorderThread.html#af11d511bb0a552a6348b3ff02dee2453">mRecorderParameters</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="recorderThread_8h_source.html#l00033">33</a> of file <a class="el" href="recorderThread_8h_source.html">recorderThread.h</a>.</p>
</div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="a0e17177076222f19148df7f86ea4d4da"></a><!-- doxytag: member="RecorderThread::CalculationState" ref="a0e17177076222f19148df7f86ea4d4da" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4da">AbstractCalculationThread::CalculationState</a><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a0e17177076222f19148df7f86ea4d4daa412a72e1bad8e8e5cf6d8091436d9229"></a><!-- doxytag: member="CALCULATION_NOT_STARTED" ref="a0e17177076222f19148df7f86ea4d4daa412a72e1bad8e8e5cf6d8091436d9229" args="" -->CALCULATION_NOT_STARTED</em>&nbsp;</td><td>
<p>Thread is just created but still not running. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0e17177076222f19148df7f86ea4d4daa18fa0ad2c8623bdff08e207269c7c512"></a><!-- doxytag: member="CALCULATION_AWAITING_DATA" ref="a0e17177076222f19148df7f86ea4d4daa18fa0ad2c8623bdff08e207269c7c512" args="" -->CALCULATION_AWAITING_DATA</em>&nbsp;</td><td>
<p>Thread is blocked waiting for signals with frames. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0e17177076222f19148df7f86ea4d4daa39f4901f2976e282b09e0027050c3b88"></a><!-- doxytag: member="CALCULATION_ACTIVE" ref="a0e17177076222f19148df7f86ea4d4daa39f4901f2976e282b09e0027050c3b88" args="" -->CALCULATION_ACTIVE</em>&nbsp;</td><td>
<p>Thread is processing the frame. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0e17177076222f19148df7f86ea4d4daa4435235084300335baa70c1115c39985"></a><!-- doxytag: member="CALCULATION_PAUSED" ref="a0e17177076222f19148df7f86ea4d4daa4435235084300335baa70c1115c39985" args="" -->CALCULATION_PAUSED</em>&nbsp;</td><td>
<p>Thread is paused, it will ignore incoming frames. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0e17177076222f19148df7f86ea4d4daaeee748c80d24a1e00dcca18edf06e55c"></a><!-- doxytag: member="CALCULATION_TERMINATED" ref="a0e17177076222f19148df7f86ea4d4daaeee748c80d24a1e00dcca18edf06e55c" args="" -->CALCULATION_TERMINATED</em>&nbsp;</td><td>
<p>Thread has exited. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="abstractCalculationThread_8h_source.html#l00041">41</a> of file <a class="el" href="abstractCalculationThread_8h_source.html">abstractCalculationThread.h</a>.</p>
<div class="fragment"><pre class="fragment">        {
            <a class="code" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4daa412a72e1bad8e8e5cf6d8091436d9229" title="Thread is just created but still not running.">CALCULATION_NOT_STARTED</a> = 0, <span class="comment">/**&lt; Thread is just created but still not running */</span>
            <a class="code" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4daa18fa0ad2c8623bdff08e207269c7c512" title="Thread is blocked waiting for signals with frames.">CALCULATION_AWAITING_DATA</a>,   <span class="comment">/**&lt; Thread is blocked waiting for signals with frames */</span>
            <a class="code" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4daa39f4901f2976e282b09e0027050c3b88" title="Thread is processing the frame.">CALCULATION_ACTIVE</a>,          <span class="comment">/**&lt; Thread is processing the frame */</span>
            <a class="code" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4daa4435235084300335baa70c1115c39985" title="Thread is paused, it will ignore incoming frames.">CALCULATION_PAUSED</a>,          <span class="comment">/**&lt; Thread is paused, it will ignore incoming frames */</span>
            <a class="code" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4daaeee748c80d24a1e00dcca18edf06e55c" title="Thread has exited.">CALCULATION_TERMINATED</a>       <span class="comment">/**&lt; Thread has exited */</span>
        };
</pre></div>
</div>
</div>
<a class="anchor" id="a6427dacf37e31067159ac907f4d731b4"></a><!-- doxytag: member="RecorderThread::RecordingState" ref="a6427dacf37e31067159ac907f4d731b4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classRecorderThread.html#a6427dacf37e31067159ac907f4d731b4">RecorderThread::RecordingState</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a6427dacf37e31067159ac907f4d731b4a9d648e8cbcd0f82ff4bfd7d611a745f2"></a><!-- doxytag: member="StateRecordingActive" ref="a6427dacf37e31067159ac907f4d731b4a9d648e8cbcd0f82ff4bfd7d611a745f2" args="" -->StateRecordingActive</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a6427dacf37e31067159ac907f4d731b4a2fadba4e9b3c6501d4f1013f4b370bf0"></a><!-- doxytag: member="StateRecordingPaused" ref="a6427dacf37e31067159ac907f4d731b4a2fadba4e9b3c6501d4f1013f4b370bf0" args="" -->StateRecordingPaused</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a6427dacf37e31067159ac907f4d731b4a1a2f5b11b52b9ff66557149413eed674"></a><!-- doxytag: member="StateRecordingReset" ref="a6427dacf37e31067159ac907f4d731b4a1a2f5b11b52b9ff66557149413eed674" args="" -->StateRecordingReset</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a6427dacf37e31067159ac907f4d731b4ad689d8ca2c48e87ea00c726461558e72"></a><!-- doxytag: member="StateRecordingFailure" ref="a6427dacf37e31067159ac907f4d731b4ad689d8ca2c48e87ea00c726461558e72" args="" -->StateRecordingFailure</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="recorderThread_8h_source.html#l00038">38</a> of file <a class="el" href="recorderThread_8h_source.html">recorderThread.h</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <a class="code" href="classRecorderThread.html#a6427dacf37e31067159ac907f4d731b4a9d648e8cbcd0f82ff4bfd7d611a745f2">StateRecordingActive</a> = 0,
        <a class="code" href="classRecorderThread.html#a6427dacf37e31067159ac907f4d731b4a2fadba4e9b3c6501d4f1013f4b370bf0">StateRecordingPaused</a>,
        <a class="code" href="classRecorderThread.html#a6427dacf37e31067159ac907f4d731b4a1a2f5b11b52b9ff66557149413eed674">StateRecordingReset</a>,
        <a class="code" href="classRecorderThread.html#a6427dacf37e31067159ac907f4d731b4ad689d8ca2c48e87ea00c726461558e72">StateRecordingFailure</a>
    };
</pre></div>
</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aeba2c3fee3ebad2ea9a5ecebd72da3d7"></a><!-- doxytag: member="RecorderThread::RecorderThread" ref="aeba2c3fee3ebad2ea9a5ecebd72da3d7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRecorderThread.html#aeba2c3fee3ebad2ea9a5ecebd72da3d7">RecorderThread::RecorderThread</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="recorderThread_8cpp_source.html#l00021">21</a> of file <a class="el" href="recorderThread_8cpp_source.html">recorderThread.cpp</a>.</p>

<p>References <a class="el" href="recorderThread_8h_source.html#l00067">mIdleTimer</a>.</p>
<div class="fragment"><pre class="fragment">                               :
   <a class="code" href="classBaseCalculationThread.html#a654ef8f9605905768f20bcbf80aac052">BaseCalculationThread</a>()
  , <a class="code" href="classRecorderThread.html#a031662d98731d7fea0d944f843b8d73e">mRecordingStarted</a>(<span class="keyword">false</span>)
  , <a class="code" href="classRecorderThread.html#a7ce1016d07076ef10b93eab485ec376f">mIsRecording</a>(<span class="keyword">false</span>)
  , <a class="code" href="classRecorderThread.html#a5a4625a3bff294adeba3536094138a24">mFrameCount</a>(0)
  , <a class="code" href="classRecorderThread.html#aad69c0c33ea64e65a830fb3ab620c300">mPath</a>(<span class="stringliteral">&quot;&quot;</span>)
  , <a class="code" href="classRecorderThread.html#af11d511bb0a552a6348b3ff02dee2453">mRecorderParameters</a>(NULL)
{
    qRegisterMetaType&lt;RecorderThread::RecordingState&gt;(<span class="stringliteral">&quot;RecorderThread::RecordingState&quot;</span>);
    <a class="code" href="classRecorderThread.html#a74b8f68361439d15cf0cfadc901171b4">mIdleTimer</a> = PreciseTimer::currentTime();
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a8a811e3bff9bdcf14cbb0a348b9517fa"></a><!-- doxytag: member="RecorderThread::baseControlParametersChanged" ref="a8a811e3bff9bdcf14cbb0a348b9517fa" args="(QSharedPointer&lt; BaseParameters &gt; params)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classRecorderThread.html#a8a811e3bff9bdcf14cbb0a348b9517fa">RecorderThread::baseControlParametersChanged</a> </td>
          <td>(</td>
          <td class="paramtype">QSharedPointer&lt; <a class="el" href="classBaseParameters.html">BaseParameters</a> &gt;&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td><code> [virtual, slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classBaseCalculationThread.html#a7d881748a5d69a1c43a35e689da42a2b">BaseCalculationThread</a>.</p>

<p>Definition at line <a class="el" href="recorderThread_8cpp_source.html#l00176">176</a> of file <a class="el" href="recorderThread_8cpp_source.html">recorderThread.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classRecorderThread.html#a8a811e3bff9bdcf14cbb0a348b9517fa">BaseCalculationThread::baseControlParametersChanged</a>(params);
}
</pre></div>
</div>
</div>
<a class="anchor" id="accff9f3bbf936d31d194b17756aa8ebc"></a><!-- doxytag: member="RecorderThread::calculationStateChanged" ref="accff9f3bbf936d31d194b17756aa8ebc" args="(AbstractCalculationThread::CalculationState state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAbstractCalculationThread.html#accff9f3bbf936d31d194b17756aa8ebc">AbstractCalculationThread::calculationStateChanged</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4da">AbstractCalculationThread::CalculationState</a>&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td><code> [signal, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="abstractCalculationThread_8cpp_source.html#l00066">AbstractCalculationThread::newFrameReady()</a>, <a class="el" href="abstractCalculationThread_8cpp_source.html#l00144">AbstractCalculationThread::pauseCalculation()</a>, and <a class="el" href="abstractCalculationThread_8cpp_source.html#l00161">AbstractCalculationThread::resumeCalculation()</a>.</p>

</div>
</div>
<a class="anchor" id="ad0295368ec1d66b7fc0851de3aa705db"></a><!-- doxytag: member="RecorderThread::camerasParametersChanged" ref="ad0295368ec1d66b7fc0851de3aa705db" args="(QSharedPointer&lt; CamerasConfigParameters &gt; parameters)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classRecorderThread.html#ad0295368ec1d66b7fc0851de3aa705db">RecorderThread::camerasParametersChanged</a> </td>
          <td>(</td>
          <td class="paramtype">QSharedPointer&lt; <a class="el" href="classCamerasConfigParameters.html">CamerasConfigParameters</a> &gt;&#160;</td>
          <td class="paramname"><em>parameters</em></td><td>)</td>
          <td><code> [virtual, slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classBaseCalculationThread.html#ac3e90d8b87285bafdff4853d44d272f6">BaseCalculationThread</a>.</p>

<p>Definition at line <a class="el" href="recorderThread_8cpp_source.html#l00181">181</a> of file <a class="el" href="recorderThread_8cpp_source.html">recorderThread.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classRecorderThread.html#ad0295368ec1d66b7fc0851de3aa705db">BaseCalculationThread::camerasParametersChanged</a>(parameters);
}
</pre></div>
</div>
</div>
<a class="anchor" id="adc0321d1390dd0a96ed5c9270d9e7608"></a><!-- doxytag: member="RecorderThread::errorMessage" ref="adc0321d1390dd0a96ed5c9270d9e7608" args="(QString string)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classRecorderThread.html#adc0321d1390dd0a96ed5c9270d9e7608">RecorderThread::errorMessage</a> </td>
          <td>(</td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>string</em></td><td>)</td>
          <td><code> [signal]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="recorderThread_8cpp_source.html#l00072">processNewData()</a>.</p>

</div>
</div>
<a class="anchor" id="a93b6c05bc3b19216062a3fd10a93328e"></a><!-- doxytag: member="RecorderThread::executeFilterGraph" ref="a93b6c05bc3b19216062a3fd10a93328e" args="(Statistics *stats=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classBaseCalculationThread.html#a93b6c05bc3b19216062a3fd10a93328e">BaseCalculationThread::executeFilterGraph</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcorecvs_1_1Statistics.html">Statistics</a> *&#160;</td>
          <td class="paramname"><em>stats</em> = <code>NULL</code></td><td>)</td>
          <td><code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="baseCalculationThread_8cpp_source.html#l00095">95</a> of file <a class="el" href="baseCalculationThread_8cpp_source.html">baseCalculationThread.cpp</a>.</p>

<p>References <a class="el" href="filterGraph_8cpp_source.html#l00163">corecvs::FilterGraph::clearAllData()</a>, <a class="el" href="frames_8h_source.html#l00023">Frames::DEFAULT_FRAME</a>, <a class="el" href="transformationCache_8cpp_source.html#l00013">corecvs::TransformationCache::doDeformation()</a>, <a class="el" href="abstractContiniousBuffer_8h_source.html#l00342">corecvs::AbstractContiniousBuffer&lt; ElementType, IndexType &gt;::doReverseDeformationBl()</a>, <a class="el" href="filterGraph_8cpp_source.html#l00141">corecvs::FilterGraph::execute()</a>, <a class="el" href="frames_8h_source.html#l00037">Frames::getCurrentFrame()</a>, <a class="el" href="abstractBuffer_8h_source.html#l00127">corecvs::AbstractBufferParams::h</a>, <a class="el" href="filterGraph_8h_source.html#l00025">corecvs::FilterGraph::inputs</a>, <a class="el" href="inputFilterParameters_8h_source.html#l00063">InputFilterParameters::inputType()</a>, <a class="el" href="frames_8h_source.html#l00022">Frames::LEFT_FRAME</a>, <a class="el" href="inputType_8h_source.html#l00026">InputType::LEFT_FRAME</a>, <a class="el" href="baseCalculationThread_8h_source.html#l00116">BaseCalculationThread::mBaseParams</a>, <a class="el" href="baseCalculationThread_8h_source.html#l00111">BaseCalculationThread::mDistortionTransform</a>, <a class="el" href="abstractCalculationThread_8h_source.html#l00122">AbstractCalculationThread::mFrames</a>, <a class="el" href="inputFilter_8h_source.html#l00051">corecvs::InputFilter::mInputParameters</a>, <a class="el" href="outputFilter_8h_source.html#l00052">corecvs::OutputFilter::mOutputParameters</a>, <a class="el" href="baseCalculationThread_8h_source.html#l00125">BaseCalculationThread::mProcessorGraph</a>, <a class="el" href="baseCalculationThread_8h_source.html#l00066">BaseCalculationThread::mTransformationCache</a>, <a class="el" href="baseCalculationThread_8h_source.html#l00075">BaseCalculationThread::mTransformedBuffers</a>, <a class="el" href="filterGraph_8h_source.html#l00026">corecvs::FilterGraph::outputs</a>, <a class="el" href="outputFilterParameters_8h_source.html#l00063">OutputFilterParameters::outputType()</a>, <a class="el" href="calculationStats_8h_source.html#l00100">corecvs::Statistics::prefix</a>, <a class="el" href="frames_8h_source.html#l00024">Frames::RIGHT_FRAME</a>, <a class="el" href="inputType_8h_source.html#l00031">InputType::RIGHT_FRAME</a>, <a class="el" href="calculationStats_8h_source.html#l00119">corecvs::Statistics::setTime()</a>, <a class="el" href="filterGraph_8h_source.html#l00031">corecvs::FilterGraph::stats</a>, <a class="el" href="preciseTimer_8h_source.html#l00030">corecvs::PreciseTimer::usecsToNow()</a>, and <a class="el" href="abstractBuffer_8h_source.html#l00128">corecvs::AbstractBufferParams::w</a>.</p>

<p>Referenced by <a class="el" href="baseCalculationThread_8cpp_source.html#l00063">BaseCalculationThread::initData()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classBaseCalculationThread.html#abab5db480d8bb7a69c27ac9e83e9a27a">mProcessorGraph</a>-&gt;<a class="code" href="classcorecvs_1_1FilterGraph.html#ac6f9ca7c0575dc7e62a0f14ce968e014">inputs</a>.size(); i++ )
    {
        <a class="code" href="classcorecvs_1_1InputFilter.html">InputFilter</a>* input = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classcorecvs_1_1InputFilter.html">InputFilter</a>*<span class="keyword">&gt;</span>(<a class="code" href="classBaseCalculationThread.html#abab5db480d8bb7a69c27ac9e83e9a27a">mProcessorGraph</a>-&gt;<a class="code" href="classcorecvs_1_1FilterGraph.html#ac6f9ca7c0575dc7e62a0f14ce968e014">inputs</a>[i]-&gt;parent);
        <span class="keywordflow">if</span> (input-&gt;<a class="code" href="classcorecvs_1_1InputFilter.html#afb92d6aec4ca329d1b5e7bdac6add0b1">mInputParameters</a>.<a class="code" href="classInputFilterParameters.html#afe37f5b054ed4476f88fd15003523a17">inputType</a>() == <a class="code" href="namespaceInputType.html#ad9e3e564ce8ebbd76128b985d1012610af28b4c13a348651a5ce4da746975f982" title="Left Frame Left Frame.">InputType::LEFT_FRAME</a>) <span class="comment">//FIXME change to Frames::LEFT_FRAME</span>
            <a class="code" href="classBaseCalculationThread.html#abab5db480d8bb7a69c27ac9e83e9a27a">mProcessorGraph</a>-&gt;<a class="code" href="classcorecvs_1_1FilterGraph.html#ac6f9ca7c0575dc7e62a0f14ce968e014">inputs</a>[i]-&gt;initPin(<a class="code" href="classAbstractCalculationThread.html#a7b69d907795df8dbd9544fb16d474446" title="Holds the last two sets of frames acquired from the capture device(s)">mFrames</a>.<a class="code" href="classFrames.html#a574575a77ec087df67dd270caa832edc">getCurrentFrame</a>(<a class="code" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687a1f8407b4fac31a76b205229364c6051f">Frames::LEFT_FRAME</a>));

        <span class="keywordflow">if</span> (input-&gt;<a class="code" href="classcorecvs_1_1InputFilter.html#afb92d6aec4ca329d1b5e7bdac6add0b1">mInputParameters</a>.<a class="code" href="classInputFilterParameters.html#afe37f5b054ed4476f88fd15003523a17">inputType</a>() == <a class="code" href="namespaceInputType.html#ad9e3e564ce8ebbd76128b985d1012610a7c27a3390074f1656cfa401bc704539a" title="Right Frame Right Frame.">InputType::RIGHT_FRAME</a>) <span class="comment">//FIXME change to Frames::RIGHT_FRAME</span>
            <a class="code" href="classBaseCalculationThread.html#abab5db480d8bb7a69c27ac9e83e9a27a">mProcessorGraph</a>-&gt;<a class="code" href="classcorecvs_1_1FilterGraph.html#ac6f9ca7c0575dc7e62a0f14ce968e014">inputs</a>[i]-&gt;initPin(<a class="code" href="classAbstractCalculationThread.html#a7b69d907795df8dbd9544fb16d474446" title="Holds the last two sets of frames acquired from the capture device(s)">mFrames</a>.<a class="code" href="classFrames.html#a574575a77ec087df67dd270caa832edc">getCurrentFrame</a>(<a class="code" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687ab94257f21e21d3448cf9c67f6777450e">Frames::RIGHT_FRAME</a>));
    }

    <span class="keywordtype">string</span> oldPrefix;
    <a class="code" href="classcorecvs_1_1PreciseTimer.html">PreciseTimer</a> timer = PreciseTimer::currentTime();
    <span class="keywordflow">if</span> (stats != NULL)
    {
        oldPrefix = stats-&gt;<a class="code" href="classcorecvs_1_1Statistics.html#a6a8c4f48fd169593ef8cbcfc06d13dd2">prefix</a>;
        stats-&gt;<a class="code" href="classcorecvs_1_1Statistics.html#a6a8c4f48fd169593ef8cbcfc06d13dd2">prefix</a> += <span class="stringliteral">&quot;Input Graph&gt; &quot;</span>;
    }
    <a class="code" href="classBaseCalculationThread.html#abab5db480d8bb7a69c27ac9e83e9a27a">mProcessorGraph</a>-&gt;<a class="code" href="classcorecvs_1_1FilterGraph.html#ad6e7c95a58fa7b8dc9c37dd822ca1a7c">stats</a> = stats;
    <a class="code" href="classBaseCalculationThread.html#abab5db480d8bb7a69c27ac9e83e9a27a">mProcessorGraph</a>-&gt;<a class="code" href="classcorecvs_1_1FilterGraph.html#a68df2c335540e6aa1c120691b9704514">execute</a>();
    <span class="keywordflow">if</span> (stats != NULL)
    {
        stats-&gt;<a class="code" href="classcorecvs_1_1Statistics.html#a4b37b7ec25946f49e1d0de995b953330">setTime</a>(<span class="stringliteral">&quot;Total&quot;</span>, timer.<a class="code" href="classcorecvs_1_1PreciseTimer.html#af4f2392d369963a6786d28754d626d1b">usecsToNow</a>());
        stats-&gt;<a class="code" href="classcorecvs_1_1Statistics.html#a6a8c4f48fd169593ef8cbcfc06d13dd2">prefix</a> = oldPrefix;
    }

    <span class="keywordtype">int</span> currentOutputBlocks = <a class="code" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687a3154e2a6519e0ed01760ff8d9f9c49be">Frames::DEFAULT_FRAME</a>;
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classBaseCalculationThread.html#abab5db480d8bb7a69c27ac9e83e9a27a">mProcessorGraph</a>-&gt;<a class="code" href="classcorecvs_1_1FilterGraph.html#a6812f3439c26c5d1af1e2f7cc1304aea">outputs</a>.size(); i++ )
    {
        <a class="code" href="classcorecvs_1_1G12Buffer.html" title="TODO: Add consts where it should go.">G12Buffer</a> *outputFrame = NULL;

        <a class="code" href="classcorecvs_1_1OutputFilter.html">OutputFilter</a>* result = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classcorecvs_1_1OutputFilter.html">OutputFilter</a>*<span class="keyword">&gt;</span>(<a class="code" href="classBaseCalculationThread.html#abab5db480d8bb7a69c27ac9e83e9a27a">mProcessorGraph</a>-&gt;<a class="code" href="classcorecvs_1_1FilterGraph.html#a6812f3439c26c5d1af1e2f7cc1304aea">outputs</a>[i]-&gt;parent);
        <span class="keywordflow">if</span> (result-&gt;<a class="code" href="classcorecvs_1_1OutputFilter.html#a2fb7e108afb8dec729480bd185c1d18e">mOutputParameters</a>.<a class="code" href="classOutputFilterParameters.html#ac52ad9d141635772b43a23544a21f12d">outputType</a>() == <a class="code" href="namespaceInputType.html#ad9e3e564ce8ebbd76128b985d1012610af28b4c13a348651a5ce4da746975f982" title="Left Frame Left Frame.">OutputType::LEFT_FRAME</a>)
        {   <a class="code" href="classBaseCalculationThread.html#abab5db480d8bb7a69c27ac9e83e9a27a">mProcessorGraph</a>-&gt;<a class="code" href="classcorecvs_1_1FilterGraph.html#a6812f3439c26c5d1af1e2f7cc1304aea">outputs</a>[i]-&gt;getPin(outputFrame);
            currentOutputBlocks = <a class="code" href="namespaceInputType.html#ad9e3e564ce8ebbd76128b985d1012610af28b4c13a348651a5ce4da746975f982" title="Left Frame Left Frame.">Frames::LEFT_FRAME</a>;
        }
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (result-&gt;<a class="code" href="classcorecvs_1_1OutputFilter.html#a2fb7e108afb8dec729480bd185c1d18e">mOutputParameters</a>.<a class="code" href="classOutputFilterParameters.html#ac52ad9d141635772b43a23544a21f12d">outputType</a>() == <a class="code" href="namespaceInputType.html#ad9e3e564ce8ebbd76128b985d1012610a7c27a3390074f1656cfa401bc704539a" title="Right Frame Right Frame.">OutputType::RIGHT_FRAME</a>)
        {   <a class="code" href="classBaseCalculationThread.html#abab5db480d8bb7a69c27ac9e83e9a27a">mProcessorGraph</a>-&gt;<a class="code" href="classcorecvs_1_1FilterGraph.html#a6812f3439c26c5d1af1e2f7cc1304aea">outputs</a>[i]-&gt;getPin(outputFrame);
            currentOutputBlocks = <a class="code" href="namespaceInputType.html#ad9e3e564ce8ebbd76128b985d1012610a7c27a3390074f1656cfa401bc704539a" title="Right Frame Right Frame.">Frames::RIGHT_FRAME</a>;
        }

        <span class="keywordflow">if</span> (outputFrame == NULL) {
            <span class="keywordflow">continue</span>;
        }

        <span class="keywordflow">if</span> (<a class="code" href="classBaseCalculationThread.html#a6fd7e2edc406dec6b51b710bf71d805f" title="This is a lens precorrection.">mDistortionTransform</a> != NULL) {
            outputFrame = outputFrame-&gt;<a class="code" href="classcorecvs_1_1AbstractContiniousBuffer.html#a34af819499a45b5dd52fefdbddefe33d" title="This function template is responsible for applying reverse transformation to the abstract buffer...">doReverseDeformationBl</a>&lt;<a class="code" href="classcorecvs_1_1G12Buffer.html" title="TODO: Add consts where it should go.">G12Buffer</a>, <a class="code" href="classcorecvs_1_1DisplacementBuffer.html" title="This buffer stores a buffer deformation - a shift of the buffer pixels.">DisplacementBuffer</a>&gt;(
                <a class="code" href="classBaseCalculationThread.html#a6fd7e2edc406dec6b51b710bf71d805f" title="This is a lens precorrection.">mDistortionTransform</a>.data(),
                outputFrame-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a88e969182e3f07bb3600de841b409e9b">h</a>, outputFrame-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a7ff3d372b9a613e451a379a4427e2623">w</a>
            );
        }

        <span class="keyword">delete</span> <a class="code" href="classBaseCalculationThread.html#a857dded8c392da36dfeae430987fe4c9" title="Transformed buffers.">mTransformedBuffers</a>[currentOutputBlocks];
        <a class="code" href="classBaseCalculationThread.html#a857dded8c392da36dfeae430987fe4c9" title="Transformed buffers.">mTransformedBuffers</a>[currentOutputBlocks] = <a class="code" href="classBaseCalculationThread.html#a18a8597f022ff37e0ff149bcbbfa68e1" title="The cache of the transformation applied to the left and right image.">mTransformationCache</a>[currentOutputBlocks]-&gt;<a class="code" href="classcorecvs_1_1TransformationCache.html#a0f75f9a05bb80f0e909ff8481a61093f">doDeformation</a>(<a class="code" href="classBaseCalculationThread.html#aea77314a077ced16b495daf1ae473a9c">mBaseParams</a>-&gt;interpolationType(), outputFrame);
    }

    <a class="code" href="classBaseCalculationThread.html#abab5db480d8bb7a69c27ac9e83e9a27a">mProcessorGraph</a>-&gt;<a class="code" href="classcorecvs_1_1FilterGraph.html#ab9173ee808d55ff575f277344f17c233">clearAllData</a>();

    <span class="keywordflow">if</span> (<a class="code" href="classBaseCalculationThread.html#a857dded8c392da36dfeae430987fe4c9" title="Transformed buffers.">mTransformedBuffers</a>[0] == NULL)
    {
<span class="comment">//        cout&lt;&lt;&quot;mTransformedBuffers[0] == NULL&quot;&lt;&lt;endl;</span>
        <a class="code" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687">Frames::FrameSourceId</a> frameId = (<a class="code" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687">Frames::FrameSourceId</a>)0;
        <a class="code" href="classcorecvs_1_1G12Buffer.html" title="TODO: Add consts where it should go.">G12Buffer</a> *inputFrame  = <a class="code" href="classAbstractCalculationThread.html#a7b69d907795df8dbd9544fb16d474446" title="Holds the last two sets of frames acquired from the capture device(s)">mFrames</a>.<a class="code" href="classFrames.html#a574575a77ec087df67dd270caa832edc">getCurrentFrame</a>(frameId);
        <a class="code" href="classBaseCalculationThread.html#a857dded8c392da36dfeae430987fe4c9" title="Transformed buffers.">mTransformedBuffers</a>[0] = <a class="code" href="classBaseCalculationThread.html#a18a8597f022ff37e0ff149bcbbfa68e1" title="The cache of the transformation applied to the left and right image.">mTransformationCache</a>[0]-&gt;<a class="code" href="classcorecvs_1_1TransformationCache.html#a0f75f9a05bb80f0e909ff8481a61093f">doDeformation</a>(<a class="code" href="classBaseCalculationThread.html#aea77314a077ced16b495daf1ae473a9c">mBaseParams</a>-&gt;interpolationType(), inputFrame);
    }
<span class="comment">//    else</span>
<span class="comment">//        cout&lt;&lt;&quot;mTransformedBuffers[0] != NULL&quot;&lt;&lt;endl;</span>

    <span class="keywordflow">if</span> (<a class="code" href="classBaseCalculationThread.html#a857dded8c392da36dfeae430987fe4c9" title="Transformed buffers.">mTransformedBuffers</a>[1] == NULL)
    {
<span class="comment">//        cout&lt;&lt;&quot;mTransformedBuffers[1] == NULL&quot;&lt;&lt;endl;</span>
        <a class="code" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687">Frames::FrameSourceId</a> frameId = (<a class="code" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687">Frames::FrameSourceId</a>)1;
        <a class="code" href="classcorecvs_1_1G12Buffer.html" title="TODO: Add consts where it should go.">G12Buffer</a> *inputFrame  = <a class="code" href="classAbstractCalculationThread.html#a7b69d907795df8dbd9544fb16d474446" title="Holds the last two sets of frames acquired from the capture device(s)">mFrames</a>.<a class="code" href="classFrames.html#a574575a77ec087df67dd270caa832edc">getCurrentFrame</a>(frameId);
        <a class="code" href="classBaseCalculationThread.html#a857dded8c392da36dfeae430987fe4c9" title="Transformed buffers.">mTransformedBuffers</a>[1] = <a class="code" href="classBaseCalculationThread.html#a18a8597f022ff37e0ff149bcbbfa68e1" title="The cache of the transformation applied to the left and right image.">mTransformationCache</a>[1]-&gt;<a class="code" href="classcorecvs_1_1TransformationCache.html#a0f75f9a05bb80f0e909ff8481a61093f">doDeformation</a>(<a class="code" href="classBaseCalculationThread.html#aea77314a077ced16b495daf1ae473a9c">mBaseParams</a>-&gt;interpolationType(), inputFrame);
    }
<span class="comment">//    else</span>
<span class="comment">//        cout&lt;&lt;&quot;mTransformedBuffers[1] != NULL&quot;&lt;&lt;endl;</span>

}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classBaseCalculationThread_a93b6c05bc3b19216062a3fd10a93328e_cgraph.svg" width="100%" height="408"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae163e08ecf162475cbc84eb1827357f1"></a><!-- doxytag: member="RecorderThread::filterControlParametersChanged" ref="ae163e08ecf162475cbc84eb1827357f1" args="(Frames::FrameSourceId id, QSharedPointer&lt; FilterSelectorParameters &gt; params)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classBaseCalculationThread.html#ae163e08ecf162475cbc84eb1827357f1">BaseCalculationThread::filterControlParametersChanged</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687">Frames::FrameSourceId</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QSharedPointer&lt; <a class="el" href="classFilterSelectorParameters.html">FilterSelectorParameters</a> &gt;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual, slot, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="baseCalculationThread_8cpp_source.html#l00252">252</a> of file <a class="el" href="baseCalculationThread_8cpp_source.html">baseCalculationThread.cpp</a>.</p>

<p>References <a class="el" href="baseCalculationThread_8h_source.html#l00086">BaseCalculationThread::mFilterExecuter</a>.</p>
<div class="fragment"><pre class="fragment">{
    qDebug(<span class="stringliteral">&quot;BaseCalculationThread::filterControlParametersChanged(%d, _): Filter params received in BaseCalculationThread&quot;</span>, <span class="keywordtype">id</span>);
    <span class="comment">/*if (id == Frames::LEFT_FRAME) {</span>
<span class="comment">        return;</span>
<span class="comment">    }*/</span>

    params-&gt;printParams();
    <span class="keyword">delete</span> <a class="code" href="classBaseCalculationThread.html#aea5eb473a4ea6a7e9bc454abe0f3f87a">mFilterExecuter</a>[id];
    <a class="code" href="classBaseCalculationThread.html#aea5eb473a4ea6a7e9bc454abe0f3f87a">mFilterExecuter</a>[id] = <span class="keyword">new</span> <a class="code" href="classcorecvs_1_1FilterExecuter.html">FilterExecuter</a>(*params);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a64d2f2e8f290eb5a0f7416112081ea10"></a><!-- doxytag: member="RecorderThread::getCalculationState" ref="a64d2f2e8f290eb5a0f7416112081ea10" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4da">CalculationState</a> <a class="el" href="classAbstractCalculationThread.html#a64d2f2e8f290eb5a0f7416112081ea10">AbstractCalculationThread::getCalculationState</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline, virtual, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="abstractCalculationThread_8h_source.html#l00095">95</a> of file <a class="el" href="abstractCalculationThread_8h_source.html">abstractCalculationThread.h</a>.</p>

<p>References <a class="el" href="abstractCalculationThread_8h_source.html#l00135">AbstractCalculationThread::mCurrentState</a>.</p>

<p>Referenced by <a class="el" href="baseHostDialog_8cpp_source.html#l00605">BaseHostDialog::play()</a>.</p>
<div class="fragment"><pre class="fragment">        {
            <span class="keywordflow">return</span> <a class="code" href="classAbstractCalculationThread.html#af7fe7173f1c1af49a9d215b35922435e" title="Current calculation state This state can&#39;t be changed directly, but can be queried.">mCurrentState</a>;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a165e9c3a97101c8ca445c995889ac6f3"></a><!-- doxytag: member="RecorderThread::getFramesHolder" ref="a165e9c3a97101c8ca445c995889ac6f3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFrames.html">Frames</a>* <a class="el" href="classAbstractCalculationThread.html#a165e9c3a97101c8ca445c995889ac6f3">AbstractCalculationThread::getFramesHolder</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="abstractCalculationThread_8h_source.html#l00100">100</a> of file <a class="el" href="abstractCalculationThread_8h_source.html">abstractCalculationThread.h</a>.</p>

<p>References <a class="el" href="abstractCalculationThread_8h_source.html#l00122">AbstractCalculationThread::mFrames</a>.</p>

<p>Referenced by <a class="el" href="baseHostDialog_8cpp_source.html#l00446">BaseHostDialog::initCalculator()</a>.</p>
<div class="fragment"><pre class="fragment">        {
            <span class="keywordflow">return</span> &amp;<a class="code" href="classAbstractCalculationThread.html#a7b69d907795df8dbd9544fb16d474446" title="Holds the last two sets of frames acquired from the capture device(s)">mFrames</a>;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a745becb4e89055b9da792a2e90a835e8"></a><!-- doxytag: member="RecorderThread::graphChanged" ref="a745becb4e89055b9da792a2e90a835e8" args="(tinyxml2::XMLDocument *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classBaseCalculationThread.html#a745becb4e89055b9da792a2e90a835e8">BaseCalculationThread::graphChanged</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classtinyxml2_1_1XMLDocument.html">tinyxml2::XMLDocument</a> *&#160;</td>
          <td class="paramname"><em>doc</em></td><td>)</td>
          <td><code> [virtual, slot, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="baseCalculationThread_8cpp_source.html#l00244">244</a> of file <a class="el" href="baseCalculationThread_8cpp_source.html">baseCalculationThread.cpp</a>.</p>

<p>References <a class="el" href="filterGraph_8cpp_source.html#l00237">corecvs::FilterGraph::deserialize()</a>, <a class="el" href="abstractCalculationThread_8h_source.html#l00152">AbstractCalculationThread::mFiltersCollection</a>, and <a class="el" href="baseCalculationThread_8h_source.html#l00125">BaseCalculationThread::mProcessorGraph</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="comment">//    cout &lt;&lt; &quot;graphChanged slot here!&quot; &lt;&lt; endl;</span>
    delete_safe(<a class="code" href="classBaseCalculationThread.html#abab5db480d8bb7a69c27ac9e83e9a27a">mProcessorGraph</a>);
    <a class="code" href="classBaseCalculationThread.html#abab5db480d8bb7a69c27ac9e83e9a27a">mProcessorGraph</a> = <span class="keyword">new</span> <a class="code" href="classcorecvs_1_1FilterGraph.html">FilterGraph</a>(&amp;<a class="code" href="classAbstractCalculationThread.html#ac1f5153f75cba89d4b1213c1e9237812">mFiltersCollection</a>, NULL);
    <a class="code" href="classBaseCalculationThread.html#abab5db480d8bb7a69c27ac9e83e9a27a">mProcessorGraph</a>-&gt;<a class="code" href="classcorecvs_1_1FilterGraph.html#a1b706434a0c7b0a93da994fda1a0c258">deserialize</a>(doc);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classBaseCalculationThread_a745becb4e89055b9da792a2e90a835e8_cgraph.svg" width="100%" height="566"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8f2e9ad491dfdef975e98a82b273e94f"></a><!-- doxytag: member="RecorderThread::initData" ref="a8f2e9ad491dfdef975e98a82b273e94f" args="(BaseOutputData *data, Statistics *stats=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classBaseCalculationThread.html#a8f2e9ad491dfdef975e98a82b273e94f">BaseCalculationThread::initData</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseOutputData.html">BaseOutputData</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcorecvs_1_1Statistics.html">Statistics</a> *&#160;</td>
          <td class="paramname"><em>stats</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="baseCalculationThread_8cpp_source.html#l00063">63</a> of file <a class="el" href="baseCalculationThread_8cpp_source.html">baseCalculationThread.cpp</a>.</p>

<p>References <a class="el" href="resultImage_8h_source.html#l00114">ResultImage::addLayer()</a>, <a class="el" href="baseCalculationThread_8cpp_source.html#l00095">BaseCalculationThread::executeFilterGraph()</a>, <a class="el" href="frames_8h_source.html#l00037">Frames::getCurrentFrame()</a>, <a class="el" href="frames_8h_source.html#l00022">Frames::LEFT_FRAME</a>, <a class="el" href="baseCalculationThread_8h_source.html#l00114">BaseCalculationThread::mActiveInputsNumber</a>, <a class="el" href="baseCalculationThread_8h_source.html#l00116">BaseCalculationThread::mBaseParams</a>, <a class="el" href="abstractCalculationThread_8h_source.html#l00122">AbstractCalculationThread::mFrames</a>, <a class="el" href="baseOutputData_8h_source.html#l00017">BaseOutputData::mMainImage</a>, <a class="el" href="baseCalculationThread_8h_source.html#l00117">BaseCalculationThread::mPresentationParams</a>, <a class="el" href="baseCalculationThread_8h_source.html#l00075">BaseCalculationThread::mTransformedBuffers</a>, <a class="el" href="abstractCalculationThread_8cpp_source.html#l00144">AbstractCalculationThread::pauseCalculation()</a>, <a class="el" href="baseCalculationThread_8cpp_source.html#l00329">BaseCalculationThread::recalculateCache()</a>, <a class="el" href="frames_8h_source.html#l00024">Frames::RIGHT_FRAME</a>, <a class="el" href="resultImage_8h_source.html#l00150">ResultImage::setHeight()</a>, <a class="el" href="resultImage_8h_source.html#l00152">ResultImage::setWidth()</a>, <a class="el" href="baseCalculationThread_8cpp_source.html#l00176">BaseCalculationThread::transformInputFrames()</a>, and <a class="el" href="camerasConfigParameters_8h_source.html#l00020">CamerasConfigParameters::TwoCapDev</a>.</p>

<p>Referenced by <a class="el" href="baseCalculationThread_8cpp_source.html#l00054">BaseCalculationThread::processNewData()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classBaseCalculationThread.html#af97f32c53fc3d1c35096355aeafdc146" title="As the transformation procedure uses the inverse of the transformation matrix We first apply the rect...">recalculateCache</a>();

    <span class="keywordflow">if</span> (<a class="code" href="classBaseCalculationThread.html#aea77314a077ced16b495daf1ae473a9c">mBaseParams</a>.isNull())
        <span class="keywordflow">return</span>;

    <span class="comment">// We are missing data, so pause calculation</span>
    <span class="keywordflow">if</span> ((!<a class="code" href="classAbstractCalculationThread.html#a7b69d907795df8dbd9544fb16d474446" title="Holds the last two sets of frames acquired from the capture device(s)">mFrames</a>.<a class="code" href="classFrames.html#a574575a77ec087df67dd270caa832edc">getCurrentFrame</a>(<a class="code" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687a1f8407b4fac31a76b205229364c6051f">Frames::LEFT_FRAME</a>) ) ||
       ((!<a class="code" href="classAbstractCalculationThread.html#a7b69d907795df8dbd9544fb16d474446" title="Holds the last two sets of frames acquired from the capture device(s)">mFrames</a>.<a class="code" href="classFrames.html#a574575a77ec087df67dd270caa832edc">getCurrentFrame</a>(<a class="code" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687ab94257f21e21d3448cf9c67f6777450e">Frames::RIGHT_FRAME</a>)) &amp;&amp; (<a class="code" href="classCamerasConfigParameters.html#a537bc4711cafbd62c0f4538cadadcb41a5bed509374a4a8b111623baa48416ea8">CamerasConfigParameters::TwoCapDev</a> == <a class="code" href="classBaseCalculationThread.html#a99a99b2359575a7f1c41979c3d827ea1">mActiveInputsNumber</a>)))
    {
        <a class="code" href="classAbstractCalculationThread.html#a0947cebe1b8817e7e50cb02f88ed9070" title="Pauses calculation.">pauseCalculation</a>();
    }

    <span class="keywordflow">if</span> (<a class="code" href="classBaseCalculationThread.html#aea77314a077ced16b495daf1ae473a9c">mBaseParams</a>-&gt;enableFilterGraph()) {
        <a class="code" href="classBaseCalculationThread.html#a93b6c05bc3b19216062a3fd10a93328e">executeFilterGraph</a>(stats);
    } <span class="keywordflow">else</span> {
        <a class="code" href="classBaseCalculationThread.html#ab0bfc02f4fbca0058d67ad8065741514">transformInputFrames</a>();
    }

    calculationOutputData-&gt;mMainImage.addLayer(
            <span class="keyword">new</span> <a class="code" href="classImageResultLayer.html">ImageResultLayer</a>(
                    <a class="code" href="classBaseCalculationThread.html#ae8225d3895b38208aa2e5f1efc9a4e8f">mPresentationParams</a>-&gt;output(),
                    <a class="code" href="classBaseCalculationThread.html#a857dded8c392da36dfeae430987fe4c9" title="Transformed buffers.">mTransformedBuffers</a>,
                    <a class="code" href="classBaseCalculationThread.html#ae8225d3895b38208aa2e5f1efc9a4e8f">mPresentationParams</a>-&gt;leftFrame()
            )
    );

    calculationOutputData-&gt;mMainImage.setHeight(<a class="code" href="classBaseCalculationThread.html#aea77314a077ced16b495daf1ae473a9c">mBaseParams</a>-&gt;h());
    calculationOutputData-&gt;mMainImage.setWidth (<a class="code" href="classBaseCalculationThread.html#aea77314a077ced16b495daf1ae473a9c">mBaseParams</a>-&gt;w());
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classBaseCalculationThread_a8f2e9ad491dfdef975e98a82b273e94f_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7ebfcd2976250c8ad15e643517a70a08"></a><!-- doxytag: member="RecorderThread::newFrameReady" ref="a7ebfcd2976250c8ad15e643517a70a08" args="(frame_data_t frameData)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAbstractCalculationThread.html#a7ebfcd2976250c8ad15e643517a70a08">AbstractCalculationThread::newFrameReady</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structframe__data__t.html">frame_data_t</a>&#160;</td>
          <td class="paramname"><em>frameData</em></td><td>)</td>
          <td><code> [protected, virtual, slot, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>New frame data is ready to be processed. </p>
<p>Connect this slot to the newFrameReady signal emitted by the capture interface. In this slot we actually grab the frames and trigger the calculation.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Do not override this implementation unless you really know what you are doing.</dd></dl>
<p>This function processes the newFrames from the input queue. Depending on current state this function either processes of ignores input data.</p>
<p>If current state is CALCULATION_AWAITING_DATA the state is changed to CALCULATION_ACTIVE and the awaiting events queue is flushed by QCoreApplication::processEvents();</p>
<p>If current state is not CALCULATION_AWAITING_DATA all input is ignored </p>
<p>Here is the trick, this function can call newFrameReady recursively, but it will exit with dropped frame. No other function can change currentState, only next state is altered.</p>

<p>Definition at line <a class="el" href="abstractCalculationThread_8cpp_source.html#l00066">66</a> of file <a class="el" href="abstractCalculationThread_8cpp_source.html">abstractCalculationThread.cpp</a>.</p>

<p>References <a class="el" href="abstractCalculationThread_8h_source.html#l00045">AbstractCalculationThread::CALCULATION_ACTIVE</a>, <a class="el" href="abstractCalculationThread_8h_source.html#l00044">AbstractCalculationThread::CALCULATION_AWAITING_DATA</a>, <a class="el" href="abstractCalculationThread_8h_source.html#l00046">AbstractCalculationThread::CALCULATION_PAUSED</a>, <a class="el" href="classAbstractCalculationThread.html#accff9f3bbf936d31d194b17756aa8ebc">AbstractCalculationThread::calculationStateChanged()</a>, <a class="el" href="global_8h_source.html#l00147">DOTRACE</a>, <a class="el" href="frames_8cpp_source.html#l00051">Frames::fetchNewFrames()</a>, <a class="el" href="frames_8h_source.html#l00037">Frames::getCurrentFrame()</a>, <a class="el" href="frames_8h_source.html#l00025">Frames::MAX_INPUTS_NUMBER</a>, <a class="el" href="abstractCalculationThread_8h_source.html#l00117">AbstractCalculationThread::mCaptureInterface</a>, <a class="el" href="abstractCalculationThread_8h_source.html#l00135">AbstractCalculationThread::mCurrentState</a>, <a class="el" href="abstractCalculationThread_8h_source.html#l00122">AbstractCalculationThread::mFrames</a>, <a class="el" href="abstractCalculationThread_8h_source.html#l00127">AbstractCalculationThread::mInterframeDelay</a>, <a class="el" href="abstractCalculationThread_8h_source.html#l00129">AbstractCalculationThread::mLastFrameTimeStamp</a>, <a class="el" href="classAbstractCalculationThread.html#ac58abb000054cad2dbd74475277dcc3d">AbstractCalculationThread::processingFinished()</a>, <a class="el" href="classAbstractCalculationThread.html#a7e6948d0d2093157fc18acfdf36d35ae">AbstractCalculationThread::processNewData()</a>, <a class="el" href="global_8h_source.html#l00137">SYNC_PRINT</a>, <a class="el" href="imageCaptureInterface_8h_source.html#l00020">frame_data_t::timestamp</a>, and <a class="el" href="frames_8h_source.html#l00044">Frames::timestamp()</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="comment">//    cout &lt;&lt; &quot;AbstractCalculationThread::newFrameReady called...&quot; &lt;&lt; endl;</span>

    <span class="comment">//L_INFO_P(&quot;new frame notification&quot;);</span>

    <span class="keywordflow">if</span> (!<a class="code" href="classAbstractCalculationThread.html#a69089cfc7f126d9803d2dfd98714d0e5" title="The capture interface we fetch the frames from.">mCaptureInterface</a>)
    {
        cerr &lt;&lt; <span class="stringliteral">&quot;Image capture interface was not initialized\n&quot;</span>;
        <span class="keywordflow">return</span>;
    }

    <span class="keywordflow">if</span> (<a class="code" href="classAbstractCalculationThread.html#af7fe7173f1c1af49a9d215b35922435e" title="Current calculation state This state can&#39;t be changed directly, but can be queried.">mCurrentState</a> != <a class="code" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4daa18fa0ad2c8623bdff08e207269c7c512" title="Thread is blocked waiting for signals with frames.">CALCULATION_AWAITING_DATA</a>) {
        <span class="keywordflow">if</span> (<a class="code" href="classAbstractCalculationThread.html#af7fe7173f1c1af49a9d215b35922435e" title="Current calculation state This state can&#39;t be changed directly, but can be queried.">mCurrentState</a> == <a class="code" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4daa39f4901f2976e282b09e0027050c3b88" title="Thread is processing the frame.">CALCULATION_ACTIVE</a>) {
            <a class="code" href="global_8h.html#a8fc171473e59dec1134d86647268481f" title="TODO: Add flush.">DOTRACE</a>((<span class="stringliteral">&quot;AbstractCalculationThread::dropped frame\n&quot;</span>));
        }
        <span class="keywordflow">return</span>;
    }

    <span class="keywordflow">if</span> (frameData.<a class="code" href="structframe__data__t.html#a96d1b8ad57306e82d3e94720b164cf47">timestamp</a> &lt;= <a class="code" href="classAbstractCalculationThread.html#a40e40e0f791e5f4817369c7bcdd63860">mLastFrameTimeStamp</a>)
    {
        <span class="comment">//cout &lt;&lt; &quot;Frame was received second time. Previous TS: &quot;&lt;&lt; lastFrameTimeStamp &lt;&lt; &quot; Current TS: &quot; &lt;&lt; frameData.timestamp &lt;&lt; &quot;\n&quot;;</span>
        <span class="keywordflow">return</span>;
    }

    <a class="code" href="classAbstractCalculationThread.html#af7fe7173f1c1af49a9d215b35922435e" title="Current calculation state This state can&#39;t be changed directly, but can be queried.">mCurrentState</a> = <a class="code" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4daa39f4901f2976e282b09e0027050c3b88" title="Thread is processing the frame.">CALCULATION_ACTIVE</a>;
    <span class="comment">//emit calculationStateChanged(getCalculationState());</span>
<span class="comment"></span>
<span class="comment">    /**</span>
<span class="comment">     * Here is the trick, this function can call newFrameReady recursively,</span>
<span class="comment">     * but it will exit with dropped frame.</span>
<span class="comment">     * No other function can change currentState, only next state is altered.</span>
<span class="comment">     *</span>
<span class="comment">     **/</span>
    QCoreApplication::processEvents();

    <span class="comment">/* On exit from processEvents() we have flushed input queue of the thread */</span>
    <span class="comment">/* State can be changed already while in processEvents */</span>
    <span class="keywordflow">if</span> (<a class="code" href="classAbstractCalculationThread.html#af7fe7173f1c1af49a9d215b35922435e" title="Current calculation state This state can&#39;t be changed directly, but can be queried.">mCurrentState</a> == <a class="code" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4daa39f4901f2976e282b09e0027050c3b88" title="Thread is processing the frame.">CALCULATION_ACTIVE</a>)
    {
        <a class="code" href="stdint__win_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> oldStamp   = <a class="code" href="classAbstractCalculationThread.html#a7b69d907795df8dbd9544fb16d474446" title="Holds the last two sets of frames acquired from the capture device(s)">mFrames</a>.<a class="code" href="classFrames.html#a281e40269cffff48d34c1da9cdeb4506">timestamp</a>();
        <a class="code" href="classAbstractCalculationThread.html#a7b69d907795df8dbd9544fb16d474446" title="Holds the last two sets of frames acquired from the capture device(s)">mFrames</a>.<a class="code" href="classFrames.html#a7456fca6f6756fe65dee67dd8287411e">fetchNewFrames</a>(<a class="code" href="classAbstractCalculationThread.html#a69089cfc7f126d9803d2dfd98714d0e5" title="The capture interface we fetch the frames from.">mCaptureInterface</a>);
        <a class="code" href="classAbstractCalculationThread.html#a51d905729ecbbe8b6a5050bded987717" title="Delay between this and previous frame.">mInterframeDelay</a>    = <a class="code" href="classAbstractCalculationThread.html#a7b69d907795df8dbd9544fb16d474446" title="Holds the last two sets of frames acquired from the capture device(s)">mFrames</a>.<a class="code" href="classFrames.html#a281e40269cffff48d34c1da9cdeb4506">timestamp</a>() - oldStamp;
        <a class="code" href="classAbstractCalculationThread.html#a40e40e0f791e5f4817369c7bcdd63860">mLastFrameTimeStamp</a> = <a class="code" href="classAbstractCalculationThread.html#a7b69d907795df8dbd9544fb16d474446" title="Holds the last two sets of frames acquired from the capture device(s)">mFrames</a>.<a class="code" href="classFrames.html#a281e40269cffff48d34c1da9cdeb4506">timestamp</a>();
<span class="comment">/*</span>
<span class="comment">        cout &lt;&lt; &quot;AbstractCalculationThread::requesting frame...&quot; &lt;&lt; endl;</span>
<span class="comment">        if (interframeDelay == 0) {</span>
<span class="comment">            printf(&quot;Strange - two frames with same timestamp\n&quot;);</span>
<span class="comment">        }</span>
<span class="comment">*/</span>
        <span class="keywordtype">bool</span> ok = <span class="keyword">false</span>;

        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <span class="keywordtype">id</span> = 0; <span class="keywordtype">id</span> &lt;  <a class="code" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687a21fbb034d44df7e056fc99ad39bbca2e">Frames::MAX_INPUTS_NUMBER</a>; <span class="keywordtype">id</span>++) {
            ok |= (<a class="code" href="classAbstractCalculationThread.html#a7b69d907795df8dbd9544fb16d474446" title="Holds the last two sets of frames acquired from the capture device(s)">mFrames</a>.<a class="code" href="classFrames.html#a574575a77ec087df67dd270caa832edc">getCurrentFrame</a>((<a class="code" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687">Frames::FrameSourceId</a>)<span class="keywordtype">id</span>) != NULL);
        }

        <span class="keywordflow">if</span> (ok) <span class="comment">/* At least one input is active */</span>
        {
            <a class="code" href="classAbstractOutputData.html" title="An empty stub for the output data obtained as the result of the calculation.">AbstractOutputData</a> *res = <a class="code" href="classAbstractCalculationThread.html#a7e6948d0d2093157fc18acfdf36d35ae" title="This is the main calculation routine called when a new frame is received.">processNewData</a>();
            <span class="keywordflow">if</span> (res != NULL)
            {
                <span class="comment">/* TODO: Possibly needs redesign. If signal is not processed there will</span>
<span class="comment">                be a memory leak. Use Smart pointers here */</span>
                emit <a class="code" href="classAbstractCalculationThread.html#ac58abb000054cad2dbd74475277dcc3d">processingFinished</a>(res);
            }
        } <span class="keywordflow">else</span> {
            <a class="code" href="global_8h.html#a49199ac38fc95393d7b14a6f0524e46d">SYNC_PRINT</a>((<span class="stringliteral">&quot;AbstractCalculationThread::newFrameReady(): No good frames. All frames are NULL\n&quot;</span>));
        }
    }

    <span class="keywordflow">if</span> (<a class="code" href="classAbstractCalculationThread.html#af7fe7173f1c1af49a9d215b35922435e" title="Current calculation state This state can&#39;t be changed directly, but can be queried.">mCurrentState</a> == <a class="code" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4daa4435235084300335baa70c1115c39985" title="Thread is paused, it will ignore incoming frames.">CALCULATION_PAUSED</a>) {
        emit <a class="code" href="classAbstractCalculationThread.html#accff9f3bbf936d31d194b17756aa8ebc">calculationStateChanged</a>(<a class="code" href="classAbstractCalculationThread.html#af7fe7173f1c1af49a9d215b35922435e" title="Current calculation state This state can&#39;t be changed directly, but can be queried.">mCurrentState</a>);
<span class="comment">//        threadPaused.wakeAll();</span>
    } <span class="keywordflow">else</span> {
        <a class="code" href="classAbstractCalculationThread.html#af7fe7173f1c1af49a9d215b35922435e" title="Current calculation state This state can&#39;t be changed directly, but can be queried.">mCurrentState</a> = <a class="code" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4daa18fa0ad2c8623bdff08e207269c7c512" title="Thread is blocked waiting for signals with frames.">CALCULATION_AWAITING_DATA</a>;
    }
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classAbstractCalculationThread_a7ebfcd2976250c8ad15e643517a70a08_cgraph.svg" width="100%" height="270"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0947cebe1b8817e7e50cb02f88ed9070"></a><!-- doxytag: member="RecorderThread::pauseCalculation" ref="a0947cebe1b8817e7e50cb02f88ed9070" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAbstractCalculationThread.html#a0947cebe1b8817e7e50cb02f88ed9070">AbstractCalculationThread::pauseCalculation</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual, slot, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pauses calculation. </p>
<p>Should only be called as a asynchronous slot function </p>

<p>Definition at line <a class="el" href="abstractCalculationThread_8cpp_source.html#l00144">144</a> of file <a class="el" href="abstractCalculationThread_8cpp_source.html">abstractCalculationThread.cpp</a>.</p>

<p>References <a class="el" href="abstractCalculationThread_8h_source.html#l00045">AbstractCalculationThread::CALCULATION_ACTIVE</a>, <a class="el" href="abstractCalculationThread_8h_source.html#l00044">AbstractCalculationThread::CALCULATION_AWAITING_DATA</a>, <a class="el" href="abstractCalculationThread_8h_source.html#l00046">AbstractCalculationThread::CALCULATION_PAUSED</a>, <a class="el" href="classAbstractCalculationThread.html#accff9f3bbf936d31d194b17756aa8ebc">AbstractCalculationThread::calculationStateChanged()</a>, and <a class="el" href="abstractCalculationThread_8h_source.html#l00135">AbstractCalculationThread::mCurrentState</a>.</p>

<p>Referenced by <a class="el" href="baseCalculationThread_8cpp_source.html#l00063">BaseCalculationThread::initData()</a>, and <a class="el" href="recorderThread_8cpp_source.html#l00072">processNewData()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ((<a class="code" href="classAbstractCalculationThread.html#af7fe7173f1c1af49a9d215b35922435e" title="Current calculation state This state can&#39;t be changed directly, but can be queried.">mCurrentState</a> != <a class="code" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4daa39f4901f2976e282b09e0027050c3b88" title="Thread is processing the frame.">CALCULATION_ACTIVE</a>) &amp;&amp; (<a class="code" href="classAbstractCalculationThread.html#af7fe7173f1c1af49a9d215b35922435e" title="Current calculation state This state can&#39;t be changed directly, but can be queried.">mCurrentState</a> != <a class="code" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4daa18fa0ad2c8623bdff08e207269c7c512" title="Thread is blocked waiting for signals with frames.">CALCULATION_AWAITING_DATA</a>))
    {
        cout &lt;&lt; <span class="stringliteral">&quot;There is no calculation in progress - can&#39;t pause.\n&quot;</span>;
        <span class="keywordflow">return</span>;
    }

    <span class="keywordflow">if</span> (<a class="code" href="classAbstractCalculationThread.html#af7fe7173f1c1af49a9d215b35922435e" title="Current calculation state This state can&#39;t be changed directly, but can be queried.">mCurrentState</a> == <a class="code" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4daa18fa0ad2c8623bdff08e207269c7c512" title="Thread is blocked waiting for signals with frames.">CALCULATION_AWAITING_DATA</a>)
    {
        <a class="code" href="classAbstractCalculationThread.html#af7fe7173f1c1af49a9d215b35922435e" title="Current calculation state This state can&#39;t be changed directly, but can be queried.">mCurrentState</a> = <a class="code" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4daa4435235084300335baa70c1115c39985" title="Thread is paused, it will ignore incoming frames.">CALCULATION_PAUSED</a>;
        emit <a class="code" href="classAbstractCalculationThread.html#accff9f3bbf936d31d194b17756aa8ebc">calculationStateChanged</a>(<a class="code" href="classAbstractCalculationThread.html#af7fe7173f1c1af49a9d215b35922435e" title="Current calculation state This state can&#39;t be changed directly, but can be queried.">mCurrentState</a>);
<span class="comment">//        threadPaused.wakeAll();</span>
    }
    <a class="code" href="classAbstractCalculationThread.html#af7fe7173f1c1af49a9d215b35922435e" title="Current calculation state This state can&#39;t be changed directly, but can be queried.">mCurrentState</a> = <a class="code" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4daa4435235084300335baa70c1115c39985" title="Thread is paused, it will ignore incoming frames.">CALCULATION_PAUSED</a>;
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classAbstractCalculationThread_a0947cebe1b8817e7e50cb02f88ed9070_cgraph.svg" width="100%" height="60"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="abf1a591db295ed706668600216fc2d17"></a><!-- doxytag: member="RecorderThread::presentationControlParametersChanged" ref="abf1a591db295ed706668600216fc2d17" args="(QSharedPointer&lt; PresentationParameters &gt; params)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classBaseCalculationThread.html#abf1a591db295ed706668600216fc2d17">BaseCalculationThread::presentationControlParametersChanged</a> </td>
          <td>(</td>
          <td class="paramtype">QSharedPointer&lt; <a class="el" href="classPresentationParameters.html">PresentationParameters</a> &gt;&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td><code> [virtual, slot, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="baseCalculationThread_8cpp_source.html#l00274">274</a> of file <a class="el" href="baseCalculationThread_8cpp_source.html">baseCalculationThread.cpp</a>.</p>

<p>References <a class="el" href="baseCalculationThread_8h_source.html#l00117">BaseCalculationThread::mPresentationParams</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!params.isNull())
        <a class="code" href="classBaseCalculationThread.html#ae8225d3895b38208aa2e5f1efc9a4e8f">mPresentationParams</a> = params;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac58abb000054cad2dbd74475277dcc3d"></a><!-- doxytag: member="RecorderThread::processingFinished" ref="ac58abb000054cad2dbd74475277dcc3d" args="(AbstractOutputData *output)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAbstractCalculationThread.html#ac58abb000054cad2dbd74475277dcc3d">AbstractCalculationThread::processingFinished</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classAbstractOutputData.html">AbstractOutputData</a> *&#160;</td>
          <td class="paramname"><em>output</em></td><td>)</td>
          <td><code> [signal, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="abstractCalculationThread_8cpp_source.html#l00066">AbstractCalculationThread::newFrameReady()</a>.</p>

</div>
</div>
<a class="anchor" id="a829d457d9b719805753ab03d57b55ceb"></a><!-- doxytag: member="RecorderThread::processNewData" ref="a829d457d9b719805753ab03d57b55ceb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAbstractOutputData.html">AbstractOutputData</a> * <a class="el" href="classRecorderThread.html#a829d457d9b719805753ab03d57b55ceb">RecorderThread::processNewData</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is the main calculation routine called when a new frame is received. </p>

<p>Reimplemented from <a class="el" href="classBaseCalculationThread.html#a3ca1747230f995e6e6c36af232f3b43f">BaseCalculationThread</a>.</p>

<p>Definition at line <a class="el" href="recorderThread_8cpp_source.html#l00072">72</a> of file <a class="el" href="recorderThread_8cpp_source.html">recorderThread.cpp</a>.</p>

<p>References <a class="el" href="resultImage_8h_source.html#l00114">ResultImage::addLayer()</a>, <a class="el" href="transformationCache_8cpp_source.html#l00013">corecvs::TransformationCache::doDeformation()</a>, <a class="el" href="classRecorderThread.html#adc0321d1390dd0a96ed5c9270d9e7608">errorMessage()</a>, <a class="el" href="recorderThread_8h_source.html#l00030">RecorderOutputData::frameCount</a>, <a class="el" href="frames_8h_source.html#l00037">Frames::getCurrentFrame()</a>, <a class="el" href="frames_8h_source.html#l00022">Frames::LEFT_FRAME</a>, <a class="el" href="baseCalculationThread_8h_source.html#l00114">BaseCalculationThread::mActiveInputsNumber</a>, <a class="el" href="frames_8h_source.html#l00025">Frames::MAX_INPUTS_NUMBER</a>, <a class="el" href="baseCalculationThread_8h_source.html#l00116">BaseCalculationThread::mBaseParams</a>, <a class="el" href="recorderThread_8h_source.html#l00072">mFrameCount</a>, <a class="el" href="abstractCalculationThread_8h_source.html#l00122">AbstractCalculationThread::mFrames</a>, <a class="el" href="recorderThread_8h_source.html#l00067">mIdleTimer</a>, <a class="el" href="recorderThread_8h_source.html#l00066">mIsRecording</a>, <a class="el" href="baseOutputData_8h_source.html#l00017">BaseOutputData::mMainImage</a>, <a class="el" href="recorderThread_8h_source.html#l00073">mPath</a>, <a class="el" href="baseCalculationThread_8h_source.html#l00117">BaseCalculationThread::mPresentationParams</a>, <a class="el" href="recorderThread_8h_source.html#l00074">mRecorderParameters</a>, <a class="el" href="recorderThread_8h_source.html#l00070">mSaver</a>, <a class="el" href="baseCalculationThread_8h_source.html#l00066">BaseCalculationThread::mTransformationCache</a>, <a class="el" href="abstractCalculationThread_8cpp_source.html#l00144">AbstractCalculationThread::pauseCalculation()</a>, <a class="el" href="baseCalculationThread_8cpp_source.html#l00329">BaseCalculationThread::recalculateCache()</a>, <a class="el" href="classRecorderThread.html#a73d9be2b27fabd34867707e15bdddaf1">recordingStateChanged()</a>, <a class="el" href="recorderThread_8cpp_source.html#l00158">resetRecording()</a>, <a class="el" href="frames_8h_source.html#l00024">Frames::RIGHT_FRAME</a>, <a class="el" href="ppmLoader_8cpp_source.html#l00172">corecvs::PPMLoader::save()</a>, <a class="el" href="resultImage_8h_source.html#l00150">ResultImage::setHeight()</a>, <a class="el" href="calculationStats_8h_source.html#l00119">corecvs::Statistics::setTime()</a>, <a class="el" href="resultImage_8h_source.html#l00152">ResultImage::setWidth()</a>, <a class="el" href="recorderThread_8h_source.html#l00043">StateRecordingFailure</a>, <a class="el" href="recorderThread_8h_source.html#l00029">RecorderOutputData::stats</a>, <a class="el" href="camerasConfigParameters_8h_source.html#l00020">CamerasConfigParameters::TwoCapDev</a>, and <a class="el" href="preciseTimer_8h_source.html#l00030">corecvs::PreciseTimer::usecsToNow()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classcorecvs_1_1Statistics.html">Statistics</a> stats;
<span class="preprocessor">#if 0</span>
<span class="preprocessor"></span>    stats.<a class="code" href="classcorecvs_1_1Statistics.html#a4b37b7ec25946f49e1d0de995b953330">setTime</a>(ViFlowStatisticsDescriptor::IDLE_TIME, <a class="code" href="classRecorderThread.html#a74b8f68361439d15cf0cfadc901171b4">mIdleTimer</a>.<a class="code" href="classcorecvs_1_1PreciseTimer.html#af4f2392d369963a6786d28754d626d1b">usecsToNow</a>());
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>    <a class="code" href="classcorecvs_1_1PreciseTimer.html">PreciseTimer</a> start = PreciseTimer::currentTime();
    <a class="code" href="classcorecvs_1_1PreciseTimer.html">PreciseTimer</a> startEl = PreciseTimer::currentTime();

    <span class="keywordtype">bool</span> have_params = !(<a class="code" href="classRecorderThread.html#af11d511bb0a552a6348b3ff02dee2453">mRecorderParameters</a>.isNull());
    <span class="keywordtype">bool</span> two_frames = have_params &amp;&amp; (<a class="code" href="classCamerasConfigParameters.html#a537bc4711cafbd62c0f4538cadadcb41a5bed509374a4a8b111623baa48416ea8">CamerasConfigParameters::TwoCapDev</a> == <a class="code" href="classBaseCalculationThread.html#a99a99b2359575a7f1c41979c3d827ea1">mActiveInputsNumber</a>); <span class="comment">// FIXME: additional params needed here</span>

    <span class="comment">// We are missing data, so pause calculation</span>
    <span class="keywordflow">if</span> ((!<a class="code" href="classAbstractCalculationThread.html#a7b69d907795df8dbd9544fb16d474446" title="Holds the last two sets of frames acquired from the capture device(s)">mFrames</a>.<a class="code" href="classFrames.html#a574575a77ec087df67dd270caa832edc">getCurrentFrame</a>(<a class="code" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687a1f8407b4fac31a76b205229364c6051f">Frames::LEFT_FRAME</a>) ) ||
       ((!<a class="code" href="classAbstractCalculationThread.html#a7b69d907795df8dbd9544fb16d474446" title="Holds the last two sets of frames acquired from the capture device(s)">mFrames</a>.<a class="code" href="classFrames.html#a574575a77ec087df67dd270caa832edc">getCurrentFrame</a>(<a class="code" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687ab94257f21e21d3448cf9c67f6777450e">Frames::RIGHT_FRAME</a>)) &amp;&amp; (CamerasConfigParameters::TwoCapDev == <a class="code" href="classBaseCalculationThread.html#a99a99b2359575a7f1c41979c3d827ea1">mActiveInputsNumber</a>)))
    {
        emit <a class="code" href="classRecorderThread.html#adc0321d1390dd0a96ed5c9270d9e7608">errorMessage</a>(<span class="stringliteral">&quot;Capture error.&quot;</span>);
        <a class="code" href="classAbstractCalculationThread.html#a0947cebe1b8817e7e50cb02f88ed9070" title="Pauses calculation.">pauseCalculation</a>();
    }

    <a class="code" href="classBaseCalculationThread.html#af97f32c53fc3d1c35096355aeafdc146" title="As the transformation procedure uses the inverse of the transformation matrix We first apply the rect...">recalculateCache</a>();

    <a class="code" href="classcorecvs_1_1G12Buffer.html" title="TODO: Add consts where it should go.">G12Buffer</a> *result[<a class="code" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687a21fbb034d44df7e056fc99ad39bbca2e">Frames::MAX_INPUTS_NUMBER</a>] = {NULL, NULL};

    <span class="comment">/*TODO: Logic here should be changed according to the host base change*/</span>
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <span class="keywordtype">id</span> = 0; <span class="keywordtype">id</span> &lt; <a class="code" href="classBaseCalculationThread.html#a99a99b2359575a7f1c41979c3d827ea1">mActiveInputsNumber</a>; <span class="keywordtype">id</span>++)
    {
        <a class="code" href="classcorecvs_1_1G12Buffer.html" title="TODO: Add consts where it should go.">G12Buffer</a> *buf = <a class="code" href="classAbstractCalculationThread.html#a7b69d907795df8dbd9544fb16d474446" title="Holds the last two sets of frames acquired from the capture device(s)">mFrames</a>.<a class="code" href="classFrames.html#a574575a77ec087df67dd270caa832edc">getCurrentFrame</a>((<a class="code" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687">Frames::FrameSourceId</a>)<span class="keywordtype">id</span>);

        result[id] = <a class="code" href="classBaseCalculationThread.html#a18a8597f022ff37e0ff149bcbbfa68e1" title="The cache of the transformation applied to the left and right image.">mTransformationCache</a>[id] ? <a class="code" href="classBaseCalculationThread.html#a18a8597f022ff37e0ff149bcbbfa68e1" title="The cache of the transformation applied to the left and right image.">mTransformationCache</a>[id]-&gt;<a class="code" href="classcorecvs_1_1TransformationCache.html#a0f75f9a05bb80f0e909ff8481a61093f">doDeformation</a>(<a class="code" href="classBaseCalculationThread.html#aea77314a077ced16b495daf1ae473a9c">mBaseParams</a>-&gt;interpolationType(), buf) : buf;

        <span class="keywordflow">if</span> (<a class="code" href="classRecorderThread.html#a7ce1016d07076ef10b93eab485ec376f">mIsRecording</a>)
        {
            <span class="keywordtype">char</span> currentPath[256];
            <span class="keywordflow">if</span> (two_frames)
                snprintf2buf(currentPath, <a class="code" href="classRecorderThread.html#aad69c0c33ea64e65a830fb3ab620c300">mPath</a>.toStdString().c_str(), <a class="code" href="classRecorderThread.html#a5a4625a3bff294adeba3536094138a24">mFrameCount</a>, id);
            <span class="keywordflow">else</span>
                snprintf2buf(currentPath, <a class="code" href="classRecorderThread.html#aad69c0c33ea64e65a830fb3ab620c300">mPath</a>.toStdString().c_str(), <a class="code" href="classRecorderThread.html#a5a4625a3bff294adeba3536094138a24">mFrameCount</a>);

            <span class="keywordflow">if</span> (<a class="code" href="classRecorderThread.html#a649298a4582ed9d7bb5c5a28709a51bc">mSaver</a>.<a class="code" href="classcorecvs_1_1PPMLoader.html#ae03da737b1a0bbe534d1859289e2aa7c">save</a>(currentPath, result[<span class="keywordtype">id</span>]))
            {
                <a class="code" href="classRecorderThread.html#a9b0f3b71843d7d64310e955dbb35f796">resetRecording</a>();
                emit <a class="code" href="classRecorderThread.html#adc0321d1390dd0a96ed5c9270d9e7608">errorMessage</a>(QString(<span class="stringliteral">&quot;Error writing frame to file&quot;</span>) + currentPath);
                emit <a class="code" href="classRecorderThread.html#a73d9be2b27fabd34867707e15bdddaf1">recordingStateChanged</a>(<a class="code" href="classRecorderThread.html#a6427dacf37e31067159ac907f4d731b4ad689d8ca2c48e87ea00c726461558e72">StateRecordingFailure</a>);
            }
        }

    }
<span class="preprocessor">#if 0</span>
<span class="preprocessor"></span>    stats.<a class="code" href="classcorecvs_1_1Statistics.html#a4b37b7ec25946f49e1d0de995b953330">setTime</a>(ViFlowStatisticsDescriptor::CORRECTON_TIME, startEl.<a class="code" href="classcorecvs_1_1PreciseTimer.html#af4f2392d369963a6786d28754d626d1b">usecsToNow</a>());
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>    <span class="keywordflow">if</span> (<a class="code" href="classRecorderThread.html#a7ce1016d07076ef10b93eab485ec376f">mIsRecording</a>) {
        <a class="code" href="classRecorderThread.html#a5a4625a3bff294adeba3536094138a24">mFrameCount</a>++;
    }

    <a class="code" href="classRecorderOutputData.html">RecorderOutputData</a>* outputData = <span class="keyword">new</span> <a class="code" href="classRecorderOutputData.html">RecorderOutputData</a>();

    outputData-&gt;<a class="code" href="classBaseOutputData.html#aae82a7042e87e85e7aef0708b05929fe">mMainImage</a>.<a class="code" href="classResultImage.html#aad214bc2bd6a5325054064e2366b9418">addLayer</a>(
            <span class="keyword">new</span> <a class="code" href="classImageResultLayer.html">ImageResultLayer</a>(
                    <a class="code" href="classBaseCalculationThread.html#ae8225d3895b38208aa2e5f1efc9a4e8f">mPresentationParams</a>-&gt;output(),
                    result,
                    <a class="code" href="classBaseCalculationThread.html#ae8225d3895b38208aa2e5f1efc9a4e8f">mPresentationParams</a>-&gt;leftFrame()
            )
    );

    outputData-&gt;<a class="code" href="classBaseOutputData.html#aae82a7042e87e85e7aef0708b05929fe">mMainImage</a>.<a class="code" href="classResultImage.html#aa44d0461a1c0cbc6e35e9de79d43d79f">setHeight</a>(<a class="code" href="classBaseCalculationThread.html#aea77314a077ced16b495daf1ae473a9c">mBaseParams</a>-&gt;h());
    outputData-&gt;<a class="code" href="classBaseOutputData.html#aae82a7042e87e85e7aef0708b05929fe">mMainImage</a>.<a class="code" href="classResultImage.html#ab9f6acead1b4e72296be30bf3758a6f2">setWidth</a> (<a class="code" href="classBaseCalculationThread.html#aea77314a077ced16b495daf1ae473a9c">mBaseParams</a>-&gt;w());

<span class="preprocessor">#if 0</span>
<span class="preprocessor"></span>    stats.<a class="code" href="classcorecvs_1_1Statistics.html#a4b37b7ec25946f49e1d0de995b953330">setTime</a>(ViFlowStatisticsDescriptor::TOTAL_TIME, start.<a class="code" href="classcorecvs_1_1PreciseTimer.html#af4f2392d369963a6786d28754d626d1b">usecsToNow</a>());
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>    <a class="code" href="classRecorderThread.html#a74b8f68361439d15cf0cfadc901171b4">mIdleTimer</a> = PreciseTimer::currentTime();

    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <span class="keywordtype">id</span> = 0; <span class="keywordtype">id</span> &lt; <a class="code" href="classBaseCalculationThread.html#a99a99b2359575a7f1c41979c3d827ea1">mActiveInputsNumber</a>; <span class="keywordtype">id</span>++)
    {
        <span class="keywordflow">if</span> (result[<span class="keywordtype">id</span>] != <a class="code" href="classAbstractCalculationThread.html#a7b69d907795df8dbd9544fb16d474446" title="Holds the last two sets of frames acquired from the capture device(s)">mFrames</a>.<a class="code" href="classFrames.html#a574575a77ec087df67dd270caa832edc">getCurrentFrame</a>((<a class="code" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687">Frames::FrameSourceId</a>)<span class="keywordtype">id</span>)) {
             delete_safe(result[<span class="keywordtype">id</span>]);
        }
    }

    outputData-&gt;<a class="code" href="classRecorderOutputData.html#a5c588fa1af36c648c263b240fdd37842">frameCount</a> = this-&gt;<a class="code" href="classRecorderThread.html#a5a4625a3bff294adeba3536094138a24">mFrameCount</a>;
    outputData-&gt;<a class="code" href="classRecorderOutputData.html#a815bf47f369d73c3a1c6ed659695a660">stats</a> = stats;

    <span class="keywordflow">return</span> outputData;
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classRecorderThread_a829d457d9b719805753ab03d57b55ceb_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="af97f32c53fc3d1c35096355aeafdc146"></a><!-- doxytag: member="RecorderThread::recalculateCache" ref="af97f32c53fc3d1c35096355aeafdc146" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classBaseCalculationThread.html#af97f32c53fc3d1c35096355aeafdc146">BaseCalculationThread::recalculateCache</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>As the transformation procedure uses the inverse of the transformation matrix We first apply the rectification matrix, and then the scaling and shift. </p>
<p>With inverses it is vice versa</p>
<p>We have a description of the math here - <a class="el" href="classcorecvs_1_1StereoAligner.html#a4a83409ab3639e3784e7a1daf8bfff1d" title="This function implements the simple rectification.">corecvs::StereoAligner::getAlignmentTransformation()</a></p>
<p>Let's have a look starting form camera input to rectification input image</p>
<p>1. CS = First we shift image by half to put it's center to [0,0] 2. MI = Second we make mirror and rotation operation 3. BH = Then we shift it back to where it was 4. SH = We make a shift of the mirrored image 5. SL = Afterwards we scale</p>
<p>Total transformation T1 = SL * SH * (BH * MI * CS)</p>
<p>as BH = CS^(-1) T1^(-1) = BH * MI * CS * SH * SL</p>
<p>T1 transforms from camera image to rectification input image T1^(-1) transforms from rectification input image to camera image</p>
<p>following the operation from <a class="el" href="classcorecvs_1_1StereoAligner.html">corecvs::StereoAligner</a> we have a rectification transformation for camera images - H_left and H_right.</p>
<p>H_left - from camera input to rectified image H_left^(-1) </p>

<p>Definition at line <a class="el" href="baseCalculationThread_8cpp_source.html#l00329">329</a> of file <a class="el" href="baseCalculationThread_8cpp_source.html">baseCalculationThread.cpp</a>.</p>

<p>References <a class="el" href="triangulator_8h_source.html#l00057">corecvs::RectificationResult::addPretransform()</a>, <a class="el" href="rotationPresets_8h_source.html#l00036">RotationPresets::CLOCKWISE_180DEG</a>, <a class="el" href="rotationPresets_8h_source.html#l00041">RotationPresets::CLOCKWISE_270DEG</a>, <a class="el" href="rotationPresets_8h_source.html#l00031">RotationPresets::CLOCKWISE_90DEG</a>, <a class="el" href="frames_8h_source.html#l00037">Frames::getCurrentFrame()</a>, <a class="el" href="abstractBuffer_8h_source.html#l00483">corecvs::AbstractBuffer&lt; ElementType, IndexType &gt;::getSize()</a>, <a class="el" href="abstractBuffer_8h_source.html#l00127">corecvs::AbstractBufferParams::h</a>, <a class="el" href="abstractBuffer_8h_source.html#l00443">corecvs::AbstractBuffer&lt; ElementType, IndexType &gt;::hasSameSize()</a>, <a class="el" href="matrix33_8cpp_source.html#l00040">corecvs::Matrix33::inv()</a>, <a class="el" href="frames_8h_source.html#l00022">Frames::LEFT_FRAME</a>, <a class="el" href="inputType_8h_source.html#l00026">InputType::LEFT_FRAME</a>, <a class="el" href="triangulator_8h_source.html#l00045">corecvs::RectificationResult::leftTransform</a>, <a class="el" href="baseCalculationThread_8h_source.html#l00114">BaseCalculationThread::mActiveInputsNumber</a>, <a class="el" href="baseCalculationThread_8h_source.html#l00116">BaseCalculationThread::mBaseParams</a>, <a class="el" href="baseCalculationThread_8h_source.html#l00124">BaseCalculationThread::mCacheUpdateNeeded</a>, <a class="el" href="abstractCalculationThread_8h_source.html#l00122">AbstractCalculationThread::mFrames</a>, <a class="el" href="baseCalculationThread_8h_source.html#l00106">BaseCalculationThread::mFrameTransformsInv</a>, <a class="el" href="baseCalculationThread_8h_source.html#l00095">BaseCalculationThread::mInputPretransform</a>, <a class="el" href="baseCalculationThread_8h_source.html#l00097">BaseCalculationThread::mInputPretransformInv</a>, <a class="el" href="baseCalculationThread_8h_source.html#l00092">BaseCalculationThread::mPretransformedRectificationData</a>, <a class="el" href="baseCalculationThread_8h_source.html#l00089">BaseCalculationThread::mRectificationData</a>, <a class="el" href="baseCalculationThread_8h_source.html#l00066">BaseCalculationThread::mTransformationCache</a>, <a class="el" href="inputType_8h_source.html#l00031">InputType::RIGHT_FRAME</a>, <a class="el" href="triangulator_8h_source.html#l00042">corecvs::RectificationResult::rightTransform</a>, and <a class="el" href="abstractBuffer_8h_source.html#l00128">corecvs::AbstractBufferParams::w</a>.</p>

<p>Referenced by <a class="el" href="baseCalculationThread_8cpp_source.html#l00063">BaseCalculationThread::initData()</a>, and <a class="el" href="recorderThread_8cpp_source.html#l00072">processNewData()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classcorecvs_1_1G12Buffer.html" title="TODO: Add consts where it should go.">G12Buffer</a> *firstInput = <a class="code" href="classAbstractCalculationThread.html#a7b69d907795df8dbd9544fb16d474446" title="Holds the last two sets of frames acquired from the capture device(s)">mFrames</a>.<a class="code" href="classFrames.html#a574575a77ec087df67dd270caa832edc">getCurrentFrame</a>(<a class="code" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687a1f8407b4fac31a76b205229364c6051f">Frames::LEFT_FRAME</a>);
    <span class="keywordflow">if</span> (!<a class="code" href="classBaseCalculationThread.html#a3d1d098604952bbaf5d5e0d4411b7463" title="For a thread to start calculating it needs first frame and the input parameters.">mCacheUpdateNeeded</a> || firstInput == NULL)
        <span class="keywordflow">return</span>;

    <span class="keywordflow">if</span> (<a class="code" href="classBaseCalculationThread.html#aea77314a077ced16b495daf1ae473a9c">mBaseParams</a>-&gt;downsample() == 0)
        <a class="code" href="classBaseCalculationThread.html#aea77314a077ced16b495daf1ae473a9c">mBaseParams</a>-&gt;setDownsample(1);

    <span class="keywordflow">if</span> (<a class="code" href="classBaseCalculationThread.html#aea77314a077ced16b495daf1ae473a9c">mBaseParams</a>-&gt;autoH())
        <a class="code" href="classBaseCalculationThread.html#aea77314a077ced16b495daf1ae473a9c">mBaseParams</a>-&gt;setH(firstInput-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a88e969182e3f07bb3600de841b409e9b">h</a> / <a class="code" href="classBaseCalculationThread.html#aea77314a077ced16b495daf1ae473a9c">mBaseParams</a>-&gt;downsample());

    <span class="keywordflow">if</span> (<a class="code" href="classBaseCalculationThread.html#aea77314a077ced16b495daf1ae473a9c">mBaseParams</a>-&gt;autoW())
        <a class="code" href="classBaseCalculationThread.html#aea77314a077ced16b495daf1ae473a9c">mBaseParams</a>-&gt;setW(firstInput-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a7ff3d372b9a613e451a379a4427e2623">w</a> / <a class="code" href="classBaseCalculationThread.html#aea77314a077ced16b495daf1ae473a9c">mBaseParams</a>-&gt;downsample());

    <span class="comment">/* Now we know the corrected params */</span>
    <span class="keywordtype">double</span> mDownsample = <a class="code" href="classBaseCalculationThread.html#aea77314a077ced16b495daf1ae473a9c">mBaseParams</a>-&gt;downsample();
    <span class="keywordtype">int</span> <span class="keyword">const</span> x = <a class="code" href="classBaseCalculationThread.html#aea77314a077ced16b495daf1ae473a9c">mBaseParams</a>-&gt;x();
    <span class="keywordtype">int</span> <span class="keyword">const</span> y = <a class="code" href="classBaseCalculationThread.html#aea77314a077ced16b495daf1ae473a9c">mBaseParams</a>-&gt;y();
    <span class="keywordtype">int</span> <span class="keyword">const</span> h = <a class="code" href="classBaseCalculationThread.html#aea77314a077ced16b495daf1ae473a9c">mBaseParams</a>-&gt;h();
    <span class="keywordtype">int</span> <span class="keyword">const</span> w = <a class="code" href="classBaseCalculationThread.html#aea77314a077ced16b495daf1ae473a9c">mBaseParams</a>-&gt;w();


    <a class="code" href="classcorecvs_1_1Matrix33.html" title="Class describes the 3 by 3 matrix.">Matrix33</a> centerShift     = Matrix33::ShiftProj(-firstInput-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a7ff3d372b9a613e451a379a4427e2623">w</a> / 2.0, -firstInput-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a88e969182e3f07bb3600de841b409e9b">h</a> / 2.0);
    <a class="code" href="classcorecvs_1_1Matrix33.html" title="Class describes the 3 by 3 matrix.">Matrix33</a> centerBackShift = Matrix33::ShiftProj( firstInput-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a7ff3d372b9a613e451a379a4427e2623">w</a> / 2.0,  firstInput-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a88e969182e3f07bb3600de841b409e9b">h</a> / 2.0);

    <a class="code" href="classcorecvs_1_1Matrix33.html" title="Class describes the 3 by 3 matrix.">Matrix33</a> centerAction(1.0);
    <span class="keywordflow">switch</span> (<a class="code" href="classBaseCalculationThread.html#aea77314a077ced16b495daf1ae473a9c">mBaseParams</a>-&gt;rotation())
    {
        <span class="comment">/* Note that clockwise rotation is against the direction common to math notation */</span>
        <span class="keywordflow">case</span> <a class="code" href="namespaceRotationPresets.html#a81d3fd7e624e84dd24eede7d4cb68115ad1c75982a98631858e4382de7c0c7f20" title="Clockwise 90deg Clockwise 90deg.">RotationPresets::CLOCKWISE_90DEG</a> :  centerAction = Matrix33::RotationZ270(); <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> <a class="code" href="namespaceRotationPresets.html#a81d3fd7e624e84dd24eede7d4cb68115a0a347fe43e5ff738d1a5af2e6962bcf6" title="Clockwise 180deg Clockwise 180deg.">RotationPresets::CLOCKWISE_180DEG</a>:  centerAction = Matrix33::RotationZ180(); <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> <a class="code" href="namespaceRotationPresets.html#a81d3fd7e624e84dd24eede7d4cb68115adc861fa6c9acf05f49120e74c75c535b" title="Clockwise 270deg Clockwise 270deg.">RotationPresets::CLOCKWISE_270DEG</a>:  centerAction = Matrix33::RotationZ90();  <span class="keywordflow">break</span>;
        <span class="keywordflow">default</span>:                                 centerAction = <a class="code" href="classcorecvs_1_1Matrix33.html" title="Class describes the 3 by 3 matrix.">Matrix33</a>(1.0);            <span class="keywordflow">break</span>;
    }

    <span class="keywordflow">if</span> (<a class="code" href="classBaseCalculationThread.html#aea77314a077ced16b495daf1ae473a9c">mBaseParams</a>-&gt;mirror()) {
        centerAction = Matrix33::MirrorYZ() * centerAction;
    }


    <a class="code" href="classBaseCalculationThread.html#a0f4342c169fdadb0de2fee1ab4768def">mInputPretransform</a>    = Matrix33::Scale2(1.0 / mDownsample) * Matrix33::ShiftProj(-x, -y) * centerBackShift * centerAction * centerShift;
    <a class="code" href="classBaseCalculationThread.html#a3d44498bac9884f8b24b65a606de9563">mInputPretransformInv</a> = <a class="code" href="classBaseCalculationThread.html#a0f4342c169fdadb0de2fee1ab4768def">mInputPretransform</a>.<a class="code" href="classcorecvs_1_1Matrix33.html#a303763def6e3cd4a08222e9fa8f6faae" title="This function returns an inverse of the matrix.">inv</a>();

    <a class="code" href="classBaseCalculationThread.html#a84e4dde21f873662ba7de13ffaff7c97">mPretransformedRectificationData</a> = <a class="code" href="classBaseCalculationThread.html#a6c8a429894c4641c4b47b4b1ea2f1a52">mRectificationData</a>.<a class="code" href="classcorecvs_1_1RectificationResult.html#ae06de5b30b767d50009ca10a5a9ede3a">addPretransform</a>(<a class="code" href="classBaseCalculationThread.html#a0f4342c169fdadb0de2fee1ab4768def">mInputPretransform</a>);

    <a class="code" href="classBaseCalculationThread.html#a4671421ed945ae474f7271185a2f895c" title="Inverse of previous to use in interpolation of the buffer.">mFrameTransformsInv</a>[<a class="code" href="namespaceInputType.html#ad9e3e564ce8ebbd76128b985d1012610a7c27a3390074f1656cfa401bc704539a" title="Right Frame Right Frame.">Frames::RIGHT_FRAME</a>] = <a class="code" href="classBaseCalculationThread.html#a84e4dde21f873662ba7de13ffaff7c97">mPretransformedRectificationData</a>.<a class="code" href="classcorecvs_1_1RectificationResult.html#a5bbab9528f0608a417463aea0a048430">rightTransform</a>.<a class="code" href="classcorecvs_1_1Matrix33.html#a303763def6e3cd4a08222e9fa8f6faae" title="This function returns an inverse of the matrix.">inv</a>();
    <a class="code" href="classBaseCalculationThread.html#a4671421ed945ae474f7271185a2f895c" title="Inverse of previous to use in interpolation of the buffer.">mFrameTransformsInv</a>[<a class="code" href="namespaceInputType.html#ad9e3e564ce8ebbd76128b985d1012610af28b4c13a348651a5ce4da746975f982" title="Left Frame Left Frame.">Frames::LEFT_FRAME</a>]  = <a class="code" href="classBaseCalculationThread.html#a84e4dde21f873662ba7de13ffaff7c97">mPretransformedRectificationData</a>.<a class="code" href="classcorecvs_1_1RectificationResult.html#ae10362ba31084497d28b6e633221db5f">leftTransform</a> .<a class="code" href="classcorecvs_1_1Matrix33.html#a303763def6e3cd4a08222e9fa8f6faae" title="This function returns an inverse of the matrix.">inv</a>();

    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classBaseCalculationThread.html#a99a99b2359575a7f1c41979c3d827ea1">mActiveInputsNumber</a>; i++)
    {
        <a class="code" href="classcorecvs_1_1G12Buffer.html" title="TODO: Add consts where it should go.">G12Buffer</a> *currentBuffer = <a class="code" href="classAbstractCalculationThread.html#a7b69d907795df8dbd9544fb16d474446" title="Holds the last two sets of frames acquired from the capture device(s)">mFrames</a>.<a class="code" href="classFrames.html#a574575a77ec087df67dd270caa832edc">getCurrentFrame</a>((<a class="code" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687">Frames::FrameSourceId</a>)i);

        Q_ASSERT(currentBuffer != NULL);
        Q_ASSERT(currentBuffer-&gt;<a class="code" href="classcorecvs_1_1AbstractBuffer.html#ab3e67b15f742aa47f24b108c6c5449b7" title="Checks if this buffer has the same size as the other.">hasSameSize</a>(firstInput));



        <span class="keyword">delete</span> <a class="code" href="classBaseCalculationThread.html#a18a8597f022ff37e0ff149bcbbfa68e1" title="The cache of the transformation applied to the left and right image.">mTransformationCache</a>[i];
        mTransformationCache[i] = <span class="keyword">new</span> <a class="code" href="classcorecvs_1_1TransformationCache.html" title="This class is caching the transformation of the buffer.">TransformationCache</a>(<a class="code" href="classBaseCalculationThread.html#a4671421ed945ae474f7271185a2f895c" title="Inverse of previous to use in interpolation of the buffer.">mFrameTransformsInv</a>[i], w, h, currentBuffer-&gt;<a class="code" href="classcorecvs_1_1AbstractBuffer.html#a6be5a0969d374904dc4ff6cd576c9332" title="Buffer size getter.">getSize</a>());
<span class="preprocessor">#ifdef WITH_HARDWARE</span>
<span class="preprocessor"></span>        <span class="comment">//Matrix33 mat = Matrix33::Scale2(1.08) * Matrix33::ShiftProj(-39.5, -39.5) * Matrix33::RotateProj(6.0 / 128.0);</span>
        <span class="keywordflow">try</span> {
            mHardwareCorrectors[i] -&gt; configure(w, h,  <a class="code" href="classBaseCalculationThread.html#a4671421ed945ae474f7271185a2f895c" title="Inverse of previous to use in interpolation of the buffer.">mFrameTransformsInv</a>[i]);<span class="comment">//  mat); // mFrameTransformsInv[i]);</span>
            mHardwareCorrectors[i] -&gt; allocReadBuffers();
        } <span class="keywordflow">catch</span> (Failure fail ) {
            qDebug() &lt;&lt; fail.getReason().c_str();
        }
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
    }

    <a class="code" href="classBaseCalculationThread.html#a3d1d098604952bbaf5d5e0d4411b7463" title="For a thread to start calculating it needs first frame and the input parameters.">mCacheUpdateNeeded</a> = <span class="keyword">false</span>;
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classBaseCalculationThread_af97f32c53fc3d1c35096355aeafdc146_cgraph.svg" width="100%" height="270"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a971579553fac97f778dae4a554003fe0"></a><!-- doxytag: member="RecorderThread::recorderControlParametersChanged" ref="a971579553fac97f778dae4a554003fe0" args="(QSharedPointer&lt; Recorder &gt; params)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classRecorderThread.html#a971579553fac97f778dae4a554003fe0">RecorderThread::recorderControlParametersChanged</a> </td>
          <td>(</td>
          <td class="paramtype">QSharedPointer&lt; <a class="el" href="classRecorder.html">Recorder</a> &gt;&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="recorderThread_8cpp_source.html#l00167">167</a> of file <a class="el" href="recorderThread_8cpp_source.html">recorderThread.cpp</a>.</p>

<p>References <a class="el" href="recorderThread_8h_source.html#l00073">mPath</a>, and <a class="el" href="recorderThread_8h_source.html#l00074">mRecorderParameters</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!recorderParameters)
        <span class="keywordflow">return</span>;

    <a class="code" href="classRecorderThread.html#af11d511bb0a552a6348b3ff02dee2453">mRecorderParameters</a> = recorderParameters;
    <a class="code" href="classRecorderThread.html#aad69c0c33ea64e65a830fb3ab620c300">mPath</a> = QString(recorderParameters-&gt;path().c_str()) + <span class="stringliteral">&quot;/&quot;</span> + QString(recorderParameters-&gt;fileTemplate().c_str());
}
</pre></div>
</div>
</div>
<a class="anchor" id="a73d9be2b27fabd34867707e15bdddaf1"></a><!-- doxytag: member="RecorderThread::recordingStateChanged" ref="a73d9be2b27fabd34867707e15bdddaf1" args="(RecorderThread::RecordingState state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classRecorderThread.html#a73d9be2b27fabd34867707e15bdddaf1">RecorderThread::recordingStateChanged</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRecorderThread.html#a6427dacf37e31067159ac907f4d731b4">RecorderThread::RecordingState</a>&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td><code> [signal]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="recorderThread_8cpp_source.html#l00072">processNewData()</a>, <a class="el" href="recorderThread_8cpp_source.html#l00158">resetRecording()</a>, and <a class="el" href="recorderThread_8cpp_source.html#l00033">toggleRecording()</a>.</p>

</div>
</div>
<a class="anchor" id="a9b0f3b71843d7d64310e955dbb35f796"></a><!-- doxytag: member="RecorderThread::resetRecording" ref="a9b0f3b71843d7d64310e955dbb35f796" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classRecorderThread.html#a9b0f3b71843d7d64310e955dbb35f796">RecorderThread::resetRecording</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="recorderThread_8cpp_source.html#l00158">158</a> of file <a class="el" href="recorderThread_8cpp_source.html">recorderThread.cpp</a>.</p>

<p>References <a class="el" href="recorderThread_8h_source.html#l00072">mFrameCount</a>, <a class="el" href="recorderThread_8h_source.html#l00066">mIsRecording</a>, <a class="el" href="recorderThread_8h_source.html#l00073">mPath</a>, <a class="el" href="recorderThread_8h_source.html#l00065">mRecordingStarted</a>, <a class="el" href="classRecorderThread.html#a73d9be2b27fabd34867707e15bdddaf1">recordingStateChanged()</a>, and <a class="el" href="recorderThread_8h_source.html#l00042">StateRecordingReset</a>.</p>

<p>Referenced by <a class="el" href="recorderThread_8cpp_source.html#l00072">processNewData()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classRecorderThread.html#a7ce1016d07076ef10b93eab485ec376f">mIsRecording</a> = <span class="keyword">false</span>;
    <a class="code" href="classRecorderThread.html#a031662d98731d7fea0d944f843b8d73e">mRecordingStarted</a> = <span class="keyword">false</span>;
    <a class="code" href="classRecorderThread.html#aad69c0c33ea64e65a830fb3ab620c300">mPath</a> = <span class="stringliteral">&quot;&quot;</span>;
    <a class="code" href="classRecorderThread.html#a5a4625a3bff294adeba3536094138a24">mFrameCount</a> = 0;
    emit <a class="code" href="classRecorderThread.html#a73d9be2b27fabd34867707e15bdddaf1">recordingStateChanged</a>(<a class="code" href="classRecorderThread.html#a6427dacf37e31067159ac907f4d731b4a1a2f5b11b52b9ff66557149413eed674">StateRecordingReset</a>);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classRecorderThread_a9b0f3b71843d7d64310e955dbb35f796_cgraph.svg" width="568" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0315964951143d0a3f5a28aca612feeb"></a><!-- doxytag: member="RecorderThread::resumeCalculation" ref="a0315964951143d0a3f5a28aca612feeb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAbstractCalculationThread.html#a0315964951143d0a3f5a28aca612feeb">AbstractCalculationThread::resumeCalculation</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual, slot, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Resumes calculation Should only be called as a asynchronous slot function. </p>

<p>Definition at line <a class="el" href="abstractCalculationThread_8cpp_source.html#l00161">161</a> of file <a class="el" href="abstractCalculationThread_8cpp_source.html">abstractCalculationThread.cpp</a>.</p>

<p>References <a class="el" href="abstractCalculationThread_8h_source.html#l00044">AbstractCalculationThread::CALCULATION_AWAITING_DATA</a>, <a class="el" href="abstractCalculationThread_8h_source.html#l00043">AbstractCalculationThread::CALCULATION_NOT_STARTED</a>, <a class="el" href="abstractCalculationThread_8h_source.html#l00046">AbstractCalculationThread::CALCULATION_PAUSED</a>, <a class="el" href="classAbstractCalculationThread.html#accff9f3bbf936d31d194b17756aa8ebc">AbstractCalculationThread::calculationStateChanged()</a>, and <a class="el" href="abstractCalculationThread_8h_source.html#l00135">AbstractCalculationThread::mCurrentState</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="classAbstractCalculationThread.html#af7fe7173f1c1af49a9d215b35922435e" title="Current calculation state This state can&#39;t be changed directly, but can be queried.">mCurrentState</a> == <a class="code" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4daa412a72e1bad8e8e5cf6d8091436d9229" title="Thread is just created but still not running.">CALCULATION_NOT_STARTED</a>)
    {
        cout &lt;&lt; <span class="stringliteral">&quot;Use start() for the first time.\n&quot;</span>;
        <span class="keywordflow">return</span>;
    }

    <span class="keywordflow">if</span> (<a class="code" href="classAbstractCalculationThread.html#af7fe7173f1c1af49a9d215b35922435e" title="Current calculation state This state can&#39;t be changed directly, but can be queried.">mCurrentState</a> == <a class="code" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4daa4435235084300335baa70c1115c39985" title="Thread is paused, it will ignore incoming frames.">CALCULATION_PAUSED</a>)
    {
        <a class="code" href="classAbstractCalculationThread.html#af7fe7173f1c1af49a9d215b35922435e" title="Current calculation state This state can&#39;t be changed directly, but can be queried.">mCurrentState</a> = <a class="code" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4daa18fa0ad2c8623bdff08e207269c7c512" title="Thread is blocked waiting for signals with frames.">CALCULATION_AWAITING_DATA</a>;
        emit <a class="code" href="classAbstractCalculationThread.html#accff9f3bbf936d31d194b17756aa8ebc">calculationStateChanged</a>(<a class="code" href="classAbstractCalculationThread.html#af7fe7173f1c1af49a9d215b35922435e" title="Current calculation state This state can&#39;t be changed directly, but can be queried.">mCurrentState</a>);
    }
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classAbstractCalculationThread_a0315964951143d0a3f5a28aca612feeb_cgraph.svg" width="100%" height="60"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4c447a4cceb3cbf61d827c7ef6b4c9bb"></a><!-- doxytag: member="RecorderThread::run" ref="a4c447a4cceb3cbf61d827c7ef6b4c9bb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAbstractCalculationThread.html#a4c447a4cceb3cbf61d827c7ef6b4c9bb">AbstractCalculationThread::run</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="abstractCalculationThread_8cpp_source.html#l00051">51</a> of file <a class="el" href="abstractCalculationThread_8cpp_source.html">abstractCalculationThread.cpp</a>.</p>

<p>References <a class="el" href="abstractCalculationThread_8h_source.html#l00044">AbstractCalculationThread::CALCULATION_AWAITING_DATA</a>, <a class="el" href="abstractCalculationThread_8h_source.html#l00047">AbstractCalculationThread::CALCULATION_TERMINATED</a>, and <a class="el" href="abstractCalculationThread_8h_source.html#l00135">AbstractCalculationThread::mCurrentState</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="comment">//    stateLock.lock();</span>
    <a class="code" href="classAbstractCalculationThread.html#af7fe7173f1c1af49a9d215b35922435e" title="Current calculation state This state can&#39;t be changed directly, but can be queried.">mCurrentState</a> = <a class="code" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4daa18fa0ad2c8623bdff08e207269c7c512" title="Thread is blocked waiting for signals with frames.">CALCULATION_AWAITING_DATA</a>;
<span class="comment">//    stateLock.unlock();</span>

    cout &lt;&lt; <span class="stringliteral">&quot;AbstractCalculationThread::run(): starting event loop.\n&quot;</span>;
    exec();
    cout &lt;&lt; <span class="stringliteral">&quot;AbstractCalculationThread::run(): event loop terminated.\n&quot;</span>;

<span class="comment">//    stateLock.lock();</span>
    <a class="code" href="classAbstractCalculationThread.html#af7fe7173f1c1af49a9d215b35922435e" title="Current calculation state This state can&#39;t be changed directly, but can be queried.">mCurrentState</a> = <a class="code" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4daaeee748c80d24a1e00dcca18edf06e55c" title="Thread has exited.">CALCULATION_TERMINATED</a>;
<span class="comment">//    stateLock.unlock();</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="a195e9fbf4625286e9df8309c7e1b3461"></a><!-- doxytag: member="RecorderThread::setCalculationState" ref="a195e9fbf4625286e9df8309c7e1b3461" args="(CalculationState state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classAbstractCalculationThread.html#a195e9fbf4625286e9df8309c7e1b3461">AbstractCalculationThread::setCalculationState</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4da">CalculationState</a>&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td><code> [inline, virtual, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="abstractCalculationThread_8h_source.html#l00090">90</a> of file <a class="el" href="abstractCalculationThread_8h_source.html">abstractCalculationThread.h</a>.</p>

<p>References <a class="el" href="abstractCalculationThread_8h_source.html#l00135">AbstractCalculationThread::mCurrentState</a>.</p>
<div class="fragment"><pre class="fragment">        {
            <a class="code" href="classAbstractCalculationThread.html#af7fe7173f1c1af49a9d215b35922435e" title="Current calculation state This state can&#39;t be changed directly, but can be queried.">mCurrentState</a> = state;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a1b793a97bb171d37d3258bda7fbf404a"></a><!-- doxytag: member="RecorderThread::setImageCaptureInterface" ref="a1b793a97bb171d37d3258bda7fbf404a" args="(ImageCaptureInterface *captureInterface)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAbstractCalculationThread.html#a1b793a97bb171d37d3258bda7fbf404a">AbstractCalculationThread::setImageCaptureInterface</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classImageCaptureInterface.html">ImageCaptureInterface</a> *&#160;</td>
          <td class="paramname"><em>captureInterface</em></td><td>)</td>
          <td><code> [inline, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="abstractCalculationThread_8h_source.html#l00107">107</a> of file <a class="el" href="abstractCalculationThread_8h_source.html">abstractCalculationThread.h</a>.</p>

<p>References <a class="el" href="abstractCalculationThread_8h_source.html#l00117">AbstractCalculationThread::mCaptureInterface</a>, and <a class="el" href="abstractCalculationThread_8h_source.html#l00129">AbstractCalculationThread::mLastFrameTimeStamp</a>.</p>

<p>Referenced by <a class="el" href="baseHostDialog_8cpp_source.html#l00304">BaseHostDialog::initCapture()</a>, and <a class="el" href="baseHostDialog_8cpp_source.html#l00220">BaseHostDialog::stopCalculation()</a>.</p>
<div class="fragment"><pre class="fragment">        {
            <a class="code" href="classAbstractCalculationThread.html#a69089cfc7f126d9803d2dfd98714d0e5" title="The capture interface we fetch the frames from.">mCaptureInterface</a> = captureInterface;
            <a class="code" href="classAbstractCalculationThread.html#a40e40e0f791e5f4817369c7bcdd63860">mLastFrameTimeStamp</a> = 0;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a431002cffd853fa3a3753f376beec6e5"></a><!-- doxytag: member="RecorderThread::setLeftTransform" ref="a431002cffd853fa3a3753f376beec6e5" args="(Matrix33 &amp;leftTransform)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classBaseCalculationThread.html#a431002cffd853fa3a3753f376beec6e5">BaseCalculationThread::setLeftTransform</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a> &amp;&#160;</td>
          <td class="paramname"><em>leftTransform</em></td><td>)</td>
          <td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a1cb6aeb9a56d9d9e8ee499ca0907366d"></a><!-- doxytag: member="RecorderThread::toggleRecording" ref="a1cb6aeb9a56d9d9e8ee499ca0907366d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classRecorderThread.html#a1cb6aeb9a56d9d9e8ee499ca0907366d">RecorderThread::toggleRecording</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="recorderThread_8cpp_source.html#l00033">33</a> of file <a class="el" href="recorderThread_8cpp_source.html">recorderThread.cpp</a>.</p>

<p>References <a class="el" href="recorderThread_8h_source.html#l00066">mIsRecording</a>, <a class="el" href="recorderThread_8h_source.html#l00074">mRecorderParameters</a>, <a class="el" href="recorderThread_8h_source.html#l00065">mRecordingStarted</a>, <a class="el" href="classRecorderThread.html#a73d9be2b27fabd34867707e15bdddaf1">recordingStateChanged()</a>, <a class="el" href="recorderThread_8h_source.html#l00040">StateRecordingActive</a>, and <a class="el" href="recorderThread_8h_source.html#l00041">StateRecordingPaused</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!<a class="code" href="classRecorderThread.html#a7ce1016d07076ef10b93eab485ec376f">mIsRecording</a>)
    {
        <span class="keywordflow">if</span> (<a class="code" href="classRecorderThread.html#af11d511bb0a552a6348b3ff02dee2453">mRecorderParameters</a>.isNull())
        {
            cout &lt;&lt; <span class="stringliteral">&quot;RecorderThread: Internal error. Recording toggled but no parameters provided.&quot;</span> &lt;&lt; endl;
        }

        <span class="keywordflow">if</span> (<a class="code" href="classRecorderThread.html#af11d511bb0a552a6348b3ff02dee2453">mRecorderParameters</a>-&gt;path().empty())
        {
            cout &lt;&lt; <span class="stringliteral">&quot;RecorderThread: Path is empty&quot;</span> &lt;&lt; endl;
        }

        <span class="keywordflow">if</span> (<a class="code" href="classRecorderThread.html#af11d511bb0a552a6348b3ff02dee2453">mRecorderParameters</a>-&gt;fileTemplate().empty())
        {
            cout &lt;&lt; <span class="stringliteral">&quot;RecorderThread: File template is empty\n&quot;</span>;
        }

        <span class="keywordflow">if</span> (!<a class="code" href="classRecorderThread.html#a031662d98731d7fea0d944f843b8d73e">mRecordingStarted</a>)
        {
            <a class="code" href="classRecorderThread.html#a031662d98731d7fea0d944f843b8d73e">mRecordingStarted</a> = <span class="keyword">true</span>;
            printf(<span class="stringliteral">&quot;Recording started.\n&quot;</span>);
        }
        <span class="keywordflow">else</span>
        {
            printf(<span class="stringliteral">&quot;Recording resumed.\n&quot;</span>);
        }
        <a class="code" href="classRecorderThread.html#a7ce1016d07076ef10b93eab485ec376f">mIsRecording</a> = <span class="keyword">true</span>;
        emit <a class="code" href="classRecorderThread.html#a73d9be2b27fabd34867707e15bdddaf1">recordingStateChanged</a>(<a class="code" href="classRecorderThread.html#a6427dacf37e31067159ac907f4d731b4a9d648e8cbcd0f82ff4bfd7d611a745f2">StateRecordingActive</a>);
    }
    <span class="keywordflow">else</span>
    {
        <a class="code" href="classRecorderThread.html#a7ce1016d07076ef10b93eab485ec376f">mIsRecording</a> = <span class="keyword">false</span>;
        printf(<span class="stringliteral">&quot;Recording paused.\n&quot;</span>);
        emit <a class="code" href="classRecorderThread.html#a73d9be2b27fabd34867707e15bdddaf1">recordingStateChanged</a>(<a class="code" href="classRecorderThread.html#a6427dacf37e31067159ac907f4d731b4a2fadba4e9b3c6501d4f1013f4b370bf0">StateRecordingPaused</a>);
    }
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classRecorderThread_a1cb6aeb9a56d9d9e8ee499ca0907366d_cgraph.svg" width="574" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab0bfc02f4fbca0058d67ad8065741514"></a><!-- doxytag: member="RecorderThread::transformInputFrames" ref="ab0bfc02f4fbca0058d67ad8065741514" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classBaseCalculationThread.html#ab0bfc02f4fbca0058d67ad8065741514">BaseCalculationThread::transformInputFrames</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="baseCalculationThread_8cpp_source.html#l00176">176</a> of file <a class="el" href="baseCalculationThread_8cpp_source.html">baseCalculationThread.cpp</a>.</p>

<p>References <a class="el" href="transformationCache_8cpp_source.html#l00013">corecvs::TransformationCache::doDeformation()</a>, <a class="el" href="abstractContiniousBuffer_8h_source.html#l00342">corecvs::AbstractContiniousBuffer&lt; ElementType, IndexType &gt;::doReverseDeformationBl()</a>, <a class="el" href="filterExecuter_8cpp_source.html#l00037">corecvs::FilterExecuter::filter()</a>, <a class="el" href="frames_8h_source.html#l00037">Frames::getCurrentFrame()</a>, <a class="el" href="abstractBuffer_8h_source.html#l00127">corecvs::AbstractBufferParams::h</a>, <a class="el" href="interpolationType_8h_source.html#l00041">InterpolationType::HARDWARE</a>, <a class="el" href="baseCalculationThread_8h_source.html#l00114">BaseCalculationThread::mActiveInputsNumber</a>, <a class="el" href="baseCalculationThread_8h_source.html#l00116">BaseCalculationThread::mBaseParams</a>, <a class="el" href="baseCalculationThread_8h_source.html#l00111">BaseCalculationThread::mDistortionTransform</a>, <a class="el" href="baseCalculationThread_8h_source.html#l00086">BaseCalculationThread::mFilterExecuter</a>, <a class="el" href="abstractCalculationThread_8h_source.html#l00122">AbstractCalculationThread::mFrames</a>, <a class="el" href="baseCalculationThread_8h_source.html#l00066">BaseCalculationThread::mTransformationCache</a>, <a class="el" href="baseCalculationThread_8h_source.html#l00075">BaseCalculationThread::mTransformedBuffers</a>, and <a class="el" href="abstractBuffer_8h_source.html#l00128">corecvs::AbstractBufferParams::w</a>.</p>

<p>Referenced by <a class="el" href="baseCalculationThread_8cpp_source.html#l00063">BaseCalculationThread::initData()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classBaseCalculationThread.html#a99a99b2359575a7f1c41979c3d827ea1">mActiveInputsNumber</a>; i++)
    {
        <a class="code" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687">Frames::FrameSourceId</a> frameId = (<a class="code" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687">Frames::FrameSourceId</a>)i;
        <a class="code" href="classcorecvs_1_1G12Buffer.html" title="TODO: Add consts where it should go.">G12Buffer</a> *inputFrame     = <a class="code" href="classAbstractCalculationThread.html#a7b69d907795df8dbd9544fb16d474446" title="Holds the last two sets of frames acquired from the capture device(s)">mFrames</a>.<a class="code" href="classFrames.html#a574575a77ec087df67dd270caa832edc">getCurrentFrame</a>(frameId);
        <a class="code" href="classcorecvs_1_1G12Buffer.html" title="TODO: Add consts where it should go.">G12Buffer</a> *inputFrameOrig = inputFrame;

        <span class="keywordflow">if</span> (<a class="code" href="classBaseCalculationThread.html#aea5eb473a4ea6a7e9bc454abe0f3f87a">mFilterExecuter</a>[i] != NULL &amp;&amp; !<a class="code" href="classBaseCalculationThread.html#aea5eb473a4ea6a7e9bc454abe0f3f87a">mFilterExecuter</a>[i]-&gt;mFilters.empty())
        {
            <a class="code" href="classcorecvs_1_1G12Buffer.html" title="TODO: Add consts where it should go.">G12Buffer</a> *newInputFrame = <a class="code" href="classBaseCalculationThread.html#aea5eb473a4ea6a7e9bc454abe0f3f87a">mFilterExecuter</a>[i]-&gt;<a class="code" href="classcorecvs_1_1FilterExecuter.html#a5427d4601390060ebafb0db118a039e0">filter</a>(inputFrame);
            inputFrame = newInputFrame;
        }

        <span class="keywordflow">if</span> (<a class="code" href="classBaseCalculationThread.html#a6fd7e2edc406dec6b51b710bf71d805f" title="This is a lens precorrection.">mDistortionTransform</a> != NULL)
        {
            <a class="code" href="classcorecvs_1_1G12Buffer.html" title="TODO: Add consts where it should go.">G12Buffer</a> *newInputFrame = inputFrame-&gt;<a class="code" href="classcorecvs_1_1AbstractContiniousBuffer.html#a34af819499a45b5dd52fefdbddefe33d" title="This function template is responsible for applying reverse transformation to the abstract buffer...">doReverseDeformationBl</a>&lt;<a class="code" href="classcorecvs_1_1G12Buffer.html" title="TODO: Add consts where it should go.">G12Buffer</a>, <a class="code" href="classcorecvs_1_1DisplacementBuffer.html" title="This buffer stores a buffer deformation - a shift of the buffer pixels.">DisplacementBuffer</a>&gt;(
                <a class="code" href="classBaseCalculationThread.html#a6fd7e2edc406dec6b51b710bf71d805f" title="This is a lens precorrection.">mDistortionTransform</a>.data(),
                inputFrame-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a88e969182e3f07bb3600de841b409e9b">h</a>, inputFrame-&gt;<a class="code" href="classcorecvs_1_1AbstractBufferParams.html#a7ff3d372b9a613e451a379a4427e2623">w</a>
            );
            <span class="keywordflow">if</span> (inputFrame != inputFrameOrig)
                <span class="keyword">delete</span> inputFrame;
            inputFrame = newInputFrame;
        }

        delete_safe (<a class="code" href="classBaseCalculationThread.html#a857dded8c392da36dfeae430987fe4c9" title="Transformed buffers.">mTransformedBuffers</a>[i]);
<span class="preprocessor">#ifdef WITH_HARDWARE</span>
<span class="preprocessor"></span>        <span class="keywordflow">if</span> (<a class="code" href="classBaseCalculationThread.html#aea77314a077ced16b495daf1ae473a9c">mBaseParams</a>-&gt;interpolationType() == <a class="code" href="namespaceInterpolationType.html#ab9beab1dfc0ec136a7273b69650207ffa5534fe34722488789c9f97e0da270d06" title="Hardware Hardware.">InterpolationType::HARDWARE</a>)
        {
            <span class="keywordflow">try</span> {
                <a class="code" href="classBaseCalculationThread.html#a857dded8c392da36dfeae430987fe4c9" title="Transformed buffers.">mTransformedBuffers</a>[i] = <span class="keyword">new</span> <a class="code" href="classcorecvs_1_1G12Buffer.html" title="TODO: Add consts where it should go.">G12Buffer</a>(inputFrame);
                mHardwareCorrectors[i] -&gt; processABuffer(1, *(<a class="code" href="classBaseCalculationThread.html#a857dded8c392da36dfeae430987fe4c9" title="Transformed buffers.">mTransformedBuffers</a>[i]));
            } <span class="keywordflow">catch</span> (Failure fail ) {
                qDebug() &lt;&lt; fail.getReason().c_str();
            }
        } <span class="keywordflow">else</span>
        {
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>        <a class="code" href="classBaseCalculationThread.html#a857dded8c392da36dfeae430987fe4c9" title="Transformed buffers.">mTransformedBuffers</a>[i] = <a class="code" href="classBaseCalculationThread.html#a18a8597f022ff37e0ff149bcbbfa68e1" title="The cache of the transformation applied to the left and right image.">mTransformationCache</a>[i]-&gt;<a class="code" href="classcorecvs_1_1TransformationCache.html#a0f75f9a05bb80f0e909ff8481a61093f">doDeformation</a>(<a class="code" href="classBaseCalculationThread.html#aea77314a077ced16b495daf1ae473a9c">mBaseParams</a>-&gt;interpolationType(), inputFrame);
<span class="preprocessor">#ifdef WITH_HARDWARE</span>
<span class="preprocessor"></span>        }
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>

        <span class="keywordflow">if</span> (inputFrame != inputFrameOrig)
        {
            delete_safe(inputFrame);
        }
    } <span class="comment">// for (int i = 0; i &lt; mInputsN; i++)</span>
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classBaseCalculationThread_ab0bfc02f4fbca0058d67ad8065741514_cgraph.svg" width="100%" height="230"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a99a99b2359575a7f1c41979c3d827ea1"></a><!-- doxytag: member="RecorderThread::mActiveInputsNumber" ref="a99a99b2359575a7f1c41979c3d827ea1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBaseCalculationThread.html#a99a99b2359575a7f1c41979c3d827ea1">BaseCalculationThread::mActiveInputsNumber</a><code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="baseCalculationThread_8h_source.html#l00114">114</a> of file <a class="el" href="baseCalculationThread_8h_source.html">baseCalculationThread.h</a>.</p>

<p>Referenced by <a class="el" href="baseCalculationThread_8cpp_source.html#l00280">BaseCalculationThread::camerasParametersChanged()</a>, <a class="el" href="baseCalculationThread_8cpp_source.html#l00063">BaseCalculationThread::initData()</a>, <a class="el" href="recorderThread_8cpp_source.html#l00072">processNewData()</a>, <a class="el" href="baseCalculationThread_8cpp_source.html#l00329">BaseCalculationThread::recalculateCache()</a>, and <a class="el" href="baseCalculationThread_8cpp_source.html#l00176">BaseCalculationThread::transformInputFrames()</a>.</p>

</div>
</div>
<a class="anchor" id="aea77314a077ced16b495daf1ae473a9c"></a><!-- doxytag: member="RecorderThread::mBaseParams" ref="aea77314a077ced16b495daf1ae473a9c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QSharedPointer&lt;<a class="el" href="classBaseParameters.html">BaseParameters</a>&gt; <a class="el" href="classBaseCalculationThread.html#aea77314a077ced16b495daf1ae473a9c">BaseCalculationThread::mBaseParams</a><code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="baseCalculationThread_8h_source.html#l00116">116</a> of file <a class="el" href="baseCalculationThread_8h_source.html">baseCalculationThread.h</a>.</p>

<p>Referenced by <a class="el" href="baseCalculationThread_8cpp_source.html#l00266">BaseCalculationThread::baseControlParametersChanged()</a>, <a class="el" href="baseCalculationThread_8cpp_source.html#l00095">BaseCalculationThread::executeFilterGraph()</a>, <a class="el" href="baseCalculationThread_8cpp_source.html#l00063">BaseCalculationThread::initData()</a>, <a class="el" href="recorderThread_8cpp_source.html#l00072">processNewData()</a>, <a class="el" href="baseCalculationThread_8cpp_source.html#l00329">BaseCalculationThread::recalculateCache()</a>, and <a class="el" href="baseCalculationThread_8cpp_source.html#l00176">BaseCalculationThread::transformInputFrames()</a>.</p>

</div>
</div>
<a class="anchor" id="a3d1d098604952bbaf5d5e0d4411b7463"></a><!-- doxytag: member="RecorderThread::mCacheUpdateNeeded" ref="a3d1d098604952bbaf5d5e0d4411b7463" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classBaseCalculationThread.html#a3d1d098604952bbaf5d5e0d4411b7463">BaseCalculationThread::mCacheUpdateNeeded</a><code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>For a thread to start calculating it needs first frame and the input parameters. </p>
<p>When we get new params, we should recalculate cached data. </p>

<p>Definition at line <a class="el" href="baseCalculationThread_8h_source.html#l00124">124</a> of file <a class="el" href="baseCalculationThread_8h_source.html">baseCalculationThread.h</a>.</p>

<p>Referenced by <a class="el" href="baseCalculationThread_8cpp_source.html#l00266">BaseCalculationThread::baseControlParametersChanged()</a>, <a class="el" href="baseCalculationThread_8cpp_source.html#l00280">BaseCalculationThread::camerasParametersChanged()</a>, and <a class="el" href="baseCalculationThread_8cpp_source.html#l00329">BaseCalculationThread::recalculateCache()</a>.</p>

</div>
</div>
<a class="anchor" id="a69089cfc7f126d9803d2dfd98714d0e5"></a><!-- doxytag: member="RecorderThread::mCaptureInterface" ref="a69089cfc7f126d9803d2dfd98714d0e5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classImageCaptureInterface.html">ImageCaptureInterface</a>* <a class="el" href="classAbstractCalculationThread.html#a69089cfc7f126d9803d2dfd98714d0e5">AbstractCalculationThread::mCaptureInterface</a><code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The capture interface we fetch the frames from. </p>

<p>Definition at line <a class="el" href="abstractCalculationThread_8h_source.html#l00117">117</a> of file <a class="el" href="abstractCalculationThread_8h_source.html">abstractCalculationThread.h</a>.</p>

<p>Referenced by <a class="el" href="abstractCalculationThread_8cpp_source.html#l00066">AbstractCalculationThread::newFrameReady()</a>, and <a class="el" href="abstractCalculationThread_8h_source.html#l00107">AbstractCalculationThread::setImageCaptureInterface()</a>.</p>

</div>
</div>
<a class="anchor" id="af7fe7173f1c1af49a9d215b35922435e"></a><!-- doxytag: member="RecorderThread::mCurrentState" ref="af7fe7173f1c1af49a9d215b35922435e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAbstractCalculationThread.html#a0e17177076222f19148df7f86ea4d4da">CalculationState</a> <a class="el" href="classAbstractCalculationThread.html#af7fe7173f1c1af49a9d215b35922435e">AbstractCalculationThread::mCurrentState</a><code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Current calculation state This state can't be changed directly, but can be queried. </p>

<p>Definition at line <a class="el" href="abstractCalculationThread_8h_source.html#l00135">135</a> of file <a class="el" href="abstractCalculationThread_8h_source.html">abstractCalculationThread.h</a>.</p>

<p>Referenced by <a class="el" href="abstractCalculationThread_8h_source.html#l00095">AbstractCalculationThread::getCalculationState()</a>, <a class="el" href="abstractCalculationThread_8cpp_source.html#l00066">AbstractCalculationThread::newFrameReady()</a>, <a class="el" href="abstractCalculationThread_8cpp_source.html#l00144">AbstractCalculationThread::pauseCalculation()</a>, <a class="el" href="abstractCalculationThread_8cpp_source.html#l00161">AbstractCalculationThread::resumeCalculation()</a>, <a class="el" href="abstractCalculationThread_8cpp_source.html#l00051">AbstractCalculationThread::run()</a>, and <a class="el" href="abstractCalculationThread_8h_source.html#l00090">AbstractCalculationThread::setCalculationState()</a>.</p>

</div>
</div>
<a class="anchor" id="a6fd7e2edc406dec6b51b710bf71d805f"></a><!-- doxytag: member="RecorderThread::mDistortionTransform" ref="a6fd7e2edc406dec6b51b710bf71d805f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QSharedPointer&lt;<a class="el" href="classcorecvs_1_1DisplacementBuffer.html">DisplacementBuffer</a>&gt; <a class="el" href="classBaseCalculationThread.html#a6fd7e2edc406dec6b51b710bf71d805f">BaseCalculationThread::mDistortionTransform</a><code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is a lens precorrection. </p>

<p>Definition at line <a class="el" href="baseCalculationThread_8h_source.html#l00111">111</a> of file <a class="el" href="baseCalculationThread_8h_source.html">baseCalculationThread.h</a>.</p>

<p>Referenced by <a class="el" href="baseCalculationThread_8cpp_source.html#l00280">BaseCalculationThread::camerasParametersChanged()</a>, <a class="el" href="baseCalculationThread_8cpp_source.html#l00095">BaseCalculationThread::executeFilterGraph()</a>, <a class="el" href="baseCalculationThread_8cpp_source.html#l00176">BaseCalculationThread::transformInputFrames()</a>, and <a class="el" href="baseCalculationThread_8cpp_source.html#l00227">BaseCalculationThread::~BaseCalculationThread()</a>.</p>

</div>
</div>
<a class="anchor" id="aea5eb473a4ea6a7e9bc454abe0f3f87a"></a><!-- doxytag: member="RecorderThread::mFilterExecuter" ref="aea5eb473a4ea6a7e9bc454abe0f3f87a" args="[Frames::MAX_INPUTS_NUMBER]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1FilterExecuter.html">FilterExecuter</a>* <a class="el" href="classBaseCalculationThread.html#aea5eb473a4ea6a7e9bc454abe0f3f87a">BaseCalculationThread::mFilterExecuter</a>[<a class="el" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687a21fbb034d44df7e056fc99ad39bbca2e">Frames::MAX_INPUTS_NUMBER</a>]<code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="baseCalculationThread_8h_source.html#l00086">86</a> of file <a class="el" href="baseCalculationThread_8h_source.html">baseCalculationThread.h</a>.</p>

<p>Referenced by <a class="el" href="baseCalculationThread_8cpp_source.html#l00026">BaseCalculationThread::BaseCalculationThread()</a>, <a class="el" href="baseCalculationThread_8cpp_source.html#l00252">BaseCalculationThread::filterControlParametersChanged()</a>, <a class="el" href="baseCalculationThread_8cpp_source.html#l00176">BaseCalculationThread::transformInputFrames()</a>, and <a class="el" href="baseCalculationThread_8cpp_source.html#l00227">BaseCalculationThread::~BaseCalculationThread()</a>.</p>

</div>
</div>
<a class="anchor" id="ac1f5153f75cba89d4b1213c1e9237812"></a><!-- doxytag: member="RecorderThread::mFiltersCollection" ref="ac1f5153f75cba89d4b1213c1e9237812" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1FiltersCollection.html">FiltersCollection</a> <a class="el" href="classAbstractCalculationThread.html#ac1f5153f75cba89d4b1213c1e9237812">AbstractCalculationThread::mFiltersCollection</a><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="abstractCalculationThread_8h_source.html#l00152">152</a> of file <a class="el" href="abstractCalculationThread_8h_source.html">abstractCalculationThread.h</a>.</p>

<p>Referenced by <a class="el" href="baseCalculationThread_8cpp_source.html#l00026">BaseCalculationThread::BaseCalculationThread()</a>, <a class="el" href="baseCalculationThread_8cpp_source.html#l00244">BaseCalculationThread::graphChanged()</a>, and <a class="el" href="baseHostDialog_8cpp_source.html#l00093">BaseHostDialog::initGraphPresentation()</a>.</p>

</div>
</div>
<a class="anchor" id="a5a4625a3bff294adeba3536094138a24"></a><!-- doxytag: member="RecorderThread::mFrameCount" ref="a5a4625a3bff294adeba3536094138a24" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint__win_8h.html#a6eb1e68cc391dd753bc8ce896dbb8315">uint32_t</a> <a class="el" href="classRecorderThread.html#a5a4625a3bff294adeba3536094138a24">RecorderThread::mFrameCount</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="recorderThread_8h_source.html#l00072">72</a> of file <a class="el" href="recorderThread_8h_source.html">recorderThread.h</a>.</p>

<p>Referenced by <a class="el" href="recorderThread_8cpp_source.html#l00072">processNewData()</a>, and <a class="el" href="recorderThread_8cpp_source.html#l00158">resetRecording()</a>.</p>

</div>
</div>
<a class="anchor" id="a7b69d907795df8dbd9544fb16d474446"></a><!-- doxytag: member="RecorderThread::mFrames" ref="a7b69d907795df8dbd9544fb16d474446" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFrames.html">Frames</a> <a class="el" href="classAbstractCalculationThread.html#a7b69d907795df8dbd9544fb16d474446">AbstractCalculationThread::mFrames</a><code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Holds the last two sets of frames acquired from the capture device(s) </p>

<p>Definition at line <a class="el" href="abstractCalculationThread_8h_source.html#l00122">122</a> of file <a class="el" href="abstractCalculationThread_8h_source.html">abstractCalculationThread.h</a>.</p>

<p>Referenced by <a class="el" href="baseCalculationThread_8cpp_source.html#l00095">BaseCalculationThread::executeFilterGraph()</a>, <a class="el" href="abstractCalculationThread_8h_source.html#l00100">AbstractCalculationThread::getFramesHolder()</a>, <a class="el" href="baseCalculationThread_8cpp_source.html#l00063">BaseCalculationThread::initData()</a>, <a class="el" href="abstractCalculationThread_8cpp_source.html#l00066">AbstractCalculationThread::newFrameReady()</a>, <a class="el" href="recorderThread_8cpp_source.html#l00072">processNewData()</a>, <a class="el" href="baseCalculationThread_8cpp_source.html#l00329">BaseCalculationThread::recalculateCache()</a>, and <a class="el" href="baseCalculationThread_8cpp_source.html#l00176">BaseCalculationThread::transformInputFrames()</a>.</p>

</div>
</div>
<a class="anchor" id="a79a3eae6ffa42173d708926a9ebeab9c"></a><!-- doxytag: member="RecorderThread::mFrameTransforms" ref="a79a3eae6ffa42173d708926a9ebeab9c" args="[Frames::MAX_INPUTS_NUMBER]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a> <a class="el" href="classBaseCalculationThread.html#a79a3eae6ffa42173d708926a9ebeab9c">BaseCalculationThread::mFrameTransforms</a>[<a class="el" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687a21fbb034d44df7e056fc99ad39bbca2e">Frames::MAX_INPUTS_NUMBER</a>]<code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The transforms from original input image camera image to rectified image. </p>

<p>Definition at line <a class="el" href="baseCalculationThread_8h_source.html#l00102">102</a> of file <a class="el" href="baseCalculationThread_8h_source.html">baseCalculationThread.h</a>.</p>

<p>Referenced by <a class="el" href="baseCalculationThread_8cpp_source.html#l00026">BaseCalculationThread::BaseCalculationThread()</a>.</p>

</div>
</div>
<a class="anchor" id="a4671421ed945ae474f7271185a2f895c"></a><!-- doxytag: member="RecorderThread::mFrameTransformsInv" ref="a4671421ed945ae474f7271185a2f895c" args="[Frames::MAX_INPUTS_NUMBER]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a> <a class="el" href="classBaseCalculationThread.html#a4671421ed945ae474f7271185a2f895c">BaseCalculationThread::mFrameTransformsInv</a>[<a class="el" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687a21fbb034d44df7e056fc99ad39bbca2e">Frames::MAX_INPUTS_NUMBER</a>]<code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Inverse of previous to use in interpolation of the buffer. </p>

<p>Definition at line <a class="el" href="baseCalculationThread_8h_source.html#l00106">106</a> of file <a class="el" href="baseCalculationThread_8h_source.html">baseCalculationThread.h</a>.</p>

<p>Referenced by <a class="el" href="baseCalculationThread_8cpp_source.html#l00329">BaseCalculationThread::recalculateCache()</a>.</p>

</div>
</div>
<a class="anchor" id="a74b8f68361439d15cf0cfadc901171b4"></a><!-- doxytag: member="RecorderThread::mIdleTimer" ref="a74b8f68361439d15cf0cfadc901171b4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1PreciseTimer.html">PreciseTimer</a> <a class="el" href="classRecorderThread.html#a74b8f68361439d15cf0cfadc901171b4">RecorderThread::mIdleTimer</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="recorderThread_8h_source.html#l00067">67</a> of file <a class="el" href="recorderThread_8h_source.html">recorderThread.h</a>.</p>

<p>Referenced by <a class="el" href="recorderThread_8cpp_source.html#l00072">processNewData()</a>, and <a class="el" href="recorderThread_8cpp_source.html#l00021">RecorderThread()</a>.</p>

</div>
</div>
<a class="anchor" id="a0f4342c169fdadb0de2fee1ab4768def"></a><!-- doxytag: member="RecorderThread::mInputPretransform" ref="a0f4342c169fdadb0de2fee1ab4768def" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a> <a class="el" href="classBaseCalculationThread.html#a0f4342c169fdadb0de2fee1ab4768def">BaseCalculationThread::mInputPretransform</a><code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="baseCalculationThread_8h_source.html#l00095">95</a> of file <a class="el" href="baseCalculationThread_8h_source.html">baseCalculationThread.h</a>.</p>

<p>Referenced by <a class="el" href="baseCalculationThread_8cpp_source.html#l00329">BaseCalculationThread::recalculateCache()</a>.</p>

</div>
</div>
<a class="anchor" id="a3d44498bac9884f8b24b65a606de9563"></a><!-- doxytag: member="RecorderThread::mInputPretransformInv" ref="a3d44498bac9884f8b24b65a606de9563" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a> <a class="el" href="classBaseCalculationThread.html#a3d44498bac9884f8b24b65a606de9563">BaseCalculationThread::mInputPretransformInv</a><code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="baseCalculationThread_8h_source.html#l00097">97</a> of file <a class="el" href="baseCalculationThread_8h_source.html">baseCalculationThread.h</a>.</p>

<p>Referenced by <a class="el" href="baseCalculationThread_8cpp_source.html#l00329">BaseCalculationThread::recalculateCache()</a>.</p>

</div>
</div>
<a class="anchor" id="a51d905729ecbbe8b6a5050bded987717"></a><!-- doxytag: member="RecorderThread::mInterframeDelay" ref="a51d905729ecbbe8b6a5050bded987717" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint__win_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> <a class="el" href="classAbstractCalculationThread.html#a51d905729ecbbe8b6a5050bded987717">AbstractCalculationThread::mInterframeDelay</a><code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Delay between this and previous frame. </p>

<p>Definition at line <a class="el" href="abstractCalculationThread_8h_source.html#l00127">127</a> of file <a class="el" href="abstractCalculationThread_8h_source.html">abstractCalculationThread.h</a>.</p>

<p>Referenced by <a class="el" href="abstractCalculationThread_8cpp_source.html#l00066">AbstractCalculationThread::newFrameReady()</a>.</p>

</div>
</div>
<a class="anchor" id="a7ce1016d07076ef10b93eab485ec376f"></a><!-- doxytag: member="RecorderThread::mIsRecording" ref="a7ce1016d07076ef10b93eab485ec376f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classRecorderThread.html#a7ce1016d07076ef10b93eab485ec376f">RecorderThread::mIsRecording</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="recorderThread_8h_source.html#l00066">66</a> of file <a class="el" href="recorderThread_8h_source.html">recorderThread.h</a>.</p>

<p>Referenced by <a class="el" href="recorderThread_8cpp_source.html#l00072">processNewData()</a>, <a class="el" href="recorderThread_8cpp_source.html#l00158">resetRecording()</a>, and <a class="el" href="recorderThread_8cpp_source.html#l00033">toggleRecording()</a>.</p>

</div>
</div>
<a class="anchor" id="a40e40e0f791e5f4817369c7bcdd63860"></a><!-- doxytag: member="RecorderThread::mLastFrameTimeStamp" ref="a40e40e0f791e5f4817369c7bcdd63860" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint__win_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> <a class="el" href="classAbstractCalculationThread.html#a40e40e0f791e5f4817369c7bcdd63860">AbstractCalculationThread::mLastFrameTimeStamp</a><code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="abstractCalculationThread_8h_source.html#l00129">129</a> of file <a class="el" href="abstractCalculationThread_8h_source.html">abstractCalculationThread.h</a>.</p>

<p>Referenced by <a class="el" href="abstractCalculationThread_8cpp_source.html#l00066">AbstractCalculationThread::newFrameReady()</a>, and <a class="el" href="abstractCalculationThread_8h_source.html#l00107">AbstractCalculationThread::setImageCaptureInterface()</a>.</p>

</div>
</div>
<a class="anchor" id="aad69c0c33ea64e65a830fb3ab620c300"></a><!-- doxytag: member="RecorderThread::mPath" ref="aad69c0c33ea64e65a830fb3ab620c300" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString <a class="el" href="classRecorderThread.html#aad69c0c33ea64e65a830fb3ab620c300">RecorderThread::mPath</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="recorderThread_8h_source.html#l00073">73</a> of file <a class="el" href="recorderThread_8h_source.html">recorderThread.h</a>.</p>

<p>Referenced by <a class="el" href="recorderThread_8cpp_source.html#l00072">processNewData()</a>, <a class="el" href="recorderThread_8cpp_source.html#l00167">recorderControlParametersChanged()</a>, and <a class="el" href="recorderThread_8cpp_source.html#l00158">resetRecording()</a>.</p>

</div>
</div>
<a class="anchor" id="ae8225d3895b38208aa2e5f1efc9a4e8f"></a><!-- doxytag: member="RecorderThread::mPresentationParams" ref="ae8225d3895b38208aa2e5f1efc9a4e8f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QSharedPointer&lt;<a class="el" href="classPresentationParameters.html">PresentationParameters</a>&gt; <a class="el" href="classBaseCalculationThread.html#ae8225d3895b38208aa2e5f1efc9a4e8f">BaseCalculationThread::mPresentationParams</a><code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="baseCalculationThread_8h_source.html#l00117">117</a> of file <a class="el" href="baseCalculationThread_8h_source.html">baseCalculationThread.h</a>.</p>

<p>Referenced by <a class="el" href="baseCalculationThread_8cpp_source.html#l00063">BaseCalculationThread::initData()</a>, <a class="el" href="baseCalculationThread_8cpp_source.html#l00274">BaseCalculationThread::presentationControlParametersChanged()</a>, and <a class="el" href="recorderThread_8cpp_source.html#l00072">processNewData()</a>.</p>

</div>
</div>
<a class="anchor" id="a84e4dde21f873662ba7de13ffaff7c97"></a><!-- doxytag: member="RecorderThread::mPretransformedRectificationData" ref="a84e4dde21f873662ba7de13ffaff7c97" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1RectificationResult.html">RectificationResult</a> <a class="el" href="classBaseCalculationThread.html#a84e4dde21f873662ba7de13ffaff7c97">BaseCalculationThread::mPretransformedRectificationData</a><code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="baseCalculationThread_8h_source.html#l00092">92</a> of file <a class="el" href="baseCalculationThread_8h_source.html">baseCalculationThread.h</a>.</p>

<p>Referenced by <a class="el" href="baseCalculationThread_8cpp_source.html#l00329">BaseCalculationThread::recalculateCache()</a>.</p>

</div>
</div>
<a class="anchor" id="abab5db480d8bb7a69c27ac9e83e9a27a"></a><!-- doxytag: member="RecorderThread::mProcessorGraph" ref="abab5db480d8bb7a69c27ac9e83e9a27a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1FilterGraph.html">FilterGraph</a>* <a class="el" href="classBaseCalculationThread.html#abab5db480d8bb7a69c27ac9e83e9a27a">BaseCalculationThread::mProcessorGraph</a><code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="baseCalculationThread_8h_source.html#l00125">125</a> of file <a class="el" href="baseCalculationThread_8h_source.html">baseCalculationThread.h</a>.</p>

<p>Referenced by <a class="el" href="baseCalculationThread_8cpp_source.html#l00026">BaseCalculationThread::BaseCalculationThread()</a>, <a class="el" href="baseCalculationThread_8cpp_source.html#l00095">BaseCalculationThread::executeFilterGraph()</a>, <a class="el" href="baseCalculationThread_8cpp_source.html#l00244">BaseCalculationThread::graphChanged()</a>, and <a class="el" href="baseCalculationThread_8cpp_source.html#l00227">BaseCalculationThread::~BaseCalculationThread()</a>.</p>

</div>
</div>
<a class="anchor" id="af11d511bb0a552a6348b3ff02dee2453"></a><!-- doxytag: member="RecorderThread::mRecorderParameters" ref="af11d511bb0a552a6348b3ff02dee2453" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QSharedPointer&lt;<a class="el" href="classRecorder.html">Recorder</a>&gt; <a class="el" href="classRecorderThread.html#af11d511bb0a552a6348b3ff02dee2453">RecorderThread::mRecorderParameters</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="recorderThread_8h_source.html#l00074">74</a> of file <a class="el" href="recorderThread_8h_source.html">recorderThread.h</a>.</p>

<p>Referenced by <a class="el" href="recorderThread_8cpp_source.html#l00072">processNewData()</a>, <a class="el" href="recorderThread_8cpp_source.html#l00167">recorderControlParametersChanged()</a>, and <a class="el" href="recorderThread_8cpp_source.html#l00033">toggleRecording()</a>.</p>

</div>
</div>
<a class="anchor" id="a031662d98731d7fea0d944f843b8d73e"></a><!-- doxytag: member="RecorderThread::mRecordingStarted" ref="a031662d98731d7fea0d944f843b8d73e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classRecorderThread.html#a031662d98731d7fea0d944f843b8d73e">RecorderThread::mRecordingStarted</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="recorderThread_8h_source.html#l00065">65</a> of file <a class="el" href="recorderThread_8h_source.html">recorderThread.h</a>.</p>

<p>Referenced by <a class="el" href="recorderThread_8cpp_source.html#l00158">resetRecording()</a>, and <a class="el" href="recorderThread_8cpp_source.html#l00033">toggleRecording()</a>.</p>

</div>
</div>
<a class="anchor" id="a6c8a429894c4641c4b47b4b1ea2f1a52"></a><!-- doxytag: member="RecorderThread::mRectificationData" ref="a6c8a429894c4641c4b47b4b1ea2f1a52" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1RectificationResult.html">RectificationResult</a> <a class="el" href="classBaseCalculationThread.html#a6c8a429894c4641c4b47b4b1ea2f1a52">BaseCalculationThread::mRectificationData</a><code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="baseCalculationThread_8h_source.html#l00089">89</a> of file <a class="el" href="baseCalculationThread_8h_source.html">baseCalculationThread.h</a>.</p>

<p>Referenced by <a class="el" href="baseCalculationThread_8cpp_source.html#l00280">BaseCalculationThread::camerasParametersChanged()</a>, and <a class="el" href="baseCalculationThread_8cpp_source.html#l00329">BaseCalculationThread::recalculateCache()</a>.</p>

</div>
</div>
<a class="anchor" id="a649298a4582ed9d7bb5c5a28709a51bc"></a><!-- doxytag: member="RecorderThread::mSaver" ref="a649298a4582ed9d7bb5c5a28709a51bc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1PPMLoader.html">PPMLoader</a> <a class="el" href="classRecorderThread.html#a649298a4582ed9d7bb5c5a28709a51bc">RecorderThread::mSaver</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="recorderThread_8h_source.html#l00070">70</a> of file <a class="el" href="recorderThread_8h_source.html">recorderThread.h</a>.</p>

<p>Referenced by <a class="el" href="recorderThread_8cpp_source.html#l00072">processNewData()</a>.</p>

</div>
</div>
<a class="anchor" id="a18a8597f022ff37e0ff149bcbbfa68e1"></a><!-- doxytag: member="RecorderThread::mTransformationCache" ref="a18a8597f022ff37e0ff149bcbbfa68e1" args="[Frames::MAX_INPUTS_NUMBER]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1TransformationCache.html">TransformationCache</a>* <a class="el" href="classBaseCalculationThread.html#a18a8597f022ff37e0ff149bcbbfa68e1">BaseCalculationThread::mTransformationCache</a>[<a class="el" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687a21fbb034d44df7e056fc99ad39bbca2e">Frames::MAX_INPUTS_NUMBER</a>]<code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The cache of the transformation applied to the left and right image. </p>

<p>Definition at line <a class="el" href="baseCalculationThread_8h_source.html#l00066">66</a> of file <a class="el" href="baseCalculationThread_8h_source.html">baseCalculationThread.h</a>.</p>

<p>Referenced by <a class="el" href="baseCalculationThread_8cpp_source.html#l00026">BaseCalculationThread::BaseCalculationThread()</a>, <a class="el" href="baseCalculationThread_8cpp_source.html#l00095">BaseCalculationThread::executeFilterGraph()</a>, <a class="el" href="recorderThread_8cpp_source.html#l00072">processNewData()</a>, <a class="el" href="baseCalculationThread_8cpp_source.html#l00329">BaseCalculationThread::recalculateCache()</a>, <a class="el" href="baseCalculationThread_8cpp_source.html#l00176">BaseCalculationThread::transformInputFrames()</a>, and <a class="el" href="baseCalculationThread_8cpp_source.html#l00227">BaseCalculationThread::~BaseCalculationThread()</a>.</p>

</div>
</div>
<a class="anchor" id="a857dded8c392da36dfeae430987fe4c9"></a><!-- doxytag: member="RecorderThread::mTransformedBuffers" ref="a857dded8c392da36dfeae430987fe4c9" args="[Frames::MAX_INPUTS_NUMBER]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1G12Buffer.html">G12Buffer</a>* <a class="el" href="classBaseCalculationThread.html#a857dded8c392da36dfeae430987fe4c9">BaseCalculationThread::mTransformedBuffers</a>[<a class="el" href="classFrames.html#a4ea890cbf5b42306b2f6c9df09a8b687a21fbb034d44df7e056fc99ad39bbca2e">Frames::MAX_INPUTS_NUMBER</a>]<code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Transformed buffers. </p>

<p>Definition at line <a class="el" href="baseCalculationThread_8h_source.html#l00075">75</a> of file <a class="el" href="baseCalculationThread_8h_source.html">baseCalculationThread.h</a>.</p>

<p>Referenced by <a class="el" href="baseCalculationThread_8cpp_source.html#l00026">BaseCalculationThread::BaseCalculationThread()</a>, <a class="el" href="baseCalculationThread_8cpp_source.html#l00095">BaseCalculationThread::executeFilterGraph()</a>, <a class="el" href="baseCalculationThread_8cpp_source.html#l00063">BaseCalculationThread::initData()</a>, <a class="el" href="baseCalculationThread_8cpp_source.html#l00176">BaseCalculationThread::transformInputFrames()</a>, and <a class="el" href="baseCalculationThread_8cpp_source.html#l00227">BaseCalculationThread::~BaseCalculationThread()</a>.</p>

</div>
</div>
<a class="anchor" id="a0245b40575283af33ea2e0077d54364e"></a><!-- doxytag: member="RecorderThread::stateNames" ref="a0245b40575283af33ea2e0077d54364e" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * <a class="el" href="classAbstractCalculationThread.html#a0245b40575283af33ea2e0077d54364e">AbstractCalculationThread::stateNames</a><code> [static, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
{
    <span class="stringliteral">&quot;Not started&quot;</span>,    
    <span class="stringliteral">&quot;Awaiting data&quot;</span>,  
    <span class="stringliteral">&quot;Active&quot;</span>,         
    <span class="stringliteral">&quot;Paused&quot;</span>,         
    <span class="stringliteral">&quot;Terminated&quot;</span>      
}
</pre></div>
<p>Definition at line <a class="el" href="abstractCalculationThread_8h_source.html#l00050">50</a> of file <a class="el" href="abstractCalculationThread_8h_source.html">abstractCalculationThread.h</a>.</p>

<p>Referenced by <a class="el" href="baseHostDialog_8cpp_source.html#l00632">BaseHostDialog::calculationStateChanged()</a>, and <a class="el" href="baseHostDialog_8cpp_source.html#l00605">BaseHostDialog::play()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>applications/recorder/<a class="el" href="recorderThread_8h_source.html">recorderThread.h</a></li>
<li>applications/recorder/<a class="el" href="recorderThread_8cpp_source.html">recorderThread.cpp</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Tue Nov 12 2013 23:44:46 for DeepView by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
