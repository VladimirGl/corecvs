<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>DeepView: corecvs::HomographyReconstructor Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">DeepView
   &#160;<span id="projectnumber">0.02</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespacecorecvs.html">corecvs</a>      </li>
      <li class="navelem"><a class="el" href="classcorecvs_1_1HomographyReconstructor.html">HomographyReconstructor</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<div class="title">corecvs::HomographyReconstructor Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="corecvs::HomographyReconstructor" -->
<p><code>#include &lt;<a class="el" href="homographyReconstructor_8h_source.html">homographyReconstructor.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for corecvs::HomographyReconstructor:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classcorecvs_1_1HomographyReconstructor__coll__graph.svg" width="100%" height="150"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classcorecvs_1_1HomographyReconstructor-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1HomographyReconstructor_1_1CostFunction.html">CostFunction</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1HomographyReconstructor_1_1CostFunctionWize.html">CostFunctionWize</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1HomographyReconstructor.html#ada4098798be069acb8cd01e7f39407f3">HomographyReconstructor</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1HomographyReconstructor.html#af8149300fc2360e41c08ab62f4f592d5">addPoint2PointConstraint</a> (const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;from, const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;to)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a6f400427642813eab3e1745f582fa42a">addPoint2LineConstraint</a> (const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;from, const <a class="el" href="classcorecvs_1_1Line2d.html">Line2d</a> &amp;line)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a11f4a087d6086b0363881552854725c3">addPoint2SegmentConstraint</a> (const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;from, const <a class="el" href="namespacecorecvs.html#a067dd8ca5d094ec857e3889586caca58">Segment2d</a> &amp;line)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a9adf3baa4841921c61e1cd7c5c70c13b">reset</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a684150d967d7f9e4ec34d719260f1935">hasEnoughtConstraints</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a60885eefc3fe01ad91800191aef0eedb">getCostFunction</a> (<a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a> &amp;input)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function computes the classical Euklidian cost.  <a href="#a60885eefc3fe01ad91800191aef0eedb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a42066b2370ca8537ae766e95c41449f3">getBestHomography</a> (int method)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a98727c0da9f2413c55b6b92fefa84af4">getBestHomographyLSE</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a174420ceac09f5711ffbe0375df24881">getBestHomographyLSE1</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Actual computation.  <a href="#a174420ceac09f5711ffbe0375df24881"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a797d5fe76e39f1655d36ff0664d566e2">getBestHomographyLSE2</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a98328259a3e0b7033dde321ddd04e177">getBestHomographyClassicKalman</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This block is devoted to Kalman reconstruction.  <a href="#a98328259a3e0b7033dde321ddd04e177"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1HomographyReconstructor.html#ab46bb6d06de35e57fd574645c2131893">getBestHomographyFastKalman</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a62242c01b4e73aac25ff8c0f8a36e7b0">getBestHomographyLM</a> (<a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a> guess=<a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a>(1.0))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This block is devoted to LM reconstruction.  <a href="#a62242c01b4e73aac25ff8c0f8a36e7b0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1HomographyReconstructor.html#ae69b122b301a8f93a19063a124cefa59">noramlisePoints</a> (<a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a> &amp;transformLeft, <a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a> &amp;transformRight)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">TODO: This function doubles the code form rectificator.cpp.  <a href="#ae69b122b301a8f93a19063a124cefa59"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a9667161de9b0665cca4aa2f618c854bf">~HomographyReconstructor</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="namespacecorecvs.html#a57553ba545a780e2a07167fd7595ef8f">Correspondance</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="namespacecorecvs.html#a8630cce03d29105354a1d069f28da884">CorrespondancePointLine</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vector<br class="typebreak"/>
&lt; <a class="el" href="namespacecorecvs.html#a67bb56460a209ce746e768a4c66793e2">CorrespondancePointSegment</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1HomographyReconstructor.html#ab8082697aacb710b567f82105a6b9375">p2s</a></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a1b6350d24fc02433919397f7767d322b">addPoint2PointConstraintLSE</a> (<a class="el" href="classcorecvs_1_1Matrix.html">Matrix</a> &amp;A, <a class="el" href="classcorecvs_1_1Matrix.html">Matrix</a> &amp;B, int num, const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;from, const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;to)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This block is devoted to LSE optimization.  <a href="#a1b6350d24fc02433919397f7767d322b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a3ccdf02ca81359f09edb635876758a51">addPoint2LineConstraintLSE</a> (<a class="el" href="classcorecvs_1_1Matrix.html">Matrix</a> &amp;A, <a class="el" href="classcorecvs_1_1Matrix.html">Matrix</a> &amp;B, int num, const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;from, const <a class="el" href="classcorecvs_1_1Line2d.html">Line2d</a> &amp;line)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classcorecvs_1_1Matrix.html">Matrix</a> is searched in form.  <a href="#a3ccdf02ca81359f09edb635876758a51"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a19edb195bd3e5091def2a2f90517d715">addPoint2LineConstraintLSEUnif</a> (<a class="el" href="classcorecvs_1_1Matrix.html">Matrix</a> &amp;A, int num, const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;from, const <a class="el" href="classcorecvs_1_1Line2d.html">Line2d</a> &amp;line)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a2176e71e09737f68bf06a3be8999d88b">addPoint2PointConstraintLSEUnif</a> (<a class="el" href="classcorecvs_1_1Matrix.html">Matrix</a> &amp;A, int num, const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;from, const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;to)</td></tr>
<tr><td colspan="2"><h2><a name="friends"></a>
Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcorecvs_1_1HomographyReconstructor.html#ac796e0122859478c60dc1015ac6ab0c6">operator&lt;&lt;</a> (ostream &amp;out, const <a class="el" href="classcorecvs_1_1HomographyReconstructor.html">HomographyReconstructor</a> &amp;reconstructor)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="homographyReconstructor_8h_source.html#l00028">28</a> of file <a class="el" href="homographyReconstructor_8h_source.html">homographyReconstructor.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ada4098798be069acb8cd01e7f39407f3"></a><!-- doxytag: member="corecvs::HomographyReconstructor::HomographyReconstructor" ref="ada4098798be069acb8cd01e7f39407f3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1HomographyReconstructor.html#ada4098798be069acb8cd01e7f39407f3">corecvs::HomographyReconstructor::HomographyReconstructor</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="homographyReconstructor_8cpp_source.html#l00019">19</a> of file <a class="el" href="homographyReconstructor_8cpp_source.html">homographyReconstructor.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9667161de9b0665cca4aa2f618c854bf"></a><!-- doxytag: member="corecvs::HomographyReconstructor::~HomographyReconstructor" ref="a9667161de9b0665cca4aa2f618c854bf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a9667161de9b0665cca4aa2f618c854bf">corecvs::HomographyReconstructor::~HomographyReconstructor</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="homographyReconstructor_8cpp_source.html#l00073">73</a> of file <a class="el" href="homographyReconstructor_8cpp_source.html">homographyReconstructor.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// TODO Auto-generated destructor stub</span>
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a6f400427642813eab3e1745f582fa42a"></a><!-- doxytag: member="corecvs::HomographyReconstructor::addPoint2LineConstraint" ref="a6f400427642813eab3e1745f582fa42a" args="(const Vector2dd &amp;from, const Line2d &amp;line)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a6f400427642813eab3e1745f582fa42a">corecvs::HomographyReconstructor::addPoint2LineConstraint</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classcorecvs_1_1Line2d.html">Line2d</a> &amp;&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="homographyReconstructor_8cpp_source.html#l00028">28</a> of file <a class="el" href="homographyReconstructor_8cpp_source.html">homographyReconstructor.cpp</a>.</p>

<p>References <a class="el" href="homographyReconstructor_8h_source.html#l00032">p2l</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>.push_back(<a class="code" href="namespacecorecvs.html#a8630cce03d29105354a1d069f28da884">CorrespondancePointLine</a>(from, line));
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3ccdf02ca81359f09edb635876758a51"></a><!-- doxytag: member="corecvs::HomographyReconstructor::addPoint2LineConstraintLSE" ref="a3ccdf02ca81359f09edb635876758a51" args="(Matrix &amp;A, Matrix &amp;B, int num, const Vector2dd &amp;from, const Line2d &amp;line)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a3ccdf02ca81359f09edb635876758a51">corecvs::HomographyReconstructor::addPoint2LineConstraintLSE</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcorecvs_1_1Matrix.html">Matrix</a> &amp;&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcorecvs_1_1Matrix.html">Matrix</a> &amp;&#160;</td>
          <td class="paramname"><em>B</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classcorecvs_1_1Line2d.html">Line2d</a> &amp;&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classcorecvs_1_1Matrix.html">Matrix</a> is searched in form. </p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ P=\pmatrix{ a_{00} &amp; a_{01} &amp; a_{02}\cr a_{10} &amp; a_{11} &amp; a_{12}\cr a_{20} &amp; a_{21} &amp; 1 } \]" src="form_143.png"/>
</p>
<p>We have a point <img class="formulaInl" alt="$(x,y)$" src="form_141.png"/> and a line <img class="formulaInl" alt="$ A u + B v + C = 0 $" src="form_147.png"/></p>
<p>The matrix will transform the point <img class="formulaInl" alt="$(x,y)$" src="form_141.png"/> to the <img class="formulaInl" alt="$(u,v)$" src="form_142.png"/></p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ u = \frac {a_{00} x + a_{01} y + a_{02}} {a_{20} x + a_{21} y + 1} \]" src="form_144.png"/>
</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ v = \frac {a_{10} x + a_{11} y + a_{12}} {a_{20} x + a_{21} y + 1} \]" src="form_145.png"/>
</p>
<p>So we have minimize</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ A u + B v + C = 0 \]" src="form_148.png"/>
</p>
 <p class="formulaDsp">
<img class="formulaDsp" alt="\[ A \frac {a_{00} x + a_{01} y + a_{02}} {a_{20} x + a_{21} y + 1} + B \frac {a_{10} x + a_{11} y + a_{12}} {a_{20} x + a_{21} y + 1} + C = 0 \]" src="form_149.png"/>
</p>
<p>We will rewrite it as:</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ A ({a_{00} x + a_{01} y + a_{02}}) + B ({a_{10} x + a_{11} y + a_{12}}) + C ({a_{20} x + a_{21} y + 1}) = 0 \]" src="form_150.png"/>
</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \pmatrix{ Ax &amp; Ay &amp; A &amp; Bx &amp; By &amp; B &amp; C x &amp; C y } \pmatrix{ a_{00} \cr a_{01} \cr a_{02} \cr a_{10} \cr a_{11} \cr a_{12} \cr a_{20} \cr a_{21} } = \pmatrix{ -C } \]" src="form_151.png"/>
</p>
 
<p>Definition at line <a class="el" href="homographyReconstructor_8cpp_source.html#l00284">284</a> of file <a class="el" href="homographyReconstructor_8cpp_source.html">homographyReconstructor.cpp</a>.</p>

<p>References <a class="el" href="abstractBuffer_8h_source.html#l00602">corecvs::AbstractBuffer&lt; ElementType, IndexType &gt;::fillLineWithArgs()</a>, <a class="el" href="line_8h_source.html#l00391">corecvs::Line2d::normalised()</a>, <a class="el" href="vector2d_8h_source.html#l00050">corecvs::Vector2d&lt; ElementType &gt;::x()</a>, <a class="el" href="vector3d_8h_source.html#l00052">corecvs::Vector3d&lt; ElementType &gt;::x()</a>, <a class="el" href="vector2d_8h_source.html#l00055">corecvs::Vector2d&lt; ElementType &gt;::y()</a>, <a class="el" href="vector3d_8h_source.html#l00057">corecvs::Vector3d&lt; ElementType &gt;::y()</a>, and <a class="el" href="vector3d_8h_source.html#l00062">corecvs::Vector3d&lt; ElementType &gt;::z()</a>.</p>

<p>Referenced by <a class="el" href="homographyReconstructor_8cpp_source.html#l00365">getBestHomographyLSE()</a>, and <a class="el" href="homographyReconstructor_8cpp_source.html#l00327">getBestHomographyLSE1()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classcorecvs_1_1Line2d.html" title="This class represents the line in 2D space.">Line2d</a> l = line.<a class="code" href="classcorecvs_1_1Line2d.html#a2e5f496ec6b872a40d874a0fb44e29f6" title="Return a normalized copy of vector.">normalised</a>();

    <span class="keywordtype">double</span> lx =  l.<a class="code" href="classcorecvs_1_1Vector3d.html#aec83d9ad04107cd9c2bb11abf33128c0" title="Helper functions to access elements.">x</a>();
    <span class="keywordtype">double</span> ly =  l.<a class="code" href="classcorecvs_1_1Vector3d.html#a940d88447f20fac800d1fa510c981275">y</a>();
    <span class="keywordtype">double</span> lz =  l.<a class="code" href="classcorecvs_1_1Vector3d.html#a4587f5d4984576c5c4c2d44a4140ce3f">z</a>();
    <span class="keywordtype">double</span> fx = from.<a class="code" href="classcorecvs_1_1Vector2d.html#a944721c41f044c1388d9dc42ca899bce">x</a>();
    <span class="keywordtype">double</span> fy = from.<a class="code" href="classcorecvs_1_1Vector2d.html#ae1ea2ad4c0821001408bf963cffa8413">y</a>();

    A.<a class="code" href="classcorecvs_1_1AbstractBuffer.html#ad4c21551df215fd88dc991b7135068ec">fillLineWithArgs</a>(num,
            lx * fx, lx * fy, lx,
            ly * fx, ly * fy, ly,
            lz * fx, lz * fy);
    B.<a class="code" href="classcorecvs_1_1AbstractBuffer.html#ad4c21551df215fd88dc991b7135068ec">fillLineWithArgs</a>(num, -lz);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classcorecvs_1_1HomographyReconstructor_a3ccdf02ca81359f09edb635876758a51_cgraph.svg" width="100%" height="310"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a19edb195bd3e5091def2a2f90517d715"></a><!-- doxytag: member="corecvs::HomographyReconstructor::addPoint2LineConstraintLSEUnif" ref="a19edb195bd3e5091def2a2f90517d715" args="(Matrix &amp;A, int num, const Vector2dd &amp;from, const Line2d &amp;line)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a19edb195bd3e5091def2a2f90517d715">corecvs::HomographyReconstructor::addPoint2LineConstraintLSEUnif</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcorecvs_1_1Matrix.html">Matrix</a> &amp;&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classcorecvs_1_1Line2d.html">Line2d</a> &amp;&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="homographyReconstructor_8cpp_source.html#l00305">305</a> of file <a class="el" href="homographyReconstructor_8cpp_source.html">homographyReconstructor.cpp</a>.</p>

<p>References <a class="el" href="abstractBuffer_8h_source.html#l00602">corecvs::AbstractBuffer&lt; ElementType, IndexType &gt;::fillLineWithArgs()</a>, <a class="el" href="line_8h_source.html#l00391">corecvs::Line2d::normalised()</a>, <a class="el" href="vector2d_8h_source.html#l00050">corecvs::Vector2d&lt; ElementType &gt;::x()</a>, <a class="el" href="vector3d_8h_source.html#l00052">corecvs::Vector3d&lt; ElementType &gt;::x()</a>, <a class="el" href="vector2d_8h_source.html#l00055">corecvs::Vector2d&lt; ElementType &gt;::y()</a>, <a class="el" href="vector3d_8h_source.html#l00057">corecvs::Vector3d&lt; ElementType &gt;::y()</a>, and <a class="el" href="vector3d_8h_source.html#l00062">corecvs::Vector3d&lt; ElementType &gt;::z()</a>.</p>

<p>Referenced by <a class="el" href="homographyReconstructor_8cpp_source.html#l00418">getBestHomographyLSE2()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classcorecvs_1_1Line2d.html" title="This class represents the line in 2D space.">Line2d</a> l = line.<a class="code" href="classcorecvs_1_1Line2d.html#a2e5f496ec6b872a40d874a0fb44e29f6" title="Return a normalized copy of vector.">normalised</a>();

    <span class="keywordtype">double</span> lx =  l.<a class="code" href="classcorecvs_1_1Vector3d.html#aec83d9ad04107cd9c2bb11abf33128c0" title="Helper functions to access elements.">x</a>();
    <span class="keywordtype">double</span> ly =  l.<a class="code" href="classcorecvs_1_1Vector3d.html#a940d88447f20fac800d1fa510c981275">y</a>();
    <span class="keywordtype">double</span> lz =  l.<a class="code" href="classcorecvs_1_1Vector3d.html#a4587f5d4984576c5c4c2d44a4140ce3f">z</a>();
    <span class="keywordtype">double</span> fx = from.<a class="code" href="classcorecvs_1_1Vector2d.html#a944721c41f044c1388d9dc42ca899bce">x</a>();
    <span class="keywordtype">double</span> fy = from.<a class="code" href="classcorecvs_1_1Vector2d.html#ae1ea2ad4c0821001408bf963cffa8413">y</a>();

    A.<a class="code" href="classcorecvs_1_1AbstractBuffer.html#ad4c21551df215fd88dc991b7135068ec">fillLineWithArgs</a>(num,
            lx * fx, lx * fy, lx,
            ly * fx, ly * fy, ly,
            lz * fx, lz * fy, lz);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classcorecvs_1_1HomographyReconstructor_a19edb195bd3e5091def2a2f90517d715_cgraph.svg" width="100%" height="310"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="af8149300fc2360e41c08ab62f4f592d5"></a><!-- doxytag: member="corecvs::HomographyReconstructor::addPoint2PointConstraint" ref="af8149300fc2360e41c08ab62f4f592d5" args="(const Vector2dd &amp;from, const Vector2dd &amp;to)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcorecvs_1_1HomographyReconstructor.html#af8149300fc2360e41c08ab62f4f592d5">corecvs::HomographyReconstructor::addPoint2PointConstraint</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;&#160;</td>
          <td class="paramname"><em>to</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="homographyReconstructor_8cpp_source.html#l00023">23</a> of file <a class="el" href="homographyReconstructor_8cpp_source.html">homographyReconstructor.cpp</a>.</p>

<p>References <a class="el" href="homographyReconstructor_8h_source.html#l00031">p2p</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>.push_back(<a class="code" href="namespacecorecvs.html#a57553ba545a780e2a07167fd7595ef8f">Correspondance</a>(from,to));
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1b6350d24fc02433919397f7767d322b"></a><!-- doxytag: member="corecvs::HomographyReconstructor::addPoint2PointConstraintLSE" ref="a1b6350d24fc02433919397f7767d322b" args="(Matrix &amp;A, Matrix &amp;B, int num, const Vector2dd &amp;from, const Vector2dd &amp;to)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a1b6350d24fc02433919397f7767d322b">corecvs::HomographyReconstructor::addPoint2PointConstraintLSE</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcorecvs_1_1Matrix.html">Matrix</a> &amp;&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcorecvs_1_1Matrix.html">Matrix</a> &amp;&#160;</td>
          <td class="paramname"><em>B</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;&#160;</td>
          <td class="paramname"><em>to</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This block is devoted to LSE optimization. </p>
<p>Calculate the <a class="el" href="classcorecvs_1_1Matrix.html">Matrix</a> that transform given points <img class="formulaInl" alt="$(x,y)$" src="form_141.png"/> to given images <img class="formulaInl" alt="$(u,v)$" src="form_142.png"/> This is done almost the same way as in rectification Rectificator::getFundamantalRansac() using the SVD</p>
<p><a class="el" href="classcorecvs_1_1Matrix.html">Matrix</a> is searched in form</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ P=\pmatrix{ a_{00} &amp; a_{01} &amp; a_{02}\cr a_{10} &amp; a_{11} &amp; a_{12}\cr a_{20} &amp; a_{21} &amp; 1 } \]" src="form_143.png"/>
</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ u = \frac {a_{00} x + a_{01} y + a_{02}} {a_{20} x + a_{21} y + 1} \]" src="form_144.png"/>
</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ v = \frac {a_{10} x + a_{11} y + a_{12}} {a_{20} x + a_{21} y + 1} \]" src="form_145.png"/>
</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \pmatrix{ x &amp; y &amp; 1 &amp; 0 &amp; 0 &amp; 0 &amp; -x u &amp; -y u \cr 0 &amp; 0 &amp; 0 &amp; x &amp; y &amp; 1 &amp; -x v &amp; -y v } \pmatrix{ a_{00} \cr a_{01} \cr a_{02} \cr a_{10} \cr a_{11} \cr a_{12} \cr a_{20} \cr a_{21} } = \pmatrix{ u \cr v } \]" src="form_146.png"/>
</p>
 
<p>Definition at line <a class="el" href="homographyReconstructor_8cpp_source.html#l00202">202</a> of file <a class="el" href="homographyReconstructor_8cpp_source.html">homographyReconstructor.cpp</a>.</p>

<p>References <a class="el" href="abstractBuffer_8h_source.html#l00602">corecvs::AbstractBuffer&lt; ElementType, IndexType &gt;::fillLineWithArgs()</a>, <a class="el" href="vector2d_8h_source.html#l00050">corecvs::Vector2d&lt; ElementType &gt;::x()</a>, and <a class="el" href="vector2d_8h_source.html#l00055">corecvs::Vector2d&lt; ElementType &gt;::y()</a>.</p>

<p>Referenced by <a class="el" href="homographyReconstructor_8cpp_source.html#l00365">getBestHomographyLSE()</a>, and <a class="el" href="homographyReconstructor_8cpp_source.html#l00327">getBestHomographyLSE1()</a>.</p>
<div class="fragment"><pre class="fragment">{
   <span class="keywordtype">double</span> fx = from.<a class="code" href="classcorecvs_1_1Vector2d.html#a944721c41f044c1388d9dc42ca899bce">x</a>();
   <span class="keywordtype">double</span> fy = from.<a class="code" href="classcorecvs_1_1Vector2d.html#ae1ea2ad4c0821001408bf963cffa8413">y</a>();
   <span class="keywordtype">double</span> tx =   to.<a class="code" href="classcorecvs_1_1Vector2d.html#a944721c41f044c1388d9dc42ca899bce">x</a>();
   <span class="keywordtype">double</span> ty =   to.<a class="code" href="classcorecvs_1_1Vector2d.html#ae1ea2ad4c0821001408bf963cffa8413">y</a>();

   A.<a class="code" href="classcorecvs_1_1AbstractBuffer.html#ad4c21551df215fd88dc991b7135068ec">fillLineWithArgs</a>(num    , fx,  fy, 1.0, 0.0, 0.0, 0.0, -fx * tx, -fy * tx);
   B.<a class="code" href="classcorecvs_1_1AbstractBuffer.html#ad4c21551df215fd88dc991b7135068ec">fillLineWithArgs</a>(num    , tx);

   A.<a class="code" href="classcorecvs_1_1AbstractBuffer.html#ad4c21551df215fd88dc991b7135068ec">fillLineWithArgs</a>(num + 1, 0.0, 0.0, 0.0,  fx,  fy, 1.0, -fx * ty, -fy * ty);
   B.<a class="code" href="classcorecvs_1_1AbstractBuffer.html#ad4c21551df215fd88dc991b7135068ec">fillLineWithArgs</a>(num + 1, ty);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classcorecvs_1_1HomographyReconstructor_a1b6350d24fc02433919397f7767d322b_cgraph.svg" width="100%" height="150"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2176e71e09737f68bf06a3be8999d88b"></a><!-- doxytag: member="corecvs::HomographyReconstructor::addPoint2PointConstraintLSEUnif" ref="a2176e71e09737f68bf06a3be8999d88b" args="(Matrix &amp;A, int num, const Vector2dd &amp;from, const Vector2dd &amp;to)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a2176e71e09737f68bf06a3be8999d88b">corecvs::HomographyReconstructor::addPoint2PointConstraintLSEUnif</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcorecvs_1_1Matrix.html">Matrix</a> &amp;&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;&#160;</td>
          <td class="paramname"><em>to</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="homographyReconstructor_8cpp_source.html#l00220">220</a> of file <a class="el" href="homographyReconstructor_8cpp_source.html">homographyReconstructor.cpp</a>.</p>

<p>References <a class="el" href="abstractBuffer_8h_source.html#l00602">corecvs::AbstractBuffer&lt; ElementType, IndexType &gt;::fillLineWithArgs()</a>, <a class="el" href="vector2d_8h_source.html#l00050">corecvs::Vector2d&lt; ElementType &gt;::x()</a>, and <a class="el" href="vector2d_8h_source.html#l00055">corecvs::Vector2d&lt; ElementType &gt;::y()</a>.</p>

<p>Referenced by <a class="el" href="homographyReconstructor_8cpp_source.html#l00418">getBestHomographyLSE2()</a>.</p>
<div class="fragment"><pre class="fragment">{
   <span class="keywordtype">double</span> fx = from.<a class="code" href="classcorecvs_1_1Vector2d.html#a944721c41f044c1388d9dc42ca899bce">x</a>();
   <span class="keywordtype">double</span> fy = from.<a class="code" href="classcorecvs_1_1Vector2d.html#ae1ea2ad4c0821001408bf963cffa8413">y</a>();
   <span class="keywordtype">double</span> tx =   to.<a class="code" href="classcorecvs_1_1Vector2d.html#a944721c41f044c1388d9dc42ca899bce">x</a>();
   <span class="keywordtype">double</span> ty =   to.<a class="code" href="classcorecvs_1_1Vector2d.html#ae1ea2ad4c0821001408bf963cffa8413">y</a>();

   A.<a class="code" href="classcorecvs_1_1AbstractBuffer.html#ad4c21551df215fd88dc991b7135068ec">fillLineWithArgs</a>(num    ,  fx,  fy, 1.0, 0.0, 0.0, 0.0, -fx * tx, -fy * tx, -tx);
   A.<a class="code" href="classcorecvs_1_1AbstractBuffer.html#ad4c21551df215fd88dc991b7135068ec">fillLineWithArgs</a>(num + 1, 0.0, 0.0, 0.0,  fx,  fy, 1.0, -fx * ty, -fy * ty, -ty);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classcorecvs_1_1HomographyReconstructor_a2176e71e09737f68bf06a3be8999d88b_cgraph.svg" width="100%" height="150"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a11f4a087d6086b0363881552854725c3"></a><!-- doxytag: member="corecvs::HomographyReconstructor::addPoint2SegmentConstraint" ref="a11f4a087d6086b0363881552854725c3" args="(const Vector2dd &amp;from, const Segment2d &amp;line)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a11f4a087d6086b0363881552854725c3">corecvs::HomographyReconstructor::addPoint2SegmentConstraint</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacecorecvs.html#af76dfccc4f8b3f0a802cc2dd27a3b303">Vector2dd</a> &amp;&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacecorecvs.html#a067dd8ca5d094ec857e3889586caca58">Segment2d</a> &amp;&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="homographyReconstructor_8cpp_source.html#l00033">33</a> of file <a class="el" href="homographyReconstructor_8cpp_source.html">homographyReconstructor.cpp</a>.</p>

<p>References <a class="el" href="homographyReconstructor_8h_source.html#l00033">p2s</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ab8082697aacb710b567f82105a6b9375">p2s</a>.push_back(<a class="code" href="namespacecorecvs.html#a67bb56460a209ce746e768a4c66793e2">CorrespondancePointSegment</a>(from, seg));
}
</pre></div>
</div>
</div>
<a class="anchor" id="a42066b2370ca8537ae766e95c41449f3"></a><!-- doxytag: member="corecvs::HomographyReconstructor::getBestHomography" ref="a42066b2370ca8537ae766e95c41449f3" args="(int method)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a> <a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a42066b2370ca8537ae766e95c41449f3">corecvs::HomographyReconstructor::getBestHomography</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>method</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a98328259a3e0b7033dde321ddd04e177"></a><!-- doxytag: member="corecvs::HomographyReconstructor::getBestHomographyClassicKalman" ref="a98328259a3e0b7033dde321ddd04e177" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a> <a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a98328259a3e0b7033dde321ddd04e177">corecvs::HomographyReconstructor::getBestHomographyClassicKalman</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This block is devoted to Kalman reconstruction. </p>

<p>Definition at line <a class="el" href="homographyReconstructor_8cpp_source.html#l00542">542</a> of file <a class="el" href="homographyReconstructor_8cpp_source.html">homographyReconstructor.cpp</a>.</p>

<p>References <a class="el" href="fixedVector_8h_source.html#l00042">corecvs::FixedVectorBase&lt; RealType, ElementType, length &gt;::element</a>, <a class="el" href="classicKalman_8cpp_source.html#l00024">corecvs::ClassicKalman::predict()</a>, <a class="el" href="classicKalman_8cpp_source.html#l00047">corecvs::ClassicKalman::update()</a>, <a class="el" href="classicKalman_8h_source.html#l00073">corecvs::ClassicKalman::x</a>, and <a class="el" href="classicKalman_8h_source.html#l00076">corecvs::ClassicKalman::z</a>.</p>
<div class="fragment"><pre class="fragment">{
    CostFunction F(<span class="keyword">this</span>);
    <a class="code" href="classcorecvs_1_1IdentityFunction.html">IdentityFunction</a> H(1);

    <span class="comment">// We know almost nothing about the homography matrix</span>
    <a class="code" href="classcorecvs_1_1Matrix.html">Matrix</a> P(8,8, 1000.0);
    <span class="comment">// Our model evolution is precise</span>
    <a class="code" href="classcorecvs_1_1Matrix.html">Matrix</a> Q(8,8, 0.0);

    <span class="comment">// Our measurement is precise up to 2px.</span>
    <a class="code" href="classcorecvs_1_1Matrix.html">Matrix</a> R(1,1, 2.0 * 8.0);

    <a class="code" href="classcorecvs_1_1Matrix33.html" title="Class describes the 3 by 3 matrix.">Matrix33</a> ident(1.0);
    <a class="code" href="classcorecvs_1_1FixedArray.html">Vector</a> x(8, ident.element);

    <a class="code" href="classcorecvs_1_1ClassicKalman.html" title="TODO: Could be nice to make this template.">ClassicKalman</a> kalmanFilter(
        &amp;F,
        &amp;H,
        Q,
        R,
        P,
        x);

    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> step = 0; step &lt; 250; step++)
    {
        <span class="keywordtype">double</span> measurement = 0.0;
        kalmanFilter.predict();
        kalmanFilter.z[0] = measurement;
        kalmanFilter.update();
    }

    <span class="keywordflow">return</span> <a class="code" href="classcorecvs_1_1Matrix33.html" title="Class describes the 3 by 3 matrix.">Matrix33</a>(
            kalmanFilter.x[0], kalmanFilter.x[1], kalmanFilter.x[2],
            kalmanFilter.x[3], kalmanFilter.x[4], kalmanFilter.x[5],
            kalmanFilter.x[6], kalmanFilter.x[7], 1.0
    );

}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classcorecvs_1_1HomographyReconstructor_a98328259a3e0b7033dde321ddd04e177_cgraph.svg" width="100%" height="150"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab46bb6d06de35e57fd574645c2131893"></a><!-- doxytag: member="corecvs::HomographyReconstructor::getBestHomographyFastKalman" ref="ab46bb6d06de35e57fd574645c2131893" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a> <a class="el" href="classcorecvs_1_1HomographyReconstructor.html#ab46bb6d06de35e57fd574645c2131893">corecvs::HomographyReconstructor::getBestHomographyFastKalman</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a62242c01b4e73aac25ff8c0f8a36e7b0"></a><!-- doxytag: member="corecvs::HomographyReconstructor::getBestHomographyLM" ref="a62242c01b4e73aac25ff8c0f8a36e7b0" args="(Matrix33 guess=Matrix33(1.0))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a> <a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a62242c01b4e73aac25ff8c0f8a36e7b0">corecvs::HomographyReconstructor::getBestHomographyLM</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a>&#160;</td>
          <td class="paramname"><em>guess</em> = <code><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a>(1.0)</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This block is devoted to LM reconstruction. </p>

<p>Definition at line <a class="el" href="homographyReconstructor_8cpp_source.html#l00586">586</a> of file <a class="el" href="homographyReconstructor_8cpp_source.html">homographyReconstructor.cpp</a>.</p>

<p>References <a class="el" href="math_2levenmarq_8h_source.html#l00026">corecvs::LevenbergMarquardt::f</a>, <a class="el" href="math_2levenmarq_8cpp_source.html#l00022">corecvs::LevenbergMarquardt::fit()</a>, and <a class="el" href="math_2levenmarq_8h_source.html#l00030">corecvs::LevenbergMarquardt::maxIterations</a>.</p>
<div class="fragment"><pre class="fragment">{
    CostFunction F(<span class="keyword">this</span>);
    <a class="code" href="classcorecvs_1_1LevenbergMarquardt.html">LevenbergMarquardt</a> LMfit;

    LMfit.<a class="code" href="classcorecvs_1_1LevenbergMarquardt.html#a8c7de0abea784407dac957c93d9bdc76">f</a> = &amp;F;
    LMfit.<a class="code" href="classcorecvs_1_1LevenbergMarquardt.html#a50409f96bfed1fdedc13aafad2f02e20">maxIterations</a> = 25;

    vector&lt;double&gt; input(8);
    input[0] = 1.0; input[1] = 0.0; input[2] = 0.0;
    input[3] = 0.0; input[4] = 1.0; input[5] = 0.0;
    input[6] = 0.0; input[7] = 0.0;

    vector&lt;double&gt; output(1);
    output[0] = 0.0;

    vector&lt;double&gt; optInput = LMfit.<a class="code" href="classcorecvs_1_1LevenbergMarquardt.html#aaf1a9f35927ce33827590ca21895aa34" title="Marquardt-Levenberg algoritim is a fast optimisation algorithm.">fit</a>(input, output);

    <span class="keywordflow">return</span> <a class="code" href="classcorecvs_1_1Matrix33.html" title="Class describes the 3 by 3 matrix.">Matrix33</a>(
            optInput[0], optInput[1], optInput[2],
            optInput[3], optInput[4], optInput[5],
            optInput[6], optInput[7], 1.0
       );
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classcorecvs_1_1HomographyReconstructor_a62242c01b4e73aac25ff8c0f8a36e7b0_cgraph.svg" width="100%" height="308"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a98727c0da9f2413c55b6b92fefa84af4"></a><!-- doxytag: member="corecvs::HomographyReconstructor::getBestHomographyLSE" ref="a98727c0da9f2413c55b6b92fefa84af4" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a> <a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a98727c0da9f2413c55b6b92fefa84af4">corecvs::HomographyReconstructor::getBestHomographyLSE</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="homographyReconstructor_8cpp_source.html#l00365">365</a> of file <a class="el" href="homographyReconstructor_8cpp_source.html">homographyReconstructor.cpp</a>.</p>

<p>References <a class="el" href="math_2matrix_2matrix_8h_source.html#l00132">corecvs::Matrix::a()</a>, <a class="el" href="homographyReconstructor_8cpp_source.html#l00284">addPoint2LineConstraintLSE()</a>, <a class="el" href="homographyReconstructor_8cpp_source.html#l00202">addPoint2PointConstraintLSE()</a>, <a class="el" href="matrix_8cpp_source.html#l00314">corecvs::Matrix::frobeniusNorm()</a>, <a class="el" href="homographyReconstructor_8h_source.html#l00032">p2l</a>, <a class="el" href="homographyReconstructor_8h_source.html#l00031">p2p</a>, <a class="el" href="matrix_8cpp_source.html#l00577">corecvs::Matrix::svd()</a>, and <a class="el" href="matrix_8cpp_source.html#l00278">corecvs::Matrix::t()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">int</span> problemSize = (int)(<a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>.size() + <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>.size() * 2);

    <a class="code" href="classcorecvs_1_1Matrix.html">Matrix</a> mX(problemSize ,8);
    <a class="code" href="classcorecvs_1_1Matrix.html">Matrix</a> mB(problemSize ,1);

    <span class="keywordtype">int</span> lineNum = 0;
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>.size(); i++)
    {
        <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1b6350d24fc02433919397f7767d322b" title="This block is devoted to LSE optimization.">addPoint2PointConstraintLSE</a>(mX, mB, lineNum, <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>[i].start, <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>[i].end);
        lineNum += 2;
    }
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>.size(); i++)
    {
        <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a3ccdf02ca81359f09edb635876758a51" title="Matrix is searched in form.">addPoint2LineConstraintLSE</a>(mX, mB, lineNum, <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>[i].start, <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>[i].end);
        lineNum += 1;
    }

    cout &lt;&lt; <span class="stringliteral">&quot;X&quot;</span> &lt;&lt; endl &lt;&lt; mX &lt;&lt; endl;
    cout &lt;&lt; <span class="stringliteral">&quot;B&quot;</span> &lt;&lt; endl &lt;&lt; mB &lt;&lt; endl;


    <a class="code" href="classcorecvs_1_1Matrix.html">Matrix</a> U(mX);
    <a class="code" href="classcorecvs_1_1Matrix.html">Matrix</a> W(1, 8);
    <a class="code" href="classcorecvs_1_1Matrix.html">Matrix</a> VT(8, 8);
    <a class="code" href="classcorecvs_1_1Matrix.html#ab00a85b071aab144f3a2860189150e7f" title="This method contains SVD implementation.">Matrix::svd</a> (&amp;U, &amp;W, &amp;VT);

    <a class="code" href="classcorecvs_1_1Matrix.html">Matrix</a> UT = U.<a class="code" href="classcorecvs_1_1Matrix.html#ae23aa5c2e50e7913de6aa4c703d4efa4">t</a>();
    <a class="code" href="classcorecvs_1_1Matrix.html">Matrix</a> UtB = UT * mB;
    <a class="code" href="classcorecvs_1_1Matrix.html">Matrix</a> UtB8(8,1);

    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 8; i++)
    {
       <span class="comment">// if (W.a(0,i) &gt; 1e-6)</span>
            UtB8.a(i,0) = UtB.<a class="code" href="classcorecvs_1_1Matrix.html#a5b8b00c8bfc66549652e6c0610457254" title="The element getter for a matrix that is used like vector (i.e has height or width of 1)...">a</a>(i,0) / W.a(0,i);
       <span class="comment">// else</span>
       <span class="comment">//     UtB8.a(i,0) = 0.0;</span>
    }
    <a class="code" href="classcorecvs_1_1Matrix.html">Matrix</a> result = VT * UtB8;

    <a class="code" href="classcorecvs_1_1Matrix.html">Matrix</a> test = mX * result - mB;
    cout &lt;&lt; <span class="stringliteral">&quot;Residual:&quot;</span> &lt;&lt; test.<a class="code" href="classcorecvs_1_1Matrix.html#a152506e1afd1a9ac8ec066e7104f2f45">frobeniusNorm</a>() &lt;&lt; endl;

    <a class="code" href="classcorecvs_1_1Matrix33.html" title="Class describes the 3 by 3 matrix.">Matrix33</a> toReturn(
        result.<a class="code" href="classcorecvs_1_1Matrix.html#a5b8b00c8bfc66549652e6c0610457254" title="The element getter for a matrix that is used like vector (i.e has height or width of 1)...">a</a>(0,0), result.<a class="code" href="classcorecvs_1_1Matrix.html#a5b8b00c8bfc66549652e6c0610457254" title="The element getter for a matrix that is used like vector (i.e has height or width of 1)...">a</a>(1,0), result.<a class="code" href="classcorecvs_1_1Matrix.html#a5b8b00c8bfc66549652e6c0610457254" title="The element getter for a matrix that is used like vector (i.e has height or width of 1)...">a</a>(2,0),
        result.<a class="code" href="classcorecvs_1_1Matrix.html#a5b8b00c8bfc66549652e6c0610457254" title="The element getter for a matrix that is used like vector (i.e has height or width of 1)...">a</a>(3,0), result.<a class="code" href="classcorecvs_1_1Matrix.html#a5b8b00c8bfc66549652e6c0610457254" title="The element getter for a matrix that is used like vector (i.e has height or width of 1)...">a</a>(4,0), result.<a class="code" href="classcorecvs_1_1Matrix.html#a5b8b00c8bfc66549652e6c0610457254" title="The element getter for a matrix that is used like vector (i.e has height or width of 1)...">a</a>(5,0),
        result.<a class="code" href="classcorecvs_1_1Matrix.html#a5b8b00c8bfc66549652e6c0610457254" title="The element getter for a matrix that is used like vector (i.e has height or width of 1)...">a</a>(6,0), result.<a class="code" href="classcorecvs_1_1Matrix.html#a5b8b00c8bfc66549652e6c0610457254" title="The element getter for a matrix that is used like vector (i.e has height or width of 1)...">a</a>(7,0), 1.0
    );
    <span class="keywordflow">return</span> toReturn;
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classcorecvs_1_1HomographyReconstructor_a98727c0da9f2413c55b6b92fefa84af4_cgraph.svg" width="100%" height="454"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a174420ceac09f5711ffbe0375df24881"></a><!-- doxytag: member="corecvs::HomographyReconstructor::getBestHomographyLSE1" ref="a174420ceac09f5711ffbe0375df24881" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a> <a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a174420ceac09f5711ffbe0375df24881">corecvs::HomographyReconstructor::getBestHomographyLSE1</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Actual computation. </p>

<p>Definition at line <a class="el" href="homographyReconstructor_8cpp_source.html#l00327">327</a> of file <a class="el" href="homographyReconstructor_8cpp_source.html">homographyReconstructor.cpp</a>.</p>

<p>References <a class="el" href="math_2matrix_2matrix_8h_source.html#l00132">corecvs::Matrix::a()</a>, <a class="el" href="homographyReconstructor_8cpp_source.html#l00284">addPoint2LineConstraintLSE()</a>, <a class="el" href="homographyReconstructor_8cpp_source.html#l00202">addPoint2PointConstraintLSE()</a>, <a class="el" href="matrix_8cpp_source.html#l00314">corecvs::Matrix::frobeniusNorm()</a>, <a class="el" href="matrix_8cpp_source.html#l00512">corecvs::Matrix::invSVD()</a>, <a class="el" href="homographyReconstructor_8h_source.html#l00032">p2l</a>, <a class="el" href="homographyReconstructor_8h_source.html#l00031">p2p</a>, and <a class="el" href="matrix_8cpp_source.html#l00278">corecvs::Matrix::t()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">int</span> problemSize = (int)(<a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>.size() + <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>.size() * 2);

    <a class="code" href="classcorecvs_1_1Matrix.html">Matrix</a> mX(problemSize, 8);
    <a class="code" href="classcorecvs_1_1Matrix.html">Matrix</a> mB(problemSize, 1);

    <span class="keywordtype">int</span> lineNum = 0;
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>.size(); i++)
    {
        <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1b6350d24fc02433919397f7767d322b" title="This block is devoted to LSE optimization.">addPoint2PointConstraintLSE</a>(mX, mB, lineNum, <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>[i].start, <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>[i].end);
        lineNum += 2;
    }
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>.size(); i++)
    {
        <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a3ccdf02ca81359f09edb635876758a51" title="Matrix is searched in form.">addPoint2LineConstraintLSE</a>(mX, mB, lineNum, <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>[i].start, <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>[i].end);
        lineNum += 1;
    }

    cout &lt;&lt; <span class="stringliteral">&quot;X&quot;</span> &lt;&lt; endl &lt;&lt; mX &lt;&lt; endl;
    cout &lt;&lt; <span class="stringliteral">&quot;B&quot;</span> &lt;&lt; endl &lt;&lt; mB &lt;&lt; endl;

    <a class="code" href="classcorecvs_1_1Matrix.html">Matrix</a> mXTX = mX.<a class="code" href="classcorecvs_1_1Matrix.html#ae23aa5c2e50e7913de6aa4c703d4efa4">t</a>() * mX;
    <a class="code" href="classcorecvs_1_1Matrix.html">Matrix</a> mXTB = mX.<a class="code" href="classcorecvs_1_1Matrix.html#ae23aa5c2e50e7913de6aa4c703d4efa4">t</a>() * mB;

    <a class="code" href="classcorecvs_1_1Matrix.html">Matrix</a> result = mXTX.<a class="code" href="classcorecvs_1_1Matrix.html#a67ff682212801703e75602acf3859d1f">invSVD</a>() * mXTB;

    <a class="code" href="classcorecvs_1_1Matrix.html">Matrix</a> test = mX * result - mB;
    cout &lt;&lt; <span class="stringliteral">&quot;Residual:&quot;</span> &lt;&lt; test.<a class="code" href="classcorecvs_1_1Matrix.html#a152506e1afd1a9ac8ec066e7104f2f45">frobeniusNorm</a>() &lt;&lt; endl;

    <a class="code" href="classcorecvs_1_1Matrix33.html" title="Class describes the 3 by 3 matrix.">Matrix33</a> toReturn(
        result.<a class="code" href="classcorecvs_1_1Matrix.html#a5b8b00c8bfc66549652e6c0610457254" title="The element getter for a matrix that is used like vector (i.e has height or width of 1)...">a</a>(0,0), result.<a class="code" href="classcorecvs_1_1Matrix.html#a5b8b00c8bfc66549652e6c0610457254" title="The element getter for a matrix that is used like vector (i.e has height or width of 1)...">a</a>(1,0), result.<a class="code" href="classcorecvs_1_1Matrix.html#a5b8b00c8bfc66549652e6c0610457254" title="The element getter for a matrix that is used like vector (i.e has height or width of 1)...">a</a>(2,0),
        result.<a class="code" href="classcorecvs_1_1Matrix.html#a5b8b00c8bfc66549652e6c0610457254" title="The element getter for a matrix that is used like vector (i.e has height or width of 1)...">a</a>(3,0), result.<a class="code" href="classcorecvs_1_1Matrix.html#a5b8b00c8bfc66549652e6c0610457254" title="The element getter for a matrix that is used like vector (i.e has height or width of 1)...">a</a>(4,0), result.<a class="code" href="classcorecvs_1_1Matrix.html#a5b8b00c8bfc66549652e6c0610457254" title="The element getter for a matrix that is used like vector (i.e has height or width of 1)...">a</a>(5,0),
        result.<a class="code" href="classcorecvs_1_1Matrix.html#a5b8b00c8bfc66549652e6c0610457254" title="The element getter for a matrix that is used like vector (i.e has height or width of 1)...">a</a>(6,0), result.<a class="code" href="classcorecvs_1_1Matrix.html#a5b8b00c8bfc66549652e6c0610457254" title="The element getter for a matrix that is used like vector (i.e has height or width of 1)...">a</a>(7,0), 1.0
    );
    <span class="keywordflow">return</span> toReturn;
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classcorecvs_1_1HomographyReconstructor_a174420ceac09f5711ffbe0375df24881_cgraph.svg" width="100%" height="566"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a797d5fe76e39f1655d36ff0664d566e2"></a><!-- doxytag: member="corecvs::HomographyReconstructor::getBestHomographyLSE2" ref="a797d5fe76e39f1655d36ff0664d566e2" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a> <a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a797d5fe76e39f1655d36ff0664d566e2">corecvs::HomographyReconstructor::getBestHomographyLSE2</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="homographyReconstructor_8cpp_source.html#l00418">418</a> of file <a class="el" href="homographyReconstructor_8cpp_source.html">homographyReconstructor.cpp</a>.</p>

<p>References <a class="el" href="math_2matrix_2matrix_8h_source.html#l00132">corecvs::Matrix::a()</a>, <a class="el" href="homographyReconstructor_8cpp_source.html#l00305">addPoint2LineConstraintLSEUnif()</a>, <a class="el" href="homographyReconstructor_8cpp_source.html#l00220">addPoint2PointConstraintLSEUnif()</a>, <a class="el" href="matrix_8cpp_source.html#l00314">corecvs::Matrix::frobeniusNorm()</a>, <a class="el" href="homographyReconstructor_8h_source.html#l00032">p2l</a>, <a class="el" href="homographyReconstructor_8h_source.html#l00031">p2p</a>, and <a class="el" href="matrix_8cpp_source.html#l00577">corecvs::Matrix::svd()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">int</span> problemSize = (int)(<a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>.size() + <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>.size() * 2);

    <a class="code" href="classcorecvs_1_1Matrix.html">Matrix</a> mX(problemSize ,9);

    <span class="keywordtype">int</span> lineNum = 0;
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>.size(); i++)
    {
        <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a2176e71e09737f68bf06a3be8999d88b">addPoint2PointConstraintLSEUnif</a>(mX, lineNum, <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>[i].start, <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>[i].end);
        lineNum += 2;
    }
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>.size(); i++)
    {
        <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a19edb195bd3e5091def2a2f90517d715">addPoint2LineConstraintLSEUnif</a>(mX, lineNum, <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>[i].start, <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>[i].end);
        lineNum += 1;
    }

    cout &lt;&lt; <span class="stringliteral">&quot;X&quot;</span> &lt;&lt; endl &lt;&lt; mX &lt;&lt; endl;

    <a class="code" href="classcorecvs_1_1Matrix.html">Matrix</a> U(mX);
    <a class="code" href="classcorecvs_1_1Matrix.html">Matrix</a> W(1, 9);
    <a class="code" href="classcorecvs_1_1Matrix.html">Matrix</a> VT(9, 9);
    <a class="code" href="classcorecvs_1_1Matrix.html#ab00a85b071aab144f3a2860189150e7f" title="This method contains SVD implementation.">Matrix::svd</a>(&amp;U, &amp;W, &amp;VT);

    cout &lt;&lt; <span class="stringliteral">&quot;Singualar Values&quot;</span> &lt;&lt; endl &lt;&lt; W &lt;&lt; endl;

    <span class="keywordtype">int</span> minId = -1;
    <span class="keywordtype">double</span> minval = std::numeric_limits&lt;double&gt;::max();
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; 9; i ++)
    {
       <span class="keywordflow">if</span> (W.a(0, i) &lt;= minval)
       {
           minId = i;
           minval = W.a(0, i);
       }
    }

    <a class="code" href="classcorecvs_1_1Matrix33.html" title="Class describes the 3 by 3 matrix.">Matrix33</a> toReturn(
        VT.a(0,minId), VT.a(1,minId), VT.a(2,minId),
        VT.a(3,minId), VT.a(4,minId), VT.a(5,minId),
        VT.a(6,minId), VT.a(7,minId), VT.a(8,minId)
    );
    toReturn /= VT.<a class="code" href="classcorecvs_1_1Matrix33.html#a8596ffc77b92da2876c22900c02e9bec" title="Geting Matrix element functions block.">a</a>(8,minId);
    <a class="code" href="classcorecvs_1_1Matrix.html">Matrix</a> result(9, 1, toReturn.element);
    <a class="code" href="classcorecvs_1_1Matrix.html">Matrix</a> test = mX * result;

    cout &lt;&lt; <span class="stringliteral">&quot;Result&quot;</span> &lt;&lt; endl &lt;&lt; test &lt;&lt; endl;
    cout &lt;&lt; <span class="stringliteral">&quot;Residual:&quot;</span> &lt;&lt; test.<a class="code" href="classcorecvs_1_1Matrix.html#a152506e1afd1a9ac8ec066e7104f2f45">frobeniusNorm</a>() &lt;&lt; endl;
    <span class="keywordflow">return</span> toReturn;
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classcorecvs_1_1HomographyReconstructor_a797d5fe76e39f1655d36ff0664d566e2_cgraph.svg" width="100%" height="449"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a60885eefc3fe01ad91800191aef0eedb"></a><!-- doxytag: member="corecvs::HomographyReconstructor::getCostFunction" ref="a60885eefc3fe01ad91800191aef0eedb" args="(Matrix33 &amp;input)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a60885eefc3fe01ad91800191aef0eedb">corecvs::HomographyReconstructor::getCostFunction</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a> &amp;&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function computes the classical Euklidian cost. </p>

<p>Definition at line <a class="el" href="homographyReconstructor_8cpp_source.html#l00477">477</a> of file <a class="el" href="homographyReconstructor_8cpp_source.html">homographyReconstructor.cpp</a>.</p>

<p>References <a class="el" href="homographyReconstructor_8h_source.html#l00032">p2l</a>, and <a class="el" href="homographyReconstructor_8h_source.html#l00031">p2p</a>.</p>

<p>Referenced by <a class="el" href="homographyReconstructor_8cpp_source.html#l00496">corecvs::HomographyReconstructor::CostFunction::operator()()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">double</span> cost = 0.0;
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>.size(); i++)
    {
        <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> point = (H * <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>[i].start);
        cost += (point - <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>[i].end).sumAllElementsSq();
    }

    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>.size(); i++)
    {
        <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> point = H * <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>[i].start;
        <span class="keywordtype">double</span> distanceSq = <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>[i].end.sqDistanceTo(point);
        cost += distanceSq;
    }
    <span class="keywordflow">return</span> cost;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a684150d967d7f9e4ec34d719260f1935"></a><!-- doxytag: member="corecvs::HomographyReconstructor::hasEnoughtConstraints" ref="a684150d967d7f9e4ec34d719260f1935" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a684150d967d7f9e4ec34d719260f1935">corecvs::HomographyReconstructor::hasEnoughtConstraints</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="homographyReconstructor_8cpp_source.html#l00038">38</a> of file <a class="el" href="homographyReconstructor_8cpp_source.html">homographyReconstructor.cpp</a>.</p>

<p>References <a class="el" href="homographyReconstructor_8h_source.html#l00032">p2l</a>, <a class="el" href="homographyReconstructor_8h_source.html#l00031">p2p</a>, and <a class="el" href="homographyReconstructor_8h_source.html#l00033">p2s</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">size_t</span> constraintSize  = <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>.size() + <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ab8082697aacb710b567f82105a6b9375">p2s</a>.size() + <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>.size() * 2;
    <span class="keywordflow">return</span> (constraintSize &gt;= 8);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae69b122b301a8f93a19063a124cefa59"></a><!-- doxytag: member="corecvs::HomographyReconstructor::noramlisePoints" ref="ae69b122b301a8f93a19063a124cefa59" args="(Matrix33 &amp;transformLeft, Matrix33 &amp;transformRight)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcorecvs_1_1HomographyReconstructor.html#ae69b122b301a8f93a19063a124cefa59">corecvs::HomographyReconstructor::noramlisePoints</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a> &amp;&#160;</td>
          <td class="paramname"><em>transformLeft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcorecvs_1_1Matrix33.html">Matrix33</a> &amp;&#160;</td>
          <td class="paramname"><em>transformRight</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>TODO: This function doubles the code form rectificator.cpp. </p>

<p>Definition at line <a class="el" href="homographyReconstructor_8cpp_source.html#l00082">82</a> of file <a class="el" href="homographyReconstructor_8cpp_source.html">homographyReconstructor.cpp</a>.</p>

<p>References <a class="el" href="matrix33_8cpp_source.html#l00040">corecvs::Matrix33::inv()</a>, <a class="el" href="homographyReconstructor_8h_source.html#l00032">p2l</a>, <a class="el" href="homographyReconstructor_8h_source.html#l00031">p2p</a>, <a class="el" href="homographyReconstructor_8h_source.html#l00033">p2s</a>, <a class="el" href="matrix33_8h_source.html#l00146">corecvs::Matrix33::ScaleProj()</a>, <a class="el" href="matrix33_8cpp_source.html#l00474">corecvs::Matrix33::ShiftProj()</a>, <a class="el" href="vector2d_8h_source.html#l00050">corecvs::Vector2d&lt; ElementType &gt;::x()</a>, and <a class="el" href="vector2d_8h_source.html#l00055">corecvs::Vector2d&lt; ElementType &gt;::y()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> lmean(0.0);
    <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> lmeansq(0.0);
    <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> rmean(0.0);
    <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> rmeansq(0.0);

    <span class="keywordtype">int</span> lcount = 0;
    <span class="keywordtype">int</span> rcount = 0;

    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span>  i = 0; i &lt; <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>.size(); i++)
    {
        lmean += <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>[i].start;
        lmeansq += (<a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>[i].start) * (<a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>[i].start);

        rmean += <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>[i].end;
        rmeansq += (<a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>[i].end) * (<a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>[i].end);

        lcount++;
        rcount++;
    }

    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span>  i = 0; i &lt; <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>.size(); i++)
    {
        lmean += <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>[i].start;
        lmeansq += (<a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>[i].start) * (<a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>[i].start);
        lcount++;
    }

    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span>  i = 0; i &lt; <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ab8082697aacb710b567f82105a6b9375">p2s</a>.size(); i++)
    {
        lmean += <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ab8082697aacb710b567f82105a6b9375">p2s</a>[i].start;
        lmeansq += (<a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ab8082697aacb710b567f82105a6b9375">p2s</a>[i].start) * (<a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ab8082697aacb710b567f82105a6b9375">p2s</a>[i].start);
        lcount++;

        <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> segCenter = <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ab8082697aacb710b567f82105a6b9375">p2s</a>[i].end.getCenter();
        rmean += segCenter;
        rmeansq += segCenter * segCenter;
        rcount++;
    }

    lmean /= lcount;
    lmeansq  /= lcount;
    rmean  /= rcount;
    rmeansq  /= rcount;

    <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> lsqmean = lmean * lmean;
    <a class="code" href="classcorecvs_1_1Vector2d.html">Vector2dd</a> rsqmean = rmean * rmean;

    <span class="keywordtype">double</span> lscaler = sqrt (lmeansq.x() - lsqmean.<a class="code" href="classcorecvs_1_1Vector2d.html#a944721c41f044c1388d9dc42ca899bce">x</a>()  + lmeansq.y() - lsqmean.<a class="code" href="classcorecvs_1_1Vector2d.html#ae1ea2ad4c0821001408bf963cffa8413">y</a>());
    <span class="keywordtype">double</span> rscaler = sqrt (rmeansq.x() - rsqmean.<a class="code" href="classcorecvs_1_1Vector2d.html#a944721c41f044c1388d9dc42ca899bce">x</a>()  + rmeansq.y() - rsqmean.<a class="code" href="classcorecvs_1_1Vector2d.html#ae1ea2ad4c0821001408bf963cffa8413">y</a>());

    transformLeft     = <a class="code" href="classcorecvs_1_1Matrix33.html#a594d90bc3706f4d73642faf9315e24b2">Matrix33::ScaleProj</a>(sqrt(2.0) / lscaler) * <a class="code" href="classcorecvs_1_1Matrix33.html#a9848216933d001ad7fea0adb3b7d3212" title="This function returns a matrix with only shift components.">Matrix33::ShiftProj</a>(-lmean);
    transformRight    = <a class="code" href="classcorecvs_1_1Matrix33.html#a594d90bc3706f4d73642faf9315e24b2">Matrix33::ScaleProj</a>(sqrt(2.0) / rscaler) * <a class="code" href="classcorecvs_1_1Matrix33.html#a9848216933d001ad7fea0adb3b7d3212" title="This function returns a matrix with only shift components.">Matrix33::ShiftProj</a>(-rmean);
    <span class="comment">//Matrix33 transformRightInv = Matrix33::ShiftProj(rmean) * Matrix33::ScaleProj(rscaler / sqrt(2.0));</span>


    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span>  i = 0; i &lt; <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>.size(); i++)
    {
       <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>[i].start = transformLeft  * <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>[i].start;
       <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>[i].end   = transformRight * <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>[i].end;
    }

    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span>  i = 0; i &lt; <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>.size(); i++)
    {
       <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>[i].start = transformLeft  * <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>[i].start;
       <a class="code" href="classcorecvs_1_1Vector3d.html">Vector3dd</a> line = <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>[i].end;
       line = line * transformRight.<a class="code" href="classcorecvs_1_1Matrix33.html#a303763def6e3cd4a08222e9fa8f6faae" title="This function returns an inverse of the matrix.">inv</a>();
       <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>[i].end = <a class="code" href="classcorecvs_1_1Line2d.html" title="This class represents the line in 2D space.">Line2d</a>(line[0], line[1], line[2]);
       <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>[i].end.normalise();
    }

    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span>  i = 0; i &lt; <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ab8082697aacb710b567f82105a6b9375">p2s</a>.size(); i++)
    {
        <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ab8082697aacb710b567f82105a6b9375">p2s</a>[i].start = transformLeft  * <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ab8082697aacb710b567f82105a6b9375">p2s</a>[i].start;
        <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ab8082697aacb710b567f82105a6b9375">p2s</a>[i].end.a = transformRight * <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ab8082697aacb710b567f82105a6b9375">p2s</a>[i].end.a;
        <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ab8082697aacb710b567f82105a6b9375">p2s</a>[i].end.b = transformRight * <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ab8082697aacb710b567f82105a6b9375">p2s</a>[i].end.b;
    }
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classcorecvs_1_1HomographyReconstructor_ae69b122b301a8f93a19063a124cefa59_cgraph.svg" width="100%" height="285"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9adf3baa4841921c61e1cd7c5c70c13b"></a><!-- doxytag: member="corecvs::HomographyReconstructor::reset" ref="a9adf3baa4841921c61e1cd7c5c70c13b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a9adf3baa4841921c61e1cd7c5c70c13b">corecvs::HomographyReconstructor::reset</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="homographyReconstructor_8cpp_source.html#l00046">46</a> of file <a class="el" href="homographyReconstructor_8cpp_source.html">homographyReconstructor.cpp</a>.</p>

<p>References <a class="el" href="homographyReconstructor_8h_source.html#l00032">p2l</a>, <a class="el" href="homographyReconstructor_8h_source.html#l00031">p2p</a>, and <a class="el" href="homographyReconstructor_8h_source.html#l00033">p2s</a>.</p>
<div class="fragment"><pre class="fragment">{
   <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>.clear();
   <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>.clear();
   <a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ab8082697aacb710b567f82105a6b9375">p2s</a>.clear();
}
</pre></div>
</div>
</div>
<hr/><h2>Friends And Related Function Documentation</h2>
<a class="anchor" id="ac796e0122859478c60dc1015ac6ab0c6"></a><!-- doxytag: member="corecvs::HomographyReconstructor::operator&lt;&lt;" ref="ac796e0122859478c60dc1015ac6ab0c6" args="(ostream &amp;out, const HomographyReconstructor &amp;reconstructor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ostream&amp; operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">ostream &amp;&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classcorecvs_1_1HomographyReconstructor.html">HomographyReconstructor</a> &amp;&#160;</td>
          <td class="paramname"><em>reconstructor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="homographyReconstructor_8cpp_source.html#l00053">53</a> of file <a class="el" href="homographyReconstructor_8cpp_source.html">homographyReconstructor.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    streamsize wasPrecision = out.precision(6);
    out &lt;&lt; <span class="stringliteral">&quot;// Points2Points &quot;</span> &lt;&lt; endl;
    out &lt;&lt; reconstructor.<a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>.size() &lt;&lt; endl;
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; reconstructor.<a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>.size(); i++)
    {
        out &lt;&lt; reconstructor.<a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>[i].start &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; reconstructor.<a class="code" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">p2p</a>[i].end  &lt;&lt; endl;
    }
    out &lt;&lt; <span class="stringliteral">&quot;// Points2Line &quot;</span> &lt;&lt; endl;
    out &lt;&lt; reconstructor.<a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>.size() &lt;&lt; endl;
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; reconstructor.<a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>.size(); i++)
    {
        out &lt;&lt; reconstructor.<a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>[i].start &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; reconstructor.<a class="code" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">p2l</a>[i].end  &lt;&lt; endl;
    }
    out.precision(wasPrecision);
    <span class="keywordflow">return</span> out;
}
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="ac69a7af02a7bcabd259133311ec3fccd"></a><!-- doxytag: member="corecvs::HomographyReconstructor::p2l" ref="ac69a7af02a7bcabd259133311ec3fccd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;<a class="el" href="namespacecorecvs.html#a8630cce03d29105354a1d069f28da884">CorrespondancePointLine</a>&gt; <a class="el" href="classcorecvs_1_1HomographyReconstructor.html#ac69a7af02a7bcabd259133311ec3fccd">corecvs::HomographyReconstructor::p2l</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="homographyReconstructor_8h_source.html#l00032">32</a> of file <a class="el" href="homographyReconstructor_8h_source.html">homographyReconstructor.h</a>.</p>

<p>Referenced by <a class="el" href="homographyReconstructor_8cpp_source.html#l00028">addPoint2LineConstraint()</a>, <a class="el" href="homographyReconstructor_8cpp_source.html#l00365">getBestHomographyLSE()</a>, <a class="el" href="homographyReconstructor_8cpp_source.html#l00327">getBestHomographyLSE1()</a>, <a class="el" href="homographyReconstructor_8cpp_source.html#l00418">getBestHomographyLSE2()</a>, <a class="el" href="homographyReconstructor_8cpp_source.html#l00477">getCostFunction()</a>, <a class="el" href="homographyReconstructor_8cpp_source.html#l00038">hasEnoughtConstraints()</a>, <a class="el" href="homographyReconstructor_8cpp_source.html#l00082">noramlisePoints()</a>, <a class="el" href="homographyReconstructor_8cpp_source.html#l00053">corecvs::operator&lt;&lt;()</a>, and <a class="el" href="homographyReconstructor_8cpp_source.html#l00046">reset()</a>.</p>

</div>
</div>
<a class="anchor" id="a1edcc5cb4f22b7777446656515db4655"></a><!-- doxytag: member="corecvs::HomographyReconstructor::p2p" ref="a1edcc5cb4f22b7777446656515db4655" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;<a class="el" href="namespacecorecvs.html#a57553ba545a780e2a07167fd7595ef8f">Correspondance</a>&gt; <a class="el" href="classcorecvs_1_1HomographyReconstructor.html#a1edcc5cb4f22b7777446656515db4655">corecvs::HomographyReconstructor::p2p</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="homographyReconstructor_8h_source.html#l00031">31</a> of file <a class="el" href="homographyReconstructor_8h_source.html">homographyReconstructor.h</a>.</p>

<p>Referenced by <a class="el" href="homographyReconstructor_8cpp_source.html#l00023">addPoint2PointConstraint()</a>, <a class="el" href="homographyReconstructor_8cpp_source.html#l00365">getBestHomographyLSE()</a>, <a class="el" href="homographyReconstructor_8cpp_source.html#l00327">getBestHomographyLSE1()</a>, <a class="el" href="homographyReconstructor_8cpp_source.html#l00418">getBestHomographyLSE2()</a>, <a class="el" href="homographyReconstructor_8cpp_source.html#l00477">getCostFunction()</a>, <a class="el" href="homographyReconstructor_8cpp_source.html#l00038">hasEnoughtConstraints()</a>, <a class="el" href="homographyReconstructor_8cpp_source.html#l00082">noramlisePoints()</a>, <a class="el" href="homographyReconstructor_8cpp_source.html#l00053">corecvs::operator&lt;&lt;()</a>, and <a class="el" href="homographyReconstructor_8cpp_source.html#l00046">reset()</a>.</p>

</div>
</div>
<a class="anchor" id="ab8082697aacb710b567f82105a6b9375"></a><!-- doxytag: member="corecvs::HomographyReconstructor::p2s" ref="ab8082697aacb710b567f82105a6b9375" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;<a class="el" href="namespacecorecvs.html#a67bb56460a209ce746e768a4c66793e2">CorrespondancePointSegment</a>&gt; <a class="el" href="classcorecvs_1_1HomographyReconstructor.html#ab8082697aacb710b567f82105a6b9375">corecvs::HomographyReconstructor::p2s</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="homographyReconstructor_8h_source.html#l00033">33</a> of file <a class="el" href="homographyReconstructor_8h_source.html">homographyReconstructor.h</a>.</p>

<p>Referenced by <a class="el" href="homographyReconstructor_8cpp_source.html#l00033">addPoint2SegmentConstraint()</a>, <a class="el" href="homographyReconstructor_8cpp_source.html#l00038">hasEnoughtConstraints()</a>, <a class="el" href="homographyReconstructor_8cpp_source.html#l00082">noramlisePoints()</a>, and <a class="el" href="homographyReconstructor_8cpp_source.html#l00046">reset()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>core/math/matrix/<a class="el" href="homographyReconstructor_8h_source.html">homographyReconstructor.h</a></li>
<li>core/math/matrix/<a class="el" href="homographyReconstructor_8cpp_source.html">homographyReconstructor.cpp</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Tue Nov 12 2013 23:44:55 for DeepView by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
