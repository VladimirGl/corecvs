<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>DeepView: V4L2CameraDescriptor Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">DeepView
   &#160;<span id="projectnumber">0.02</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">V4L2CameraDescriptor Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="V4L2CameraDescriptor" -->
<p>A wrapper over V4L2 to access the camera.  
 <a href="classV4L2CameraDescriptor.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="V4L2_8h_source.html">V4L2.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for V4L2CameraDescriptor:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classV4L2CameraDescriptor__coll__graph.svg" width="636" height="216"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classV4L2CameraDescriptor-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structV4L2CameraDescriptor_1_1ParamIdMapStruct.html">ParamIdMapStruct</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#afd0ae4d89402c36a41084c447dcc925c">State</a> { <a class="el" href="classV4L2CameraDescriptor.html#afd0ae4d89402c36a41084c447dcc925cae93642e7510b53468752edcaa588e6c0">UNINITIALIZED</a>, 
<a class="el" href="classV4L2CameraDescriptor.html#afd0ae4d89402c36a41084c447dcc925ca4bb65e4ef09638031e8e309dc7529691">STOPPED</a>, 
<a class="el" href="classV4L2CameraDescriptor.html#afd0ae4d89402c36a41084c447dcc925ca7891b08b042a9fdc60353a8be0a12662">STARTED</a>, 
<a class="el" href="classV4L2CameraDescriptor.html#afd0ae4d89402c36a41084c447dcc925cae8c9a19d83a9a095fc5565c9b9217289">STATE_NUMBER</a>
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#a12447fa8f4e6ccfb8faac43e3ab04b84">V4L2CameraDescriptor</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#a90876e8791cd7e0114168d6a220e5ab2">allocBuffers</a> (int _count)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates given number of userside buffer structures.  <a href="#a90876e8791cd7e0114168d6a220e5ab2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#a402951f105cac76e8f7ffce752d51eb2">initCamera</a> (string deviceName, int h, int w, int fpsnum, int fpsdenum, bool compressed)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#a0f3aeaca8361be9e3b0046770a412fc8">initCamera</a> (string deviceName, const <a class="el" href="classV4L2CameraMode.html">V4L2CameraMode</a> &amp;mode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#ad9cd9b4b23f9091ff7d1cadaa6803065">initBuffers</a> (unsigned loopQueueBufferNumber=<a class="el" href="classV4L2CameraDescriptor.html#a23fb4745c2fc078352765b03b86e55ab">LoopQueueBufferNumberDefault</a>, unsigned loopQueueBufferNumberMin=<a class="el" href="classV4L2CameraDescriptor.html#a6aebb37bffbd1743d6adcba4cdcb93e2">LoopQueueBufferNumberMinDefault</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#ad7d501818080df3d4a8427c7d408795f">start</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#a679d072b7a4a9a5391a8d28ac15eb9e0">stop</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#ab0cf7c81572bd217d3422b2ca7bc26c9">dequeue</a> (<a class="el" href="classV4L2BufferDescriptor.html">V4L2BufferDescriptor</a> &amp;buffer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#a7642680bb3f48860821c52921d15ff22">enqueue</a> (<a class="el" href="classV4L2BufferDescriptor.html">V4L2BufferDescriptor</a> buffer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#a2c8767874321c1ee3d3a99b9f8d32083">queryCameraParameters</a> (<a class="el" href="classCameraParameters.html">CameraParameters</a> &amp;params)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#a0853af1071412a4fc02c07be228cdfc2">setCaptureProperty</a> (int id, int value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#a1430f048df7668f05ae7d6277e0f635d">getCaptureProperty</a> (int id, int *value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#a07e8ab384c4bd530ed83eb7cce012c14">getCaptureName</a> (string &amp;name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#a29a27da7856b8db74827da720aace81a">getCaptureFormats</a> (int *num, <a class="el" href="structImageCaptureInterface_1_1CameraFormat.html">ImageCaptureInterface::CameraFormat</a> *&amp;formats)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#a492e88b8beaa0fa5f961b731a9caba37">~V4L2CameraDescriptor</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="stdint__win_8h.html#a6eb1e68cc391dd753bc8ce896dbb8315">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#abf402ec40da2d3b8a0f8ae69484ed3cc">getPropIdByVi</a> (<a class="el" href="classCameraParameters.html#a9ee6c1f422933e699029969f77bc9512">CameraParameters::CameraControls</a> viId)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <br class="typebreak"/>
<a class="el" href="classCameraParameters.html#a9ee6c1f422933e699029969f77bc9512">CameraParameters::CameraControls</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#a207c351e78cc05504ff8a359bdbe4f02">getViIdByProp</a> (<a class="el" href="stdint__win_8h.html#a6eb1e68cc391dd753bc8ce896dbb8315">uint32_t</a> v4l2Id)</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#a5a61b50d3d1a6cc159abe41c0a6ce794">state</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#a25b83c6c61944830b63d5fa06c0e9533">camFileName</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">name of the camera device (a UNIX path)  <a href="#a25b83c6c61944830b63d5fa06c0e9533"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#a8be956ed7006ca882198fef26ea2b5b2">formatH</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#ad2bade8e8eaf14ff67b4b83f905633e4">formatW</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classV4L2UsersideBuffer.html">V4L2UsersideBuffer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#a7134b200241b87ce92f160adc6bc8eef">buffers</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#a75cd83960048108369a9d02044a9b432">count</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">number of buffers associated with current descriptor  <a href="#a75cd83960048108369a9d02044a9b432"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#a5bcb155f7296b1b3a8b8d2483b2af2b8">queued</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#a23fb4745c2fc078352765b03b86e55ab">LoopQueueBufferNumberDefault</a> = 8</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#a6aebb37bffbd1743d6adcba4cdcb93e2">LoopQueueBufferNumberMinDefault</a> = 5</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#a91542b63ed5234d85d17b7d7d5e70b7a">INVALID_HANDLE</a> = -1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#afbd4578c393ea4e3505d0f68e9e95014">STATE_NAMES</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="structV4L2CameraDescriptor_1_1ParamIdMapStruct.html">ParamIdMapStruct</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#a87a839e443d93132819ba1a0f9052b8c">paramIdMap</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#a25aa7d95eb6d042ed77c264645e4780f">paramIdMapSize</a> = 17</td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#a0970c8e997bb1c7d186aab7c041cff3d">deinitCamera</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#a9d86faa0c6c5e6d49070906392de93ca">deinitBuffers</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#a95a5924cd4ae6df49a9f3306c6f5d618">queryParmeter</a> (const <a class="el" href="stdint__win_8h.html#a6eb1e68cc391dd753bc8ce896dbb8315">uint32_t</a> propID, v4l2_queryctrl &amp;request) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#a62bed785f16f6f6ba90c88518efb92d4">setParmeter</a> (const <a class="el" href="stdint__win_8h.html#a6eb1e68cc391dd753bc8ce896dbb8315">uint32_t</a> propID, int value) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#aa0feebd43070238d5a7738750ed9435f">getParmeter</a> (const <a class="el" href="stdint__win_8h.html#a6eb1e68cc391dd753bc8ce896dbb8315">uint32_t</a> propID, int *value) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classV4L2CameraDescriptor.html#ab2f3d8d0e3fb4e77c1b90223eb8874d8">setFromQueryCtrl</a> (<a class="el" href="classCaptureParameter.html">CaptureParameter</a> &amp;param, v4l2_queryctrl &amp;ctrl)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>A wrapper over V4L2 to access the camera. </p>

<p>Definition at line <a class="el" href="V4L2_8h_source.html#l00072">72</a> of file <a class="el" href="V4L2_8h_source.html">V4L2.h</a>.</p>
</div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="afd0ae4d89402c36a41084c447dcc925c"></a><!-- doxytag: member="V4L2CameraDescriptor::State" ref="afd0ae4d89402c36a41084c447dcc925c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classV4L2CameraDescriptor.html#afd0ae4d89402c36a41084c447dcc925c">V4L2CameraDescriptor::State</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="afd0ae4d89402c36a41084c447dcc925cae93642e7510b53468752edcaa588e6c0"></a><!-- doxytag: member="UNINITIALIZED" ref="afd0ae4d89402c36a41084c447dcc925cae93642e7510b53468752edcaa588e6c0" args="" -->UNINITIALIZED</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="afd0ae4d89402c36a41084c447dcc925ca4bb65e4ef09638031e8e309dc7529691"></a><!-- doxytag: member="STOPPED" ref="afd0ae4d89402c36a41084c447dcc925ca4bb65e4ef09638031e8e309dc7529691" args="" -->STOPPED</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="afd0ae4d89402c36a41084c447dcc925ca7891b08b042a9fdc60353a8be0a12662"></a><!-- doxytag: member="STARTED" ref="afd0ae4d89402c36a41084c447dcc925ca7891b08b042a9fdc60353a8be0a12662" args="" -->STARTED</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="afd0ae4d89402c36a41084c447dcc925cae8c9a19d83a9a095fc5565c9b9217289"></a><!-- doxytag: member="STATE_NUMBER" ref="afd0ae4d89402c36a41084c447dcc925cae8c9a19d83a9a095fc5565c9b9217289" args="" -->STATE_NUMBER</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="V4L2_8h_source.html#l00080">80</a> of file <a class="el" href="V4L2_8h_source.html">V4L2.h</a>.</p>
<div class="fragment"><pre class="fragment">               {
        <a class="code" href="classV4L2CameraDescriptor.html#afd0ae4d89402c36a41084c447dcc925cae93642e7510b53468752edcaa588e6c0">UNINITIALIZED</a>,
        <a class="code" href="classV4L2CameraDescriptor.html#afd0ae4d89402c36a41084c447dcc925ca4bb65e4ef09638031e8e309dc7529691">STOPPED</a>,
        <a class="code" href="classV4L2CameraDescriptor.html#afd0ae4d89402c36a41084c447dcc925ca7891b08b042a9fdc60353a8be0a12662">STARTED</a>,
        <a class="code" href="classV4L2CameraDescriptor.html#afd0ae4d89402c36a41084c447dcc925cae8c9a19d83a9a095fc5565c9b9217289">STATE_NUMBER</a>
    };
</pre></div>
</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a12447fa8f4e6ccfb8faac43e3ab04b84"></a><!-- doxytag: member="V4L2CameraDescriptor::V4L2CameraDescriptor" ref="a12447fa8f4e6ccfb8faac43e3ab04b84" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classV4L2CameraDescriptor.html#a12447fa8f4e6ccfb8faac43e3ab04b84">V4L2CameraDescriptor::V4L2CameraDescriptor</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8h_source.html#l00100">100</a> of file <a class="el" href="V4L2_8h_source.html">V4L2.h</a>.</p>
<div class="fragment"><pre class="fragment">                           :
        <a class="code" href="classV4L2CameraDescriptor.html#a5a61b50d3d1a6cc159abe41c0a6ce794">state</a>(<a class="code" href="classV4L2CameraDescriptor.html#afd0ae4d89402c36a41084c447dcc925cae93642e7510b53468752edcaa588e6c0">UNINITIALIZED</a>),
        <a class="code" href="classV4L2CameraDescriptor.html#a25b83c6c61944830b63d5fa06c0e9533" title="name of the camera device (a UNIX path)">camFileName</a>(<span class="stringliteral">&quot;&quot;</span>),
        <a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a>(<a class="code" href="classV4L2CameraDescriptor.html#a91542b63ed5234d85d17b7d7d5e70b7a">INVALID_HANDLE</a>),
        <a class="code" href="classV4L2CameraDescriptor.html#a8be956ed7006ca882198fef26ea2b5b2">formatH</a>(0),
        <a class="code" href="classV4L2CameraDescriptor.html#ad2bade8e8eaf14ff67b4b83f905633e4">formatW</a>(0),
        <a class="code" href="classV4L2CameraDescriptor.html#a7134b200241b87ce92f160adc6bc8eef">buffers</a>(NULL),
        <a class="code" href="classV4L2CameraDescriptor.html#a75cd83960048108369a9d02044a9b432" title="number of buffers associated with current descriptor">count</a>(0),
        <a class="code" href="classV4L2CameraDescriptor.html#a5bcb155f7296b1b3a8b8d2483b2af2b8">queued</a>(0)
    {}
</pre></div>
</div>
</div>
<a class="anchor" id="a492e88b8beaa0fa5f961b731a9caba37"></a><!-- doxytag: member="V4L2CameraDescriptor::~V4L2CameraDescriptor" ref="a492e88b8beaa0fa5f961b731a9caba37" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classV4L2CameraDescriptor.html#a492e88b8beaa0fa5f961b731a9caba37">V4L2CameraDescriptor::~V4L2CameraDescriptor</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8cpp_source.html#l00234">234</a> of file <a class="el" href="V4L2_8cpp_source.html">V4L2.cpp</a>.</p>

<p>References <a class="el" href="V4L2_8h_source.html#l00096">buffers</a>, <a class="el" href="V4L2_8cpp_source.html#l00212">deinitBuffers()</a>, <a class="el" href="V4L2_8cpp_source.html#l00103">deinitCamera()</a>, <a class="el" href="V4L2_8cpp_source.html#l00267">stop()</a>, and <a class="el" href="global_8h_source.html#l00137">SYNC_PRINT</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classV4L2CameraDescriptor.html#a679d072b7a4a9a5391a8d28ac15eb9e0">stop</a>();
    <a class="code" href="global_8h.html#a49199ac38fc95393d7b14a6f0524e46d">SYNC_PRINT</a>((<span class="stringliteral">&quot;V4L2CameraDescriptor::Deiniting camera structures\n&quot;</span>));
    <a class="code" href="classV4L2CameraDescriptor.html#a9d86faa0c6c5e6d49070906392de93ca">deinitBuffers</a>();
    <a class="code" href="global_8h.html#a49199ac38fc95393d7b14a6f0524e46d">SYNC_PRINT</a>((<span class="stringliteral">&quot;V4L2CameraDescriptor::Closing cameras\n&quot;</span>));
    <a class="code" href="classV4L2CameraDescriptor.html#a0970c8e997bb1c7d186aab7c041cff3d">deinitCamera</a>();
    deletearr_safe(<a class="code" href="classV4L2CameraDescriptor.html#a7134b200241b87ce92f160adc6bc8eef">buffers</a>);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classV4L2CameraDescriptor_a492e88b8beaa0fa5f961b731a9caba37_cgraph.svg" width="664" height="147"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a90876e8791cd7e0114168d6a220e5ab2"></a><!-- doxytag: member="V4L2CameraDescriptor::allocBuffers" ref="a90876e8791cd7e0114168d6a220e5ab2" args="(int _count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classV4L2CameraDescriptor.html#a90876e8791cd7e0114168d6a220e5ab2">V4L2CameraDescriptor::allocBuffers</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_count</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Allocates given number of userside buffer structures. </p>

<p>Definition at line <a class="el" href="V4L2_8h_source.html#l00114">114</a> of file <a class="el" href="V4L2_8h_source.html">V4L2.h</a>.</p>

<p>References <a class="el" href="V4L2_8h_source.html#l00096">buffers</a>, and <a class="el" href="V4L2_8h_source.html#l00097">count</a>.</p>

<p>Referenced by <a class="el" href="V4L2_8cpp_source.html#l00118">initBuffers()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <a class="code" href="classV4L2CameraDescriptor.html#a75cd83960048108369a9d02044a9b432" title="number of buffers associated with current descriptor">count</a> = _count;
        <a class="code" href="classV4L2CameraDescriptor.html#a7134b200241b87ce92f160adc6bc8eef">buffers</a> = <span class="keyword">new</span> <a class="code" href="classV4L2UsersideBuffer.html" title="This structure describes V4L2 user side buffer.">V4L2UsersideBuffer</a>[<a class="code" href="classV4L2CameraDescriptor.html#a75cd83960048108369a9d02044a9b432" title="number of buffers associated with current descriptor">count</a>];
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a9d86faa0c6c5e6d49070906392de93ca"></a><!-- doxytag: member="V4L2CameraDescriptor::deinitBuffers" ref="a9d86faa0c6c5e6d49070906392de93ca" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classV4L2CameraDescriptor.html#a9d86faa0c6c5e6d49070906392de93ca">V4L2CameraDescriptor::deinitBuffers</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8cpp_source.html#l00212">212</a> of file <a class="el" href="V4L2_8cpp_source.html">V4L2.cpp</a>.</p>

<p>References <a class="el" href="V4L2_8h_source.html#l00096">buffers</a>, <a class="el" href="V4L2_8h_source.html#l00090">camFileName</a>, <a class="el" href="V4L2_8h_source.html#l00097">count</a>, <a class="el" href="V4L2_8h_source.html#l00029">V4L2UsersideBuffer::length</a>, <a class="el" href="V4L2_8h_source.html#l00028">V4L2UsersideBuffer::start</a>, and <a class="el" href="global_8h_source.html#l00137">SYNC_PRINT</a>.</p>

<p>Referenced by <a class="el" href="V4L2_8cpp_source.html#l00234">~V4L2CameraDescriptor()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="classV4L2CameraDescriptor.html#a75cd83960048108369a9d02044a9b432" title="number of buffers associated with current descriptor">count</a>; i++)
    {
        <a class="code" href="classV4L2UsersideBuffer.html" title="This structure describes V4L2 user side buffer.">V4L2UsersideBuffer</a> *buffer = &amp;(<a class="code" href="classV4L2CameraDescriptor.html#a7134b200241b87ce92f160adc6bc8eef">buffers</a>[i]);
        <span class="keywordflow">if</span> (buffer-&gt;<a class="code" href="classV4L2UsersideBuffer.html#ae8d528f4020c92234407a977900535a2" title="Start address of the buffer.">start</a> == NULL) {
            <span class="keywordflow">continue</span>;
        }

        <span class="keywordtype">int</span> result = munmap(buffer-&gt;<a class="code" href="classV4L2UsersideBuffer.html#ae8d528f4020c92234407a977900535a2" title="Start address of the buffer.">start</a>, buffer-&gt;<a class="code" href="classV4L2UsersideBuffer.html#acb6b6e7305554ed67a53fe7b44398c0b" title="Length of the buffer in bytes.">length</a>);
        <span class="keywordflow">if</span> (result == -1)
        {
            <a class="code" href="global_8h.html#a49199ac38fc95393d7b14a6f0524e46d">SYNC_PRINT</a>((<span class="stringliteral">&quot;V4L2CameraDescriptor::deinitCamera(): Unable to close handle for camera %s \n&quot;</span>, <a class="code" href="classV4L2CameraDescriptor.html#a25b83c6c61944830b63d5fa06c0e9533" title="name of the camera device (a UNIX path)">camFileName</a>.c_str()));
            <span class="keywordflow">return</span> 1;
        }
        buffer-&gt;<a class="code" href="classV4L2UsersideBuffer.html#acb6b6e7305554ed67a53fe7b44398c0b" title="Length of the buffer in bytes.">length</a> = 0;
        buffer-&gt;<a class="code" href="classV4L2UsersideBuffer.html#ae8d528f4020c92234407a977900535a2" title="Start address of the buffer.">start</a>  = NULL;
    }
    count = 0;
    <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0970c8e997bb1c7d186aab7c041cff3d"></a><!-- doxytag: member="V4L2CameraDescriptor::deinitCamera" ref="a0970c8e997bb1c7d186aab7c041cff3d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classV4L2CameraDescriptor.html#a0970c8e997bb1c7d186aab7c041cff3d">V4L2CameraDescriptor::deinitCamera</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8cpp_source.html#l00103">103</a> of file <a class="el" href="V4L2_8cpp_source.html">V4L2.cpp</a>.</p>

<p>References <a class="el" href="V4L2_8h_source.html#l00090">camFileName</a>, <a class="el" href="V4L2_8h_source.html#l00091">deviceHandle</a>, <a class="el" href="V4L2_8h_source.html#l00078">INVALID_HANDLE</a>, and <a class="el" href="global_8h_source.html#l00137">SYNC_PRINT</a>.</p>

<p>Referenced by <a class="el" href="V4L2_8cpp_source.html#l00234">~V4L2CameraDescriptor()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a> == <a class="code" href="classV4L2CameraDescriptor.html#a91542b63ed5234d85d17b7d7d5e70b7a">INVALID_HANDLE</a>) {
        <span class="keywordflow">return</span> 0;
    }
    <a class="code" href="global_8h.html#a49199ac38fc95393d7b14a6f0524e46d">SYNC_PRINT</a>((<span class="stringliteral">&quot;V4L2CameraDescriptor::deinitCamera(): closing camera %s \n&quot;</span>, <a class="code" href="classV4L2CameraDescriptor.html#a25b83c6c61944830b63d5fa06c0e9533" title="name of the camera device (a UNIX path)">camFileName</a>.c_str()));
    <span class="keywordtype">int</span> result = close(<a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a>);
    <span class="keywordflow">if</span> (result == -1) {
        <a class="code" href="global_8h.html#a49199ac38fc95393d7b14a6f0524e46d">SYNC_PRINT</a>((<span class="stringliteral">&quot;V4L2CameraDescriptor::deinitCamera(): Unable to close handle for camera %s \n&quot;</span>, <a class="code" href="classV4L2CameraDescriptor.html#a25b83c6c61944830b63d5fa06c0e9533" title="name of the camera device (a UNIX path)">camFileName</a>.c_str()));
        <span class="keywordflow">return</span> 1;
    }
    <a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a> = <a class="code" href="classV4L2CameraDescriptor.html#a91542b63ed5234d85d17b7d7d5e70b7a">INVALID_HANDLE</a>;
    <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab0cf7c81572bd217d3422b2ca7bc26c9"></a><!-- doxytag: member="V4L2CameraDescriptor::dequeue" ref="ab0cf7c81572bd217d3422b2ca7bc26c9" args="(V4L2BufferDescriptor &amp;buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classV4L2CameraDescriptor.html#ab0cf7c81572bd217d3422b2ca7bc26c9">V4L2CameraDescriptor::dequeue</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classV4L2BufferDescriptor.html">V4L2BufferDescriptor</a> &amp;&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8cpp_source.html#l00294">294</a> of file <a class="el" href="V4L2_8cpp_source.html">V4L2.cpp</a>.</p>

<p>References <a class="el" href="V4L2_8h_source.html#l00090">camFileName</a>, <a class="el" href="V4L2_8h_source.html#l00097">count</a>, <a class="el" href="V4L2_8h_source.html#l00091">deviceHandle</a>, <a class="el" href="V4L2_8h_source.html#l00078">INVALID_HANDLE</a>, <a class="el" href="V4L2_8h_source.html#l00043">V4L2BufferDescriptor::isFilled</a>, <a class="el" href="V4L2_8h_source.html#l00098">queued</a>, and <a class="el" href="V4L2_8cpp_source.html#l00020">TRACE_DEQUEUE</a>.</p>

<p>Referenced by <a class="el" href="V4L2CaptureDecouple_8cpp_source.html#l00166">V4L2CaptureDecoupleInterface::SpinThread::run()</a>, and <a class="el" href="V4L2Capture_8cpp_source.html#l00229">V4L2CaptureInterface::SpinThread::run()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a> == <a class="code" href="classV4L2CameraDescriptor.html#a91542b63ed5234d85d17b7d7d5e70b7a">INVALID_HANDLE</a>) {
        <span class="keywordflow">return</span> 1;
    }

    bufferDescr.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
    bufferDescr.memory = V4L2_MEMORY_MMAP;
    bufferDescr.isFilled = <span class="keyword">false</span>;
    <span class="keywordflow">if</span> (ioctl (<a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a>, VIDIOC_DQBUF, &amp;bufferDescr) == -1)
    {
        printf (<span class="stringliteral">&quot;Unable to dequeue buffer (%d) on camera %s(handle 0x%X). Error:%s\n&quot;</span>,
                errno,
                <a class="code" href="classV4L2CameraDescriptor.html#a25b83c6c61944830b63d5fa06c0e9533" title="name of the camera device (a UNIX path)">camFileName</a>.c_str(),
                <a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a>,
                strerror(errno));
        <span class="keywordflow">return</span> 1;
    }

    <span class="keywordflow">if</span> (bufferDescr.index &gt;= <a class="code" href="classV4L2CameraDescriptor.html#a75cd83960048108369a9d02044a9b432" title="number of buffers associated with current descriptor">count</a>)
    {
        printf(<span class="stringliteral">&quot;Dequeue returned buffer id %d (expcted number &lt; %d) for camera %s(handle 0x%X).\n&quot;</span>,
               bufferDescr.index, <a class="code" href="classV4L2CameraDescriptor.html#a75cd83960048108369a9d02044a9b432" title="number of buffers associated with current descriptor">count</a>,
               <a class="code" href="classV4L2CameraDescriptor.html#a25b83c6c61944830b63d5fa06c0e9533" title="name of the camera device (a UNIX path)">camFileName</a>.c_str(),
               <a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a>);
        <span class="keywordflow">return</span> 1;
    }

    <a class="code" href="classV4L2CameraDescriptor.html#a5bcb155f7296b1b3a8b8d2483b2af2b8">queued</a>--;
    <a class="code" href="V4L2_8cpp.html#af51343af007c690edd4874d13bde330d">TRACE_DEQUEUE</a>((<span class="stringliteral">&quot;Dequeued %d (%x) [%d]\n&quot;</span>, bufferDescr.index, cam-&gt;deviceHandle, cam-&gt;queued));

    bufferDescr.isFilled = <span class="keyword">true</span>;
    <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7642680bb3f48860821c52921d15ff22"></a><!-- doxytag: member="V4L2CameraDescriptor::enqueue" ref="a7642680bb3f48860821c52921d15ff22" args="(V4L2BufferDescriptor buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classV4L2CameraDescriptor.html#a7642680bb3f48860821c52921d15ff22">V4L2CameraDescriptor::enqueue</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classV4L2BufferDescriptor.html">V4L2BufferDescriptor</a>&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8cpp_source.html#l00329">329</a> of file <a class="el" href="V4L2_8cpp_source.html">V4L2.cpp</a>.</p>

<p>References <a class="el" href="V4L2_8h_source.html#l00091">deviceHandle</a>, <a class="el" href="V4L2_8h_source.html#l00078">INVALID_HANDLE</a>, <a class="el" href="V4L2_8h_source.html#l00043">V4L2BufferDescriptor::isFilled</a>, <a class="el" href="V4L2_8h_source.html#l00098">queued</a>, and <a class="el" href="V4L2_8cpp_source.html#l00020">TRACE_DEQUEUE</a>.</p>

<p>Referenced by <a class="el" href="V4L2CaptureDecouple_8cpp_source.html#l00166">V4L2CaptureDecoupleInterface::SpinThread::run()</a>, and <a class="el" href="V4L2Capture_8cpp_source.html#l00229">V4L2CaptureInterface::SpinThread::run()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a> == <a class="code" href="classV4L2CameraDescriptor.html#a91542b63ed5234d85d17b7d7d5e70b7a">INVALID_HANDLE</a>) {
        <span class="keywordflow">return</span> 1;
    }

    <span class="keywordflow">if</span> (!buffer.<a class="code" href="classV4L2BufferDescriptor.html#a470896d3ee2114ebf97d5252f229c027" title="Flag that is used to tell filled buffer from not filled.">isFilled</a>)
    {
        printf(<span class="stringliteral">&quot;Empty Buffer. Will not enqueue\n&quot;</span>);
        <span class="keywordflow">return</span> 0;
    }

    <span class="keywordflow">if</span> (ioctl (<a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a>, VIDIOC_QBUF, &amp;buffer) == -1)
    {
        printf (<span class="stringliteral">&quot;Unable to requeue buffer (%d).\n&quot;</span>, errno);
        <span class="keywordflow">return</span> 1;
    }

    <a class="code" href="classV4L2CameraDescriptor.html#a5bcb155f7296b1b3a8b8d2483b2af2b8">queued</a>++;
    <a class="code" href="V4L2_8cpp.html#af51343af007c690edd4874d13bde330d">TRACE_DEQUEUE</a>((<span class="stringliteral">&quot;Enqueued %d (%x) [%d]\n&quot;</span>, buffer.index, cam-&gt;deviceHandle,  cam-&gt;queued));
    <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a29a27da7856b8db74827da720aace81a"></a><!-- doxytag: member="V4L2CameraDescriptor::getCaptureFormats" ref="a29a27da7856b8db74827da720aace81a" args="(int *num, ImageCaptureInterface::CameraFormat *&amp;formats)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classV4L2CameraDescriptor.html#a29a27da7856b8db74827da720aace81a">V4L2CameraDescriptor::getCaptureFormats</a> </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structImageCaptureInterface_1_1CameraFormat.html">ImageCaptureInterface::CameraFormat</a> *&amp;&#160;</td>
          <td class="paramname"><em>formats</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8cpp_source.html#l00575">575</a> of file <a class="el" href="V4L2_8cpp_source.html">V4L2.cpp</a>.</p>

<p>References <a class="el" href="V4L2_8h_source.html#l00091">deviceHandle</a>, <a class="el" href="imageCaptureInterface_8h_source.html#l00143">ImageCaptureInterface::CameraFormat::fps</a>, <a class="el" href="imageCaptureInterface_8h_source.html#l00145">ImageCaptureInterface::CameraFormat::height</a>, <a class="el" href="V4L2_8h_source.html#l00078">INVALID_HANDLE</a>, and <a class="el" href="imageCaptureInterface_8h_source.html#l00144">ImageCaptureInterface::CameraFormat::width</a>.</p>

<p>Referenced by <a class="el" href="V4L2Capture_8cpp_source.html#l00516">V4L2CaptureInterface::getFormats()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a> == <a class="code" href="classV4L2CameraDescriptor.html#a91542b63ed5234d85d17b7d7d5e70b7a">INVALID_HANDLE</a>) {
        <span class="keywordflow">return</span> -1;
    }
    vector&lt;ImageCaptureInterface::CameraFormat&gt; cameraFormats;
    <span class="keyword">struct </span>v4l2_fmtdesc fmt;

    memset(&amp;fmt, 0, <span class="keyword">sizeof</span>(fmt));
    fmt.index = 0;
    fmt.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
    <span class="keywordflow">while</span> (ioctl(<a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a>, VIDIOC_ENUM_FMT, &amp;fmt) == 0)
    {
        <span class="keyword">struct </span>v4l2_frmsizeenum fsize;

        memset(&amp;fsize, 0, <span class="keyword">sizeof</span>(fsize));
        fsize.index = 0;
        fsize.pixel_format = fmt.pixelformat;
        <span class="keywordflow">while</span> (ioctl(<a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a>, VIDIOC_ENUM_FRAMESIZES, &amp;fsize) == 0)
        {
            <span class="keywordflow">if</span> (fsize.type != V4L2_FRMSIZE_TYPE_DISCRETE)
            {
                <span class="keywordflow">break</span>;
            }
            <span class="keyword">struct </span>v4l2_frmivalenum fival;

            memset(&amp;fival, 0, <span class="keyword">sizeof</span>(fival));
            fival.index = 0;
            fival.pixel_format = fmt.pixelformat;
            fival.width = fsize.discrete.width;
            fival.height = fsize.discrete.height;
            <span class="keywordflow">while</span> (ioctl(<a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a>, VIDIOC_ENUM_FRAMEINTERVALS, &amp;fival) == 0)
            {
                <span class="keywordflow">if</span> (fival.type != V4L2_FRMIVAL_TYPE_DISCRETE)
                {
                    <span class="keywordflow">break</span>;
                }
                <a class="code" href="structImageCaptureInterface_1_1CameraFormat.html">ImageCaptureInterface::CameraFormat</a> cameraFormat;
                cameraFormat.<a class="code" href="structImageCaptureInterface_1_1CameraFormat.html#a6e27a326ba568849c2a98c0f2d09c537">height</a> = fsize.discrete.height;
                cameraFormat.<a class="code" href="structImageCaptureInterface_1_1CameraFormat.html#ac305a696a2fcb01e569bedcc49adf4b6">width</a> = fsize.discrete.width;
                cameraFormat.<a class="code" href="structImageCaptureInterface_1_1CameraFormat.html#a913b682d74c66dfbe81325b48b2136a9">fps</a> = fival.discrete.denominator / fival.discrete.numerator;
                cameraFormats.push_back(cameraFormat);
                fival.index++;
            }
            fsize.index++;
        }
        fmt.index++;
    }
    *num = cameraFormats.size();
    formats = <span class="keyword">new</span> <a class="code" href="structImageCaptureInterface_1_1CameraFormat.html">ImageCaptureInterface::CameraFormat</a>[cameraFormats.size()];
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; cameraFormats.size(); i ++)
    {
        formats[i] = cameraFormats[i];
    }
    <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a07e8ab384c4bd530ed83eb7cce012c14"></a><!-- doxytag: member="V4L2CameraDescriptor::getCaptureName" ref="a07e8ab384c4bd530ed83eb7cce012c14" args="(string &amp;name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classV4L2CameraDescriptor.html#a07e8ab384c4bd530ed83eb7cce012c14">V4L2CameraDescriptor::getCaptureName</a> </td>
          <td>(</td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8cpp_source.html#l00562">562</a> of file <a class="el" href="V4L2_8cpp_source.html">V4L2.cpp</a>.</p>

<p>References <a class="el" href="V4L2_8h_source.html#l00091">deviceHandle</a>, and <a class="el" href="V4L2_8h_source.html#l00078">INVALID_HANDLE</a>.</p>

<p>Referenced by <a class="el" href="V4L2Capture_8cpp_source.html#l00505">V4L2CaptureInterface::getCaptureName()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">struct </span>v4l2_capability video_cap;

    <span class="keywordflow">if</span> (<a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a> == <a class="code" href="classV4L2CameraDescriptor.html#a91542b63ed5234d85d17b7d7d5e70b7a">INVALID_HANDLE</a> || ioctl(<a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a>, VIDIOC_QUERYCAP, &amp;video_cap) == -1)
    {
        printf(<span class="stringliteral">&quot;Couldn&#39;t get name of camera with handle %d\n&quot;</span>, <a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a>);
        <span class="keywordflow">return</span> -1;
    }
    name = (<span class="keywordtype">char</span> *)video_cap.card;
    <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1430f048df7668f05ae7d6277e0f635d"></a><!-- doxytag: member="V4L2CameraDescriptor::getCaptureProperty" ref="a1430f048df7668f05ae7d6277e0f635d" args="(int id, int *value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classV4L2CameraDescriptor.html#a1430f048df7668f05ae7d6277e0f635d">V4L2CameraDescriptor::getCaptureProperty</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8cpp_source.html#l00548">548</a> of file <a class="el" href="V4L2_8cpp_source.html">V4L2.cpp</a>.</p>

<p>References <a class="el" href="V4L2_8h_source.html#l00091">deviceHandle</a>, <a class="el" href="cameraControlParameters_8h_source.html#l00129">CameraParameters::getName()</a>, <a class="el" href="V4L2_8cpp_source.html#l00396">getParmeter()</a>, <a class="el" href="V4L2_8cpp_source.html#l00495">getPropIdByVi()</a>, and <a class="el" href="global_8h_source.html#l00137">SYNC_PRINT</a>.</p>

<p>Referenced by <a class="el" href="V4L2CaptureDecouple_8cpp_source.html#l00219">V4L2CaptureDecoupleInterface::getCaptureProperty()</a>, and <a class="el" href="V4L2Capture_8cpp_source.html#l00436">V4L2CaptureInterface::getCaptureProperty()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="stdint__win_8h.html#a6eb1e68cc391dd753bc8ce896dbb8315">uint32_t</a> v4l2Id = <a class="code" href="classV4L2CameraDescriptor.html#abf402ec40da2d3b8a0f8ae69484ed3cc">getPropIdByVi</a>((<a class="code" href="classCameraParameters.html#a9ee6c1f422933e699029969f77bc9512">CameraParameters::CameraControls</a>)<span class="keywordtype">id</span>);
    <span class="keywordflow">if</span>(<a class="code" href="classV4L2CameraDescriptor.html#aa0feebd43070238d5a7738750ed9435f">getParmeter</a>(v4l2Id, value) != 0)
    {
        <a class="code" href="global_8h.html#a49199ac38fc95393d7b14a6f0524e46d">SYNC_PRINT</a>((<span class="stringliteral">&quot;V4L2CameraDescriptor::getCaptureProperty(): Failed to get %s for device (%d)\n&quot;</span>,
            <a class="code" href="classCameraParameters.html#ac27738c0c6c5eec5bbaac69489b578fc">CameraParameters::getName</a>((<a class="code" href="classCameraParameters.html#a9ee6c1f422933e699029969f77bc9512">CameraParameters::CameraControls</a>)<span class="keywordtype">id</span>),
            <a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a>
        ));
    }

    <span class="keywordflow">return</span> 0;
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classV4L2CameraDescriptor_a1430f048df7668f05ae7d6277e0f635d_cgraph.svg" width="635" height="147"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa0feebd43070238d5a7738750ed9435f"></a><!-- doxytag: member="V4L2CameraDescriptor::getParmeter" ref="aa0feebd43070238d5a7738750ed9435f" args="(const uint32_t propID, int *value) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classV4L2CameraDescriptor.html#aa0feebd43070238d5a7738750ed9435f">V4L2CameraDescriptor::getParmeter</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="stdint__win_8h.html#a6eb1e68cc391dd753bc8ce896dbb8315">uint32_t</a>&#160;</td>
          <td class="paramname"><em>propID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8cpp_source.html#l00396">396</a> of file <a class="el" href="V4L2_8cpp_source.html">V4L2.cpp</a>.</p>

<p>References <a class="el" href="V4L2_8h_source.html#l00091">deviceHandle</a>, and <a class="el" href="V4L2_8h_source.html#l00078">INVALID_HANDLE</a>.</p>

<p>Referenced by <a class="el" href="V4L2_8cpp_source.html#l00548">getCaptureProperty()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a> == <a class="code" href="classV4L2CameraDescriptor.html#a91542b63ed5234d85d17b7d7d5e70b7a">INVALID_HANDLE</a>) {
        <span class="keywordflow">return</span> -1;
    }

    v4l2_control request;

    request.id = propID;
    request.value = 0;
    <span class="keywordtype">int</span> result = ioctl( <a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a>, VIDIOC_G_CTRL, &amp;request);
    <span class="keywordflow">if</span> ( result != 0 )
    {
        printf( <span class="stringliteral">&quot;V4L2CameraDescriptor::getParmeter():VIDIOC_S_CTRL for %d with value %d failed. (%s)\n&quot;</span>, propID, request.value, strerror(errno) );
        <span class="keywordflow">return</span> -1;
    }
    *value = request.value;
    <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="abf402ec40da2d3b8a0f8ae69484ed3cc"></a><!-- doxytag: member="V4L2CameraDescriptor::getPropIdByVi" ref="abf402ec40da2d3b8a0f8ae69484ed3cc" args="(CameraParameters::CameraControls viId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint__win_8h.html#a6eb1e68cc391dd753bc8ce896dbb8315">uint32_t</a> <a class="el" href="classV4L2CameraDescriptor.html#abf402ec40da2d3b8a0f8ae69484ed3cc">V4L2CameraDescriptor::getPropIdByVi</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCameraParameters.html#a9ee6c1f422933e699029969f77bc9512">CameraParameters::CameraControls</a>&#160;</td>
          <td class="paramname"><em>viId</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8cpp_source.html#l00495">495</a> of file <a class="el" href="V4L2_8cpp_source.html">V4L2.cpp</a>.</p>

<p>References <a class="el" href="V4L2_8h_source.html#l00159">paramIdMap</a>, <a class="el" href="V4L2_8h_source.html#l00160">paramIdMapSize</a>, and <a class="el" href="V4L2_8h_source.html#l00154">V4L2CameraDescriptor::ParamIdMapStruct::v4l2PropID</a>.</p>

<p>Referenced by <a class="el" href="V4L2_8cpp_source.html#l00548">getCaptureProperty()</a>, and <a class="el" href="V4L2_8cpp_source.html#l00535">setCaptureProperty()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classV4L2CameraDescriptor.html#a25aa7d95eb6d042ed77c264645e4780f">paramIdMapSize</a>; i++) {
        <span class="keywordflow">if</span> (viId == <a class="code" href="classV4L2CameraDescriptor.html#a87a839e443d93132819ba1a0f9052b8c">paramIdMap</a>[i].viParamId) {
            <span class="keywordflow">return</span> <a class="code" href="classV4L2CameraDescriptor.html#a87a839e443d93132819ba1a0f9052b8c">paramIdMap</a>[i].<a class="code" href="structV4L2CameraDescriptor_1_1ParamIdMapStruct.html#afcab89af248b58915fcb5b524f10b457">v4l2PropID</a>;
        }
    }

    <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a207c351e78cc05504ff8a359bdbe4f02"></a><!-- doxytag: member="V4L2CameraDescriptor::getViIdByProp" ref="a207c351e78cc05504ff8a359bdbe4f02" args="(uint32_t v4l2Id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCameraParameters.html#a9ee6c1f422933e699029969f77bc9512">CameraParameters::CameraControls</a> <a class="el" href="classV4L2CameraDescriptor.html#a207c351e78cc05504ff8a359bdbe4f02">V4L2CameraDescriptor::getViIdByProp</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint__win_8h.html#a6eb1e68cc391dd753bc8ce896dbb8315">uint32_t</a>&#160;</td>
          <td class="paramname"><em>v4l2Id</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8cpp_source.html#l00506">506</a> of file <a class="el" href="V4L2_8cpp_source.html">V4L2.cpp</a>.</p>

<p>References <a class="el" href="operation_8h_source.html#l00026">Operation::FIRST</a>, <a class="el" href="V4L2_8h_source.html#l00159">paramIdMap</a>, <a class="el" href="V4L2_8h_source.html#l00160">paramIdMapSize</a>, and <a class="el" href="V4L2_8h_source.html#l00155">V4L2CameraDescriptor::ParamIdMapStruct::viParamId</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classV4L2CameraDescriptor.html#a25aa7d95eb6d042ed77c264645e4780f">paramIdMapSize</a>; i++) {
        <span class="keywordflow">if</span> (v4l2Id == <a class="code" href="classV4L2CameraDescriptor.html#a87a839e443d93132819ba1a0f9052b8c">paramIdMap</a>[i].v4l2PropID) {
            <span class="keywordflow">return</span> <a class="code" href="classV4L2CameraDescriptor.html#a87a839e443d93132819ba1a0f9052b8c">paramIdMap</a>[i].<a class="code" href="structV4L2CameraDescriptor_1_1ParamIdMapStruct.html#a35c815f7b455439a3980ef1c38d2b752">viParamId</a>;
        }
    }
    <span class="keywordflow">return</span> <a class="code" href="namespaceOperation.html#ab28d17b3448291d68b46e3db955fd2a5ad14f194f608a101894e161fbb6acf8a2" title="First First.">CameraParameters::FIRST</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad9cd9b4b23f9091ff7d1cadaa6803065"></a><!-- doxytag: member="V4L2CameraDescriptor::initBuffers" ref="ad9cd9b4b23f9091ff7d1cadaa6803065" args="(unsigned loopQueueBufferNumber=LoopQueueBufferNumberDefault, unsigned loopQueueBufferNumberMin=LoopQueueBufferNumberMinDefault)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classV4L2CameraDescriptor.html#ad9cd9b4b23f9091ff7d1cadaa6803065">V4L2CameraDescriptor::initBuffers</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>loopQueueBufferNumber</em> = <code><a class="el" href="classV4L2CameraDescriptor.html#a23fb4745c2fc078352765b03b86e55ab">LoopQueueBufferNumberDefault</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>loopQueueBufferNumberMin</em> = <code><a class="el" href="classV4L2CameraDescriptor.html#a6aebb37bffbd1743d6adcba4cdcb93e2">LoopQueueBufferNumberMinDefault</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8cpp_source.html#l00118">118</a> of file <a class="el" href="V4L2_8cpp_source.html">V4L2.cpp</a>.</p>

<p>References <a class="el" href="V4L2_8h_source.html#l00114">allocBuffers()</a>, <a class="el" href="V4L2_8h_source.html#l00096">buffers</a>, <a class="el" href="V4L2_8h_source.html#l00090">camFileName</a>, <a class="el" href="V4L2_8h_source.html#l00097">count</a>, <a class="el" href="V4L2_8h_source.html#l00091">deviceHandle</a>, <a class="el" href="V4L2_8h_source.html#l00029">V4L2UsersideBuffer::length</a>, <a class="el" href="V4L2_8h_source.html#l00098">queued</a>, <a class="el" href="V4L2_8h_source.html#l00028">V4L2UsersideBuffer::start</a>, <a class="el" href="V4L2_8h_source.html#l00089">state</a>, and <a class="el" href="V4L2_8h_source.html#l00082">STOPPED</a>.</p>

<p>Referenced by <a class="el" href="V4L2CaptureDecouple_8cpp_source.html#l00135">V4L2CaptureDecoupleInterface::initCapture()</a>, and <a class="el" href="V4L2Capture_8cpp_source.html#l00443">V4L2CaptureInterface::initCapture()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">/* Now we need to create buffers and tell driver about them */</span>
    <span class="keyword">struct </span>v4l2_requestbuffers reqbuf;

    memset (&amp;reqbuf, 0, <span class="keyword">sizeof</span> (reqbuf));
    reqbuf.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
    reqbuf.memory = V4L2_MEMORY_MMAP;
    reqbuf.count = loopQueueBufferNumber;

    <span class="keywordflow">if</span> (ioctl (<a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a>, VIDIOC_REQBUFS, &amp;reqbuf) == -1)
    {
        printf (<span class="stringliteral">&quot;Unable to allocate buffers in kernel for camera %s (handle 0x%X)&quot;</span>
                <span class="stringliteral">&quot;. VIDIOC_REQBUFS failure (%d): %s.\n&quot;</span>,
                <a class="code" href="classV4L2CameraDescriptor.html#a25b83c6c61944830b63d5fa06c0e9533" title="name of the camera device (a UNIX path)">camFileName</a>.c_str(),
                <a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a>,
                errno,
                strerror(errno));
        <span class="keywordflow">return</span> -1;
    }

    <span class="comment">/* We want at least five buffers. */</span>
    <span class="keywordflow">if</span> (reqbuf.count &lt; loopQueueBufferNumberMin)
    {
        printf (<span class="stringliteral">&quot;Not enough buffer memory (requested %d got %d)in kernel for camera %s (handle 0x%X)\n&quot;</span>,
                loopQueueBufferNumberMin,
                reqbuf.count,
                <a class="code" href="classV4L2CameraDescriptor.html#a25b83c6c61944830b63d5fa06c0e9533" title="name of the camera device (a UNIX path)">camFileName</a>.c_str(),
                <a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a>
                );
        <span class="keywordflow">return</span> -1;
    }

    printf(<span class="stringliteral">&quot;Allocated %d kernel buffers for camera %s (handle 0x%X)\n&quot;</span>,
           reqbuf.count,
           <a class="code" href="classV4L2CameraDescriptor.html#a25b83c6c61944830b63d5fa06c0e9533" title="name of the camera device (a UNIX path)">camFileName</a>.c_str(),
           <a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a>);

    <a class="code" href="classV4L2CameraDescriptor.html#a90876e8791cd7e0114168d6a220e5ab2" title="Allocates given number of userside buffer structures.">allocBuffers</a>(reqbuf.count);

    <span class="comment">/*Map kernel buffers to user side ones */</span>
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="classV4L2CameraDescriptor.html#a75cd83960048108369a9d02044a9b432" title="number of buffers associated with current descriptor">count</a>; i++)
    {
        <span class="keyword">struct </span>v4l2_buffer buffer;
        memset (&amp;buffer, 0, <span class="keyword">sizeof</span> (buffer));
        buffer.type = reqbuf.type;
        buffer.memory = V4L2_MEMORY_MMAP;
        buffer.index = i;

        <span class="keywordflow">if</span> (ioctl (<a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a>, VIDIOC_QUERYBUF, &amp;buffer) == -1)
        {
            printf (<span class="stringliteral">&quot;VIDIOC_QUERYBUF request failed\n&quot;</span>);
            <span class="keywordflow">return</span> -1;
        }

        <a class="code" href="classV4L2CameraDescriptor.html#a7134b200241b87ce92f160adc6bc8eef">buffers</a>[i].<a class="code" href="classV4L2UsersideBuffer.html#acb6b6e7305554ed67a53fe7b44398c0b" title="Length of the buffer in bytes.">length</a> = buffer.length; <span class="comment">/* remember for munmap() */</span>

        <span class="keywordtype">void</span> *ptr = mmap (NULL, buffer.length,
                          PROT_READ | PROT_WRITE, <span class="comment">/* recommended */</span>
                          MAP_SHARED,             <span class="comment">/* recommended */</span>
                          <a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a>, buffer.m.offset);

        <span class="keywordflow">if</span> (ptr == MAP_FAILED)
        {
            printf (<span class="stringliteral">&quot;Memmap failed\n&quot;</span>);
            <span class="keywordflow">return</span> -1;
        }

        <a class="code" href="classV4L2CameraDescriptor.html#a7134b200241b87ce92f160adc6bc8eef">buffers</a>[i].<a class="code" href="classV4L2UsersideBuffer.html#ae8d528f4020c92234407a977900535a2" title="Start address of the buffer.">start</a> = ptr;
    }

    <span class="comment">/* Queue the buffers. */</span>
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="classV4L2CameraDescriptor.html#a75cd83960048108369a9d02044a9b432" title="number of buffers associated with current descriptor">count</a>; i++) {
        <span class="keyword">struct </span>v4l2_buffer buffer;
        memset (&amp;buffer, 0, <span class="keyword">sizeof</span> (<span class="keyword">struct</span> v4l2_buffer));
        buffer.index = i;
        buffer.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
        buffer.memory = V4L2_MEMORY_MMAP;
        <span class="keywordflow">if</span> (ioctl (<a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a>, VIDIOC_QBUF, &amp;buffer) == -1)
        {
            printf (<span class="stringliteral">&quot;Unable to queue buffer (%d).\n&quot;</span>, errno);
            <span class="keywordflow">return</span> -1;
        }
    }

    <a class="code" href="classV4L2CameraDescriptor.html#a5bcb155f7296b1b3a8b8d2483b2af2b8">queued</a> = <a class="code" href="classV4L2CameraDescriptor.html#a75cd83960048108369a9d02044a9b432" title="number of buffers associated with current descriptor">count</a>;
    <a class="code" href="classV4L2CameraDescriptor.html#a5a61b50d3d1a6cc159abe41c0a6ce794">state</a> = <a class="code" href="classV4L2CameraDescriptor.html#afd0ae4d89402c36a41084c447dcc925ca4bb65e4ef09638031e8e309dc7529691">STOPPED</a>;

    <span class="comment">/* TODO: release resources on failure */</span>

    <span class="keywordflow">return</span> 0;

}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classV4L2CameraDescriptor_ad9cd9b4b23f9091ff7d1cadaa6803065_cgraph.svg" width="555" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a402951f105cac76e8f7ffce752d51eb2"></a><!-- doxytag: member="V4L2CameraDescriptor::initCamera" ref="a402951f105cac76e8f7ffce752d51eb2" args="(string deviceName, int h, int w, int fpsnum, int fpsdenum, bool compressed)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classV4L2CameraDescriptor.html#a402951f105cac76e8f7ffce752d51eb2">V4L2CameraDescriptor::initCamera</a> </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>deviceName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fpsnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fpsdenum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>compressed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8cpp_source.html#l00038">38</a> of file <a class="el" href="V4L2_8cpp_source.html">V4L2.cpp</a>.</p>

<p>References <a class="el" href="V4L2_8h_source.html#l00090">camFileName</a>, <a class="el" href="V4L2_8h_source.html#l00091">deviceHandle</a>, <a class="el" href="V4L2_8h_source.html#l00093">formatH</a>, <a class="el" href="V4L2_8h_source.html#l00094">formatW</a>, <a class="el" href="V4L2_8h_source.html#l00078">INVALID_HANDLE</a>, and <a class="el" href="global_8h_source.html#l00137">SYNC_PRINT</a>.</p>

<p>Referenced by <a class="el" href="V4L2Capture_8cpp_source.html#l00540">V4L2CaptureInterface::getAllCameras()</a>, <a class="el" href="V4L2_8cpp_source.html#l00033">initCamera()</a>, <a class="el" href="V4L2CaptureDecouple_8cpp_source.html#l00135">V4L2CaptureDecoupleInterface::initCapture()</a>, and <a class="el" href="V4L2Capture_8cpp_source.html#l00443">V4L2CaptureInterface::initCapture()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classV4L2CameraDescriptor.html#a25b83c6c61944830b63d5fa06c0e9533" title="name of the camera device (a UNIX path)">camFileName</a> = std::string(deviceName);

    <a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a> = open( deviceName.c_str(), O_RDWR );
    <span class="keywordflow">if</span> (<a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a> == -1)
    {
        <a class="code" href="global_8h.html#a49199ac38fc95393d7b14a6f0524e46d">SYNC_PRINT</a>((<span class="stringliteral">&quot;Video open error for device %s\n&quot;</span>, deviceName.c_str()));
        <a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a> = <a class="code" href="classV4L2CameraDescriptor.html#a91542b63ed5234d85d17b7d7d5e70b7a">INVALID_HANDLE</a>;
        <span class="keywordflow">return</span> 1;
    }

    <span class="comment">/* Setting input format */</span>
    <span class="keyword">struct </span>v4l2_format format;
    memset (&amp;format, 0, <span class="keyword">sizeof</span> (<span class="keyword">struct</span> v4l2_format));
    format.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
    format.fmt.pix.width  = w;
    format.fmt.pix.height = h;
    format.fmt.pix.pixelformat = compressed ? V4L2_PIX_FMT_MJPEG: V4L2_PIX_FMT_YUYV;
    format.fmt.pix.field = V4L2_FIELD_ANY;

    <span class="keywordflow">if</span> (ioctl (<a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a>, VIDIOC_S_FMT, &amp;format) == -1) {
        <a class="code" href="global_8h.html#a49199ac38fc95393d7b14a6f0524e46d">SYNC_PRINT</a>((<span class="stringliteral">&quot;Unable to set %d format for camera %s. Error: %s\n&quot;</span>, V4L2_BUF_TYPE_VIDEO_CAPTURE, deviceName.c_str(), strerror(errno)));
        <span class="keywordflow">return</span> 2;
    }

    <a class="code" href="classV4L2CameraDescriptor.html#a8be956ed7006ca882198fef26ea2b5b2">formatH</a> = format.fmt.pix.height;
    <a class="code" href="classV4L2CameraDescriptor.html#ad2bade8e8eaf14ff67b4b83f905633e4">formatW</a> = format.fmt.pix.width;
    printf(<span class="stringliteral">&quot;Set dimensions [%d x %d] for camera %s\n&quot;</span>, format.fmt.pix.width, format.fmt.pix.height, deviceName.c_str());

    <span class="comment">/* Setting up FPS */</span>
    <span class="keyword">struct </span>v4l2_streamparm streamparm;
    memset (&amp;streamparm, 0, <span class="keyword">sizeof</span> (streamparm ));

    streamparm.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
    streamparm.parm.capture.timeperframe.numerator = fpsnum;
    streamparm.parm.capture.timeperframe.denominator = fpsdenum;

    <span class="keywordflow">if</span>(ioctl( <a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a>, VIDIOC_S_PARM, &amp;streamparm) == -1)
    {
        <a class="code" href="global_8h.html#a49199ac38fc95393d7b14a6f0524e46d">SYNC_PRINT</a>((<span class="stringliteral">&quot;Unable to set FPS for camera %s \n&quot;</span>, deviceName.c_str()));
        <span class="keywordflow">return</span> 3;
    }

    <span class="comment">/*</span>
<span class="comment">    v4l2_control req;</span>
<span class="comment">    req.id = V4L2_CID_EXPOSURE_AUTO;</span>
<span class="comment">    req.value = V4L2_EXPOSURE_APERTURE_PRIORITY;</span>
<span class="comment">    if (ioctl(deviceID, VIDIOC_S_CTRL, &amp;req))</span>
<span class="comment">        printf(&quot;VIDIOC_S_CTRL for V4L2_CID_EXPOSURE_AUTO failed. (%s) for %s\n&quot;, strerror(errno), deviceName.c_str());</span>
<span class="comment"></span>
<span class="comment">    req.id = V4L2_CID_AUTOGAIN;</span>
<span class="comment">    req.value = true;</span>
<span class="comment">    if (ioctl(deviceID, VIDIOC_S_CTRL, &amp;req))</span>
<span class="comment">        printf(&quot;VIDIOC_S_CTRL for V4L2_CID_AUTOGAIN failed. (%s) for %s\n&quot;, strerror(errno), deviceName.c_str());</span>
<span class="comment">    */</span>
    <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0f3aeaca8361be9e3b0046770a412fc8"></a><!-- doxytag: member="V4L2CameraDescriptor::initCamera" ref="a0f3aeaca8361be9e3b0046770a412fc8" args="(string deviceName, const V4L2CameraMode &amp;mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classV4L2CameraDescriptor.html#a402951f105cac76e8f7ffce752d51eb2">V4L2CameraDescriptor::initCamera</a> </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>deviceName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classV4L2CameraMode.html">V4L2CameraMode</a> &amp;&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8cpp_source.html#l00033">33</a> of file <a class="el" href="V4L2_8cpp_source.html">V4L2.cpp</a>.</p>

<p>References <a class="el" href="V4L2_8h_source.html#l00066">V4L2CameraMode::compressed</a>, <a class="el" href="V4L2_8h_source.html#l00065">V4L2CameraMode::fpsdenum</a>, <a class="el" href="V4L2_8h_source.html#l00064">V4L2CameraMode::fpsnum</a>, <a class="el" href="V4L2_8h_source.html#l00062">V4L2CameraMode::height</a>, <a class="el" href="V4L2_8cpp_source.html#l00038">initCamera()</a>, and <a class="el" href="V4L2_8h_source.html#l00063">V4L2CameraMode::width</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="classV4L2CameraDescriptor.html#a402951f105cac76e8f7ffce752d51eb2">initCamera</a>(deviceName, mode.<a class="code" href="classV4L2CameraMode.html#ae64cd44480022759b079f3a25464d397">height</a>, mode.<a class="code" href="classV4L2CameraMode.html#afdb3b3e0c99a227f67622033bc6fb3b5">width</a>, mode.<a class="code" href="classV4L2CameraMode.html#af201572028203d24c9ea53fafb468abf">fpsnum</a>, mode.<a class="code" href="classV4L2CameraMode.html#a5638f4e7d14b84303789b56cce386bbc">fpsdenum</a>, mode.<a class="code" href="classV4L2CameraMode.html#a1c7315921e4db8287565b469d30f0761">compressed</a>);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classV4L2CameraDescriptor_a0f3aeaca8361be9e3b0046770a412fc8_cgraph.svg" width="560" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2c8767874321c1ee3d3a99b9f8d32083"></a><!-- doxytag: member="V4L2CameraDescriptor::queryCameraParameters" ref="a2c8767874321c1ee3d3a99b9f8d32083" args="(CameraParameters &amp;params)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classV4L2CameraDescriptor.html#a2c8767874321c1ee3d3a99b9f8d32083">V4L2CameraDescriptor::queryCameraParameters</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCameraParameters.html">CameraParameters</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8cpp_source.html#l00517">517</a> of file <a class="el" href="V4L2_8cpp_source.html">V4L2.cpp</a>.</p>

<p>References <a class="el" href="cameraControlParameters_8h_source.html#l00138">CameraParameters::mCameraControls</a>, <a class="el" href="V4L2_8h_source.html#l00159">paramIdMap</a>, <a class="el" href="V4L2_8h_source.html#l00160">paramIdMapSize</a>, <a class="el" href="V4L2_8cpp_source.html#l00354">queryParmeter()</a>, <a class="el" href="V4L2_8cpp_source.html#l00417">setFromQueryCtrl()</a>, and <a class="el" href="V4L2_8h_source.html#l00155">V4L2CameraDescriptor::ParamIdMapStruct::viParamId</a>.</p>

<p>Referenced by <a class="el" href="V4L2CaptureDecouple_8cpp_source.html#l00225">V4L2CaptureDecoupleInterface::queryCameraParameters()</a>, and <a class="el" href="V4L2Capture_8cpp_source.html#l00421">V4L2CaptureInterface::queryCameraParameters()</a>.</p>
<div class="fragment"><pre class="fragment">{
    v4l2_queryctrl ctrl;

    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classV4L2CameraDescriptor.html#a25aa7d95eb6d042ed77c264645e4780f">paramIdMapSize</a>; i++)
    {
        <span class="keywordtype">int</span> result = <a class="code" href="classV4L2CameraDescriptor.html#a95a5924cd4ae6df49a9f3306c6f5d618">queryParmeter</a>(<a class="code" href="classV4L2CameraDescriptor.html#a87a839e443d93132819ba1a0f9052b8c">paramIdMap</a>[i].v4l2PropID, ctrl);
        <span class="keywordflow">if</span> (result == 0) {
            <a class="code" href="classV4L2CameraDescriptor.html#ab2f3d8d0e3fb4e77c1b90223eb8874d8">setFromQueryCtrl</a>(params.<a class="code" href="classCameraParameters.html#a052a103f132565b071ad2a2acc3d2261">mCameraControls</a>[<a class="code" href="classV4L2CameraDescriptor.html#a87a839e443d93132819ba1a0f9052b8c">paramIdMap</a>[i].<a class="code" href="structV4L2CameraDescriptor_1_1ParamIdMapStruct.html#a35c815f7b455439a3980ef1c38d2b752">viParamId</a>], ctrl);
        } <span class="keywordflow">else</span> {
            <span class="comment">/*SYNC_PRINT((&quot;\tThe parameter %d (%s) is either non-existent or not supported.\n&quot;,</span>
<span class="comment">                    paramIdMap[i].v4l2PropID,</span>
<span class="comment">                    CameraParameters::getName(paramIdMap[i].viParamId)));*/</span>
        }
    }
    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classV4L2CameraDescriptor_a2c8767874321c1ee3d3a99b9f8d32083_cgraph.svg" width="100%" height="270"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a95a5924cd4ae6df49a9f3306c6f5d618"></a><!-- doxytag: member="V4L2CameraDescriptor::queryParmeter" ref="a95a5924cd4ae6df49a9f3306c6f5d618" args="(const uint32_t propID, v4l2_queryctrl &amp;request) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classV4L2CameraDescriptor.html#a95a5924cd4ae6df49a9f3306c6f5d618">V4L2CameraDescriptor::queryParmeter</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="stdint__win_8h.html#a6eb1e68cc391dd753bc8ce896dbb8315">uint32_t</a>&#160;</td>
          <td class="paramname"><em>propID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">v4l2_queryctrl &amp;&#160;</td>
          <td class="paramname"><em>request</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8cpp_source.html#l00354">354</a> of file <a class="el" href="V4L2_8cpp_source.html">V4L2.cpp</a>.</p>

<p>References <a class="el" href="V4L2_8h_source.html#l00091">deviceHandle</a>, <a class="el" href="global_8h_source.html#l00147">DOTRACE</a>, and <a class="el" href="V4L2_8h_source.html#l00078">INVALID_HANDLE</a>.</p>

<p>Referenced by <a class="el" href="V4L2_8cpp_source.html#l00517">queryCameraParameters()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a> == <a class="code" href="classV4L2CameraDescriptor.html#a91542b63ed5234d85d17b7d7d5e70b7a">INVALID_HANDLE</a>) {
        <span class="keywordflow">return</span> -1;
    }

    <span class="comment">//printf(&quot;Querying the attributes of %s parameter\n&quot;, text);</span>
    memset(&amp;request, 0, <span class="keyword">sizeof</span> (v4l2_queryctrl));
    request.id = propID;

    <span class="keywordflow">if</span> (ioctl(<a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a>, VIDIOC_QUERYCTRL, &amp;request))
    {
        <span class="keywordflow">if</span> (EINVAL == errno) {
            <a class="code" href="global_8h.html#a8fc171473e59dec1134d86647268481f" title="TODO: Add flush.">DOTRACE</a>((<span class="stringliteral">&quot;\tThe parameter %d is either non-existent or not supported.\n&quot;</span>, propID));
        } <span class="keywordflow">else</span> {
            printf(<span class="stringliteral">&quot;VIDIOC_QUERYCTRL request failed. (%s)\n&quot;</span>, strerror(errno));
        }
        <span class="keywordflow">return</span> -1;
    }
    <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0853af1071412a4fc02c07be228cdfc2"></a><!-- doxytag: member="V4L2CameraDescriptor::setCaptureProperty" ref="a0853af1071412a4fc02c07be228cdfc2" args="(int id, int value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classV4L2CameraDescriptor.html#a0853af1071412a4fc02c07be228cdfc2">V4L2CameraDescriptor::setCaptureProperty</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8cpp_source.html#l00535">535</a> of file <a class="el" href="V4L2_8cpp_source.html">V4L2.cpp</a>.</p>

<p>References <a class="el" href="V4L2_8h_source.html#l00091">deviceHandle</a>, <a class="el" href="cameraControlParameters_8h_source.html#l00129">CameraParameters::getName()</a>, <a class="el" href="V4L2_8cpp_source.html#l00495">getPropIdByVi()</a>, <a class="el" href="V4L2_8cpp_source.html#l00377">setParmeter()</a>, and <a class="el" href="global_8h_source.html#l00137">SYNC_PRINT</a>.</p>

<p>Referenced by <a class="el" href="V4L2CaptureDecouple_8cpp_source.html#l00213">V4L2CaptureDecoupleInterface::setCaptureProperty()</a>, and <a class="el" href="V4L2Capture_8cpp_source.html#l00428">V4L2CaptureInterface::setCaptureProperty()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="stdint__win_8h.html#a6eb1e68cc391dd753bc8ce896dbb8315">uint32_t</a> v4l2Id = <a class="code" href="classV4L2CameraDescriptor.html#abf402ec40da2d3b8a0f8ae69484ed3cc">getPropIdByVi</a>((<a class="code" href="classCameraParameters.html#a9ee6c1f422933e699029969f77bc9512">CameraParameters::CameraControls</a>)<span class="keywordtype">id</span>);
    <span class="keywordflow">if</span> (<a class="code" href="classV4L2CameraDescriptor.html#a62bed785f16f6f6ba90c88518efb92d4">setParmeter</a>(v4l2Id, value) != 0)
    {
        <a class="code" href="global_8h.html#a49199ac38fc95393d7b14a6f0524e46d">SYNC_PRINT</a>((<span class="stringliteral">&quot;V4L2CameraDescriptor::setCaptureProperty(): Failed to set %s for device (%d)\n&quot;</span>,
            <a class="code" href="classCameraParameters.html#ac27738c0c6c5eec5bbaac69489b578fc">CameraParameters::getName</a>((<a class="code" href="classCameraParameters.html#a9ee6c1f422933e699029969f77bc9512">CameraParameters::CameraControls</a>)<span class="keywordtype">id</span>),
            <a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a>
            ));
    }
    <span class="keywordflow">return</span> 0;
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classV4L2CameraDescriptor_a0853af1071412a4fc02c07be228cdfc2_cgraph.svg" width="632" height="147"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab2f3d8d0e3fb4e77c1b90223eb8874d8"></a><!-- doxytag: member="V4L2CameraDescriptor::setFromQueryCtrl" ref="ab2f3d8d0e3fb4e77c1b90223eb8874d8" args="(CaptureParameter &amp;param, v4l2_queryctrl &amp;ctrl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classV4L2CameraDescriptor.html#ab2f3d8d0e3fb4e77c1b90223eb8874d8">V4L2CameraDescriptor::setFromQueryCtrl</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCaptureParameter.html">CaptureParameter</a> &amp;&#160;</td>
          <td class="paramname"><em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">v4l2_queryctrl &amp;&#160;</td>
          <td class="paramname"><em>ctrl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8cpp_source.html#l00417">417</a> of file <a class="el" href="V4L2_8cpp_source.html">V4L2.cpp</a>.</p>

<p>References <a class="el" href="V4L2_8h_source.html#l00091">deviceHandle</a>, <a class="el" href="cameraControlParameters_8h_source.html#l00066">CaptureParameter::pushMenuItem()</a>, <a class="el" href="cameraControlParameters_8h_source.html#l00052">CaptureParameter::setActive()</a>, <a class="el" href="cameraControlParameters_8h_source.html#l00042">CaptureParameter::setDefaultValue()</a>, <a class="el" href="cameraControlParameters_8h_source.html#l00055">CaptureParameter::setIsMenu()</a>, <a class="el" href="cameraControlParameters_8h_source.html#l00039">CaptureParameter::setMaximum()</a>, and <a class="el" href="cameraControlParameters_8h_source.html#l00046">CaptureParameter::setMinimum()</a>.</p>

<p>Referenced by <a class="el" href="V4L2_8cpp_source.html#l00517">queryCameraParameters()</a>.</p>
<div class="fragment"><pre class="fragment">{
    param = <a class="code" href="classCaptureParameter.html">CaptureParameter</a>();
    param.<a class="code" href="classCaptureParameter.html#ab969e3abfe3a2f60fc33b545b7ab7790">setMinimum</a>(ctrl.minimum);
    param.<a class="code" href="classCaptureParameter.html#a2e1fea1aaad74ddd12a634970ff3044b">setMaximum</a>(ctrl.maximum);
    param.<a class="code" href="classCaptureParameter.html#a2baf31448c9e2254580a5f116e68a740">setDefaultValue</a>(ctrl.default_value);
    <span class="keywordflow">if</span> (ctrl.type == V4L2_CTRL_TYPE_MENU)
    {
        param.<a class="code" href="classCaptureParameter.html#a300c0e6f671b529352b2c5b942e6e296">setIsMenu</a>(<span class="keyword">true</span>);

        <span class="keywordflow">if</span> (ctrl.id != V4L2_CID_EXPOSURE_AUTO)
        {
            <span class="comment">/* Query menu items */</span>
            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> index = ctrl.minimum; index &lt;= ctrl.maximum; index++ )
            {
                <span class="keyword">struct </span>v4l2_querymenu menuRequest;
                memset(&amp;menuRequest, 0, <span class="keyword">sizeof</span>(menuRequest));
                menuRequest.id = ctrl.id;
                menuRequest.index = index;

                <span class="keywordtype">int</span> result = ioctl( <a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a>, VIDIOC_QUERYMENU, &amp;menuRequest);
                <span class="keywordflow">if</span> ( result != 0 )
                {
                    printf( <span class="stringliteral">&quot;VIDIOC_QUERYMENU for %d with index %d failed. (%s)\n&quot;</span>, ctrl.id, index, strerror(errno) );
                    <span class="keywordflow">return</span>;
                } <span class="keywordflow">else</span> {
                 <span class="comment">//   printf( &quot;       MenuItem: %s\n&quot;, menuRequest.name);</span>
                    param.<a class="code" href="classCaptureParameter.html#a0c5b9531fa9d123cd7a78442d4cd8461">pushMenuItem</a>(QString(<span class="stringliteral">&quot;%1&quot;</span>).arg((<span class="keyword">const</span> <span class="keywordtype">char</span> *)menuRequest.name), index);
                }
            }
        } <span class="keywordflow">else</span> {
            printf( <span class="stringliteral">&quot;   Menu V4L2_EXPOSURE\n&quot;</span>);
            param.<a class="code" href="classCaptureParameter.html#a0c5b9531fa9d123cd7a78442d4cd8461">pushMenuItem</a>(QString(<span class="stringliteral">&quot;Manual Exposture&quot;</span>),             V4L2_EXPOSURE_MANUAL);
            param.<a class="code" href="classCaptureParameter.html#a0c5b9531fa9d123cd7a78442d4cd8461">pushMenuItem</a>(QString(<span class="stringliteral">&quot;Auto Exposture&quot;</span>),               V4L2_EXPOSURE_AUTO);
            param.<a class="code" href="classCaptureParameter.html#a0c5b9531fa9d123cd7a78442d4cd8461">pushMenuItem</a>(QString(<span class="stringliteral">&quot;Shutter Priotiry Exposture&quot;</span>),   V4L2_EXPOSURE_SHUTTER_PRIORITY);
            param.<a class="code" href="classCaptureParameter.html#a0c5b9531fa9d123cd7a78442d4cd8461">pushMenuItem</a>(QString(<span class="stringliteral">&quot;Apperture Priority Exposture&quot;</span>), V4L2_EXPOSURE_APERTURE_PRIORITY);

        }
    }

    <span class="keywordflow">if</span> (ctrl.type == V4L2_CTRL_TYPE_BOOLEAN)
    {
        param.<a class="code" href="classCaptureParameter.html#a300c0e6f671b529352b2c5b942e6e296">setIsMenu</a>(<span class="keyword">true</span>);
        param.<a class="code" href="classCaptureParameter.html#a0c5b9531fa9d123cd7a78442d4cd8461">pushMenuItem</a>(QString(<span class="stringliteral">&quot;False&quot;</span>), 0);
        param.<a class="code" href="classCaptureParameter.html#a0c5b9531fa9d123cd7a78442d4cd8461">pushMenuItem</a>(QString(<span class="stringliteral">&quot;True&quot;</span>) , 1);
    }

    <span class="keywordflow">if</span> (!(ctrl.flags &amp; (V4L2_CTRL_FLAG_DISABLED | V4L2_CTRL_FLAG_GRABBED | V4L2_CTRL_FLAG_READ_ONLY | V4L2_CTRL_FLAG_INACTIVE)))
    {
        param.<a class="code" href="classCaptureParameter.html#adadfa7fa5b4a82d750f7d2c4e93a6101">setActive</a>(<span class="keyword">true</span>);
    }
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classV4L2CameraDescriptor_ab2f3d8d0e3fb4e77c1b90223eb8874d8_cgraph.svg" width="100%" height="270"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a62bed785f16f6f6ba90c88518efb92d4"></a><!-- doxytag: member="V4L2CameraDescriptor::setParmeter" ref="a62bed785f16f6f6ba90c88518efb92d4" args="(const uint32_t propID, int value) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classV4L2CameraDescriptor.html#a62bed785f16f6f6ba90c88518efb92d4">V4L2CameraDescriptor::setParmeter</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="stdint__win_8h.html#a6eb1e68cc391dd753bc8ce896dbb8315">uint32_t</a>&#160;</td>
          <td class="paramname"><em>propID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8cpp_source.html#l00377">377</a> of file <a class="el" href="V4L2_8cpp_source.html">V4L2.cpp</a>.</p>

<p>References <a class="el" href="V4L2_8h_source.html#l00091">deviceHandle</a>, and <a class="el" href="V4L2_8h_source.html#l00078">INVALID_HANDLE</a>.</p>

<p>Referenced by <a class="el" href="V4L2_8cpp_source.html#l00535">setCaptureProperty()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a> == <a class="code" href="classV4L2CameraDescriptor.html#a91542b63ed5234d85d17b7d7d5e70b7a">INVALID_HANDLE</a>) {
        <span class="keywordflow">return</span> -1;
    }

    v4l2_control request;

    request.id = propID;
    request.value = value;
    <span class="keywordtype">int</span> result = ioctl( <a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a>, VIDIOC_S_CTRL, &amp;request);
    <span class="keywordflow">if</span> ( result != 0 )
    {
        printf( <span class="stringliteral">&quot;V4L2CameraDescriptor::setParmeter(): VIDIOC_S_CTRL for %d with value %d failed. (%s)\n&quot;</span>, propID, value, strerror(errno) );
        <span class="keywordflow">return</span> -1;
    }
    <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad7d501818080df3d4a8427c7d408795f"></a><!-- doxytag: member="V4L2CameraDescriptor::start" ref="ad7d501818080df3d4a8427c7d408795f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classV4L2CameraDescriptor.html#ad7d501818080df3d4a8427c7d408795f">V4L2CameraDescriptor::start</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8cpp_source.html#l00244">244</a> of file <a class="el" href="V4L2_8cpp_source.html">V4L2.cpp</a>.</p>

<p>References <a class="el" href="V4L2_8h_source.html#l00090">camFileName</a>, <a class="el" href="V4L2_8h_source.html#l00091">deviceHandle</a>, <a class="el" href="V4L2_8h_source.html#l00083">STARTED</a>, <a class="el" href="V4L2_8h_source.html#l00089">state</a>, <a class="el" href="V4L2_8h_source.html#l00087">STATE_NAMES</a>, <a class="el" href="V4L2_8h_source.html#l00082">STOPPED</a>, and <a class="el" href="global_8h_source.html#l00137">SYNC_PRINT</a>.</p>

<p>Referenced by <a class="el" href="V4L2CaptureDecouple_8cpp_source.html#l00151">V4L2CaptureDecoupleInterface::startCapture()</a>, and <a class="el" href="V4L2Capture_8cpp_source.html#l00490">V4L2CaptureInterface::startCapture()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="classV4L2CameraDescriptor.html#a5a61b50d3d1a6cc159abe41c0a6ce794">state</a> != <a class="code" href="classV4L2CameraDescriptor.html#afd0ae4d89402c36a41084c447dcc925ca4bb65e4ef09638031e8e309dc7529691">STOPPED</a>) {
        <a class="code" href="global_8h.html#a49199ac38fc95393d7b14a6f0524e46d">SYNC_PRINT</a>((<span class="stringliteral">&quot;V4L2CameraDescriptor::Trying to start camera in state &lt;%s&gt;\n&quot;</span>, <a class="code" href="classV4L2CameraDescriptor.html#afbd4578c393ea4e3505d0f68e9e95014">STATE_NAMES</a>[<a class="code" href="classV4L2CameraDescriptor.html#a5a61b50d3d1a6cc159abe41c0a6ce794">state</a>]));
        <span class="keywordflow">return</span> -1;
    }

    <a class="code" href="stdint__win_8h.html#a6eb1e68cc391dd753bc8ce896dbb8315">uint32_t</a> type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
    <span class="comment">//printf ( &quot;Device 0x%X is about to start video capture.\n&quot;, cam-&gt;deviceHandle);</span>
    <span class="keywordflow">if</span> (ioctl (<a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a>, VIDIOC_STREAMON, &amp;type) == -1) {
        printf ( <span class="stringliteral">&quot;Unable to start capture: %d on camera %s (handle 0x%X):%s\n&quot;</span>,
                errno,
                <a class="code" href="classV4L2CameraDescriptor.html#a25b83c6c61944830b63d5fa06c0e9533" title="name of the camera device (a UNIX path)">camFileName</a>.c_str(),
                <a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a>,
                strerror(errno));
        <span class="keywordflow">return</span> -1;
    }

    <a class="code" href="classV4L2CameraDescriptor.html#a5a61b50d3d1a6cc159abe41c0a6ce794">state</a> = <a class="code" href="classV4L2CameraDescriptor.html#afd0ae4d89402c36a41084c447dcc925ca7891b08b042a9fdc60353a8be0a12662">STARTED</a>;

    <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a679d072b7a4a9a5391a8d28ac15eb9e0"></a><!-- doxytag: member="V4L2CameraDescriptor::stop" ref="a679d072b7a4a9a5391a8d28ac15eb9e0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classV4L2CameraDescriptor.html#a679d072b7a4a9a5391a8d28ac15eb9e0">V4L2CameraDescriptor::stop</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8cpp_source.html#l00267">267</a> of file <a class="el" href="V4L2_8cpp_source.html">V4L2.cpp</a>.</p>

<p>References <a class="el" href="V4L2_8h_source.html#l00090">camFileName</a>, <a class="el" href="V4L2_8h_source.html#l00091">deviceHandle</a>, <a class="el" href="V4L2_8h_source.html#l00078">INVALID_HANDLE</a>, <a class="el" href="V4L2_8h_source.html#l00083">STARTED</a>, <a class="el" href="V4L2_8h_source.html#l00089">state</a>, <a class="el" href="V4L2_8h_source.html#l00087">STATE_NAMES</a>, <a class="el" href="V4L2_8h_source.html#l00082">STOPPED</a>, and <a class="el" href="global_8h_source.html#l00137">SYNC_PRINT</a>.</p>

<p>Referenced by <a class="el" href="V4L2_8cpp_source.html#l00234">~V4L2CameraDescriptor()</a>, <a class="el" href="V4L2CaptureDecouple_8cpp_source.html#l00236">V4L2CaptureDecoupleInterface::~V4L2CaptureDecoupleInterface()</a>, and <a class="el" href="V4L2Capture_8cpp_source.html#l00586">V4L2CaptureInterface::~V4L2CaptureInterface()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a> == <a class="code" href="classV4L2CameraDescriptor.html#a91542b63ed5234d85d17b7d7d5e70b7a">INVALID_HANDLE</a>) {
        <span class="keywordflow">return</span> 0;
    }

    <span class="keywordflow">if</span> (<a class="code" href="classV4L2CameraDescriptor.html#a5a61b50d3d1a6cc159abe41c0a6ce794">state</a> != <a class="code" href="classV4L2CameraDescriptor.html#afd0ae4d89402c36a41084c447dcc925ca7891b08b042a9fdc60353a8be0a12662">STARTED</a>) {
        <a class="code" href="global_8h.html#a49199ac38fc95393d7b14a6f0524e46d">SYNC_PRINT</a>((<span class="stringliteral">&quot;V4L2CameraDescriptor::Trying to stop camera that is in state &lt;%s&gt;\n&quot;</span>, <a class="code" href="classV4L2CameraDescriptor.html#afbd4578c393ea4e3505d0f68e9e95014">STATE_NAMES</a>[<a class="code" href="classV4L2CameraDescriptor.html#a5a61b50d3d1a6cc159abe41c0a6ce794">state</a>]));
        <span class="keywordflow">return</span> -1;
    }

    <a class="code" href="stdint__win_8h.html#a6eb1e68cc391dd753bc8ce896dbb8315">uint32_t</a> type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
    <span class="comment">//printf ( &quot;Device 0x%X is about to stop video capture.\n&quot;, cam-&gt;deviceHandle);</span>
    <span class="keywordflow">if</span> (ioctl (<a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a>, VIDIOC_STREAMOFF, &amp;type) == -1) {
        printf ( <span class="stringliteral">&quot;Unable to stop capture: %d on camera %s (handle 0x%X).\n&quot;</span>,
                 errno,
                 <a class="code" href="classV4L2CameraDescriptor.html#a25b83c6c61944830b63d5fa06c0e9533" title="name of the camera device (a UNIX path)">camFileName</a>.c_str(),
                 <a class="code" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">deviceHandle</a>);
        <span class="keywordflow">return</span> -1;
    }

    <a class="code" href="classV4L2CameraDescriptor.html#a5a61b50d3d1a6cc159abe41c0a6ce794">state</a> = <a class="code" href="classV4L2CameraDescriptor.html#afd0ae4d89402c36a41084c447dcc925ca4bb65e4ef09638031e8e309dc7529691">STOPPED</a>;

    <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a7134b200241b87ce92f160adc6bc8eef"></a><!-- doxytag: member="V4L2CameraDescriptor::buffers" ref="a7134b200241b87ce92f160adc6bc8eef" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classV4L2UsersideBuffer.html">V4L2UsersideBuffer</a>* <a class="el" href="classV4L2CameraDescriptor.html#a7134b200241b87ce92f160adc6bc8eef">V4L2CameraDescriptor::buffers</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8h_source.html#l00096">96</a> of file <a class="el" href="V4L2_8h_source.html">V4L2.h</a>.</p>

<p>Referenced by <a class="el" href="V4L2_8h_source.html#l00114">allocBuffers()</a>, <a class="el" href="V4L2Capture_8cpp_source.html#l00334">V4L2CaptureInterface::decodeData()</a>, <a class="el" href="V4L2Capture_8cpp_source.html#l00370">V4L2CaptureInterface::decodeDataRGB24()</a>, <a class="el" href="V4L2_8cpp_source.html#l00212">deinitBuffers()</a>, <a class="el" href="V4L2CaptureDecouple_8cpp_source.html#l00098">V4L2CaptureDecoupleInterface::getFrame()</a>, <a class="el" href="V4L2_8cpp_source.html#l00118">initBuffers()</a>, and <a class="el" href="V4L2_8cpp_source.html#l00234">~V4L2CameraDescriptor()</a>.</p>

</div>
</div>
<a class="anchor" id="a25b83c6c61944830b63d5fa06c0e9533"></a><!-- doxytag: member="V4L2CameraDescriptor::camFileName" ref="a25b83c6c61944830b63d5fa06c0e9533" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string <a class="el" href="classV4L2CameraDescriptor.html#a25b83c6c61944830b63d5fa06c0e9533">V4L2CameraDescriptor::camFileName</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>name of the camera device (a UNIX path) </p>

<p>Definition at line <a class="el" href="V4L2_8h_source.html#l00090">90</a> of file <a class="el" href="V4L2_8h_source.html">V4L2.h</a>.</p>

<p>Referenced by <a class="el" href="V4L2_8cpp_source.html#l00212">deinitBuffers()</a>, <a class="el" href="V4L2_8cpp_source.html#l00103">deinitCamera()</a>, <a class="el" href="V4L2_8cpp_source.html#l00294">dequeue()</a>, <a class="el" href="V4L2_8cpp_source.html#l00118">initBuffers()</a>, <a class="el" href="V4L2_8cpp_source.html#l00038">initCamera()</a>, <a class="el" href="V4L2_8cpp_source.html#l00244">start()</a>, and <a class="el" href="V4L2_8cpp_source.html#l00267">stop()</a>.</p>

</div>
</div>
<a class="anchor" id="a75cd83960048108369a9d02044a9b432"></a><!-- doxytag: member="V4L2CameraDescriptor::count" ref="a75cd83960048108369a9d02044a9b432" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classV4L2CameraDescriptor.html#a75cd83960048108369a9d02044a9b432">V4L2CameraDescriptor::count</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of buffers associated with current descriptor </p>

<p>Definition at line <a class="el" href="V4L2_8h_source.html#l00097">97</a> of file <a class="el" href="V4L2_8h_source.html">V4L2.h</a>.</p>

<p>Referenced by <a class="el" href="V4L2_8h_source.html#l00114">allocBuffers()</a>, <a class="el" href="V4L2_8cpp_source.html#l00212">deinitBuffers()</a>, <a class="el" href="V4L2_8cpp_source.html#l00294">dequeue()</a>, and <a class="el" href="V4L2_8cpp_source.html#l00118">initBuffers()</a>.</p>

</div>
</div>
<a class="anchor" id="a14e5fe6ad7d3c2101befbd0bf212a5c7"></a><!-- doxytag: member="V4L2CameraDescriptor::deviceHandle" ref="a14e5fe6ad7d3c2101befbd0bf212a5c7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classV4L2CameraDescriptor.html#a14e5fe6ad7d3c2101befbd0bf212a5c7">V4L2CameraDescriptor::deviceHandle</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8h_source.html#l00091">91</a> of file <a class="el" href="V4L2_8h_source.html">V4L2.h</a>.</p>

<p>Referenced by <a class="el" href="V4L2_8cpp_source.html#l00103">deinitCamera()</a>, <a class="el" href="V4L2_8cpp_source.html#l00294">dequeue()</a>, <a class="el" href="V4L2_8cpp_source.html#l00329">enqueue()</a>, <a class="el" href="V4L2_8cpp_source.html#l00575">getCaptureFormats()</a>, <a class="el" href="V4L2_8cpp_source.html#l00562">getCaptureName()</a>, <a class="el" href="V4L2_8cpp_source.html#l00548">getCaptureProperty()</a>, <a class="el" href="V4L2_8cpp_source.html#l00396">getParmeter()</a>, <a class="el" href="V4L2_8cpp_source.html#l00118">initBuffers()</a>, <a class="el" href="V4L2_8cpp_source.html#l00038">initCamera()</a>, <a class="el" href="V4L2_8cpp_source.html#l00354">queryParmeter()</a>, <a class="el" href="V4L2Capture_8cpp_source.html#l00229">V4L2CaptureInterface::SpinThread::run()</a>, <a class="el" href="V4L2_8cpp_source.html#l00535">setCaptureProperty()</a>, <a class="el" href="V4L2_8cpp_source.html#l00417">setFromQueryCtrl()</a>, <a class="el" href="V4L2_8cpp_source.html#l00377">setParmeter()</a>, <a class="el" href="V4L2_8cpp_source.html#l00244">start()</a>, and <a class="el" href="V4L2_8cpp_source.html#l00267">stop()</a>.</p>

</div>
</div>
<a class="anchor" id="a8be956ed7006ca882198fef26ea2b5b2"></a><!-- doxytag: member="V4L2CameraDescriptor::formatH" ref="a8be956ed7006ca882198fef26ea2b5b2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classV4L2CameraDescriptor.html#a8be956ed7006ca882198fef26ea2b5b2">V4L2CameraDescriptor::formatH</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8h_source.html#l00093">93</a> of file <a class="el" href="V4L2_8h_source.html">V4L2.h</a>.</p>

<p>Referenced by <a class="el" href="V4L2_8cpp_source.html#l00038">initCamera()</a>, <a class="el" href="V4L2CaptureDecouple_8cpp_source.html#l00135">V4L2CaptureDecoupleInterface::initCapture()</a>, and <a class="el" href="V4L2Capture_8cpp_source.html#l00443">V4L2CaptureInterface::initCapture()</a>.</p>

</div>
</div>
<a class="anchor" id="ad2bade8e8eaf14ff67b4b83f905633e4"></a><!-- doxytag: member="V4L2CameraDescriptor::formatW" ref="ad2bade8e8eaf14ff67b4b83f905633e4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classV4L2CameraDescriptor.html#ad2bade8e8eaf14ff67b4b83f905633e4">V4L2CameraDescriptor::formatW</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8h_source.html#l00094">94</a> of file <a class="el" href="V4L2_8h_source.html">V4L2.h</a>.</p>

<p>Referenced by <a class="el" href="V4L2_8cpp_source.html#l00038">initCamera()</a>, <a class="el" href="V4L2CaptureDecouple_8cpp_source.html#l00135">V4L2CaptureDecoupleInterface::initCapture()</a>, and <a class="el" href="V4L2Capture_8cpp_source.html#l00443">V4L2CaptureInterface::initCapture()</a>.</p>

</div>
</div>
<a class="anchor" id="a91542b63ed5234d85d17b7d7d5e70b7a"></a><!-- doxytag: member="V4L2CameraDescriptor::INVALID_HANDLE" ref="a91542b63ed5234d85d17b7d7d5e70b7a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classV4L2CameraDescriptor.html#a91542b63ed5234d85d17b7d7d5e70b7a">V4L2CameraDescriptor::INVALID_HANDLE</a> = -1<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8h_source.html#l00078">78</a> of file <a class="el" href="V4L2_8h_source.html">V4L2.h</a>.</p>

<p>Referenced by <a class="el" href="V4L2_8cpp_source.html#l00103">deinitCamera()</a>, <a class="el" href="V4L2_8cpp_source.html#l00294">dequeue()</a>, <a class="el" href="V4L2_8cpp_source.html#l00329">enqueue()</a>, <a class="el" href="V4L2_8cpp_source.html#l00575">getCaptureFormats()</a>, <a class="el" href="V4L2_8cpp_source.html#l00562">getCaptureName()</a>, <a class="el" href="V4L2_8cpp_source.html#l00396">getParmeter()</a>, <a class="el" href="V4L2_8cpp_source.html#l00038">initCamera()</a>, <a class="el" href="V4L2_8cpp_source.html#l00354">queryParmeter()</a>, <a class="el" href="V4L2Capture_8cpp_source.html#l00229">V4L2CaptureInterface::SpinThread::run()</a>, <a class="el" href="V4L2_8cpp_source.html#l00377">setParmeter()</a>, and <a class="el" href="V4L2_8cpp_source.html#l00267">stop()</a>.</p>

</div>
</div>
<a class="anchor" id="a23fb4745c2fc078352765b03b86e55ab"></a><!-- doxytag: member="V4L2CameraDescriptor::LoopQueueBufferNumberDefault" ref="a23fb4745c2fc078352765b03b86e55ab" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned <a class="el" href="classV4L2CameraDescriptor.html#a23fb4745c2fc078352765b03b86e55ab">V4L2CameraDescriptor::LoopQueueBufferNumberDefault</a> = 8<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8h_source.html#l00075">75</a> of file <a class="el" href="V4L2_8h_source.html">V4L2.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6aebb37bffbd1743d6adcba4cdcb93e2"></a><!-- doxytag: member="V4L2CameraDescriptor::LoopQueueBufferNumberMinDefault" ref="a6aebb37bffbd1743d6adcba4cdcb93e2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned <a class="el" href="classV4L2CameraDescriptor.html#a6aebb37bffbd1743d6adcba4cdcb93e2">V4L2CameraDescriptor::LoopQueueBufferNumberMinDefault</a> = 5<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8h_source.html#l00076">76</a> of file <a class="el" href="V4L2_8h_source.html">V4L2.h</a>.</p>

</div>
</div>
<a class="anchor" id="a87a839e443d93132819ba1a0f9052b8c"></a><!-- doxytag: member="V4L2CameraDescriptor::paramIdMap" ref="a87a839e443d93132819ba1a0f9052b8c" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structV4L2CameraDescriptor_1_1ParamIdMapStruct.html">V4L2CameraDescriptor::ParamIdMapStruct</a> <a class="el" href="classV4L2CameraDescriptor.html#a87a839e443d93132819ba1a0f9052b8c">V4L2CameraDescriptor::paramIdMap</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
{
        {V4L2_CID_EXPOSURE_ABSOLUTE, <a class="code" href="classCameraParameters.html#a9ee6c1f422933e699029969f77bc9512a4e41f0357ad4d9ca278a3bc5cd496686">CameraParameters::EXPOSURE</a>},
        {V4L2_CID_EXPOSURE_AUTO    , <a class="code" href="classCameraParameters.html#a9ee6c1f422933e699029969f77bc9512a52718f2d216d26a07201b2a5a7c87f8b">CameraParameters::EXPOSURE_AUTO</a>},
        {V4L2_CID_EXPOSURE         , <a class="code" href="classCameraParameters.html#a9ee6c1f422933e699029969f77bc9512a3138558336425fcdc39613b2ed28115d">CameraParameters::EXPOSURE_REL</a>},
        {V4L2_CID_GAIN             , <a class="code" href="classCameraParameters.html#a9ee6c1f422933e699029969f77bc9512af405757b0fb8fcd55fa97174bb9a7a84">CameraParameters::GAIN</a>},
        {V4L2_CID_AUTOGAIN         , <a class="code" href="classCameraParameters.html#a9ee6c1f422933e699029969f77bc9512a64e45a08d14bea49b964a15950d1a872">CameraParameters::GAIN_AUTO</a>},
        {V4L2_CID_BRIGHTNESS       , <a class="code" href="classCameraParameters.html#a9ee6c1f422933e699029969f77bc9512a1c323f9a552b6763d7ff2e006487da18">CameraParameters::BRIGHTNESS</a>},
        {V4L2_CID_CONTRAST         , <a class="code" href="classCameraParameters.html#a9ee6c1f422933e699029969f77bc9512a2e804d0350dde0221c09fde9cba40a79">CameraParameters::CONTRAST</a>},
        {V4L2_CID_SATURATION       , <a class="code" href="classCameraParameters.html#a9ee6c1f422933e699029969f77bc9512a2938d889b2be587b29f311bdcfe0b105">CameraParameters::SATURATION</a>},
        {V4L2_CID_HUE              , <a class="code" href="classCameraParameters.html#a9ee6c1f422933e699029969f77bc9512a704e8af9ceddace0633bd709af8786b0">CameraParameters::HUE</a>},
        {V4L2_CID_SHARPNESS        , <a class="code" href="classCameraParameters.html#a9ee6c1f422933e699029969f77bc9512a56f7a1aeecdb80aeca80bdf4f1e63596">CameraParameters::SHARPNESS</a>},
        {V4L2_CID_GAMMA            , <a class="code" href="classCameraParameters.html#a9ee6c1f422933e699029969f77bc9512a6be8d7e78848a266a51e961e8a6bbb98">CameraParameters::GAMMA</a>},
        {V4L2_CID_POWER_LINE_FREQUENCY     , <a class="code" href="classCameraParameters.html#a9ee6c1f422933e699029969f77bc9512a824a66e891259238d399408ae32ff170">CameraParameters::POWER_LINE_FREQUENCY</a>},
        {V4L2_CID_BACKLIGHT_COMPENSATION   , <a class="code" href="classCameraParameters.html#a9ee6c1f422933e699029969f77bc9512a327ddddd0dc4b27c52f8cb1122ac8110">CameraParameters::BACKLIGHT_COMPENSATION</a>},
        {V4L2_CID_WHITE_BALANCE_TEMPERATURE, <a class="code" href="classCameraParameters.html#a9ee6c1f422933e699029969f77bc9512a102bd845afb5abeb0b606499d86d9644">CameraParameters::WHITE_BALANCE</a>},
        {V4L2_CID_AUTO_WHITE_BALANCE, <a class="code" href="classCameraParameters.html#a9ee6c1f422933e699029969f77bc9512a251c92786f14766d1f75187dc3ca066a">CameraParameters::AUTO_WHITE_BALANCE</a>},
        {V4L2_CID_HFLIP, <a class="code" href="classCameraParameters.html#a9ee6c1f422933e699029969f77bc9512a2fd178c52885cda921e7c03b5ab1a973">CameraParameters::HORIZONTAL_FLIP</a>},
        {V4L2_CID_VFLIP, <a class="code" href="classCameraParameters.html#a9ee6c1f422933e699029969f77bc9512adb49d70171b8a1b64c7b3dfdbf44ec79">CameraParameters::VERTICAL_FLIP</a>}
}
</pre></div>
<p>Definition at line <a class="el" href="V4L2_8h_source.html#l00159">159</a> of file <a class="el" href="V4L2_8h_source.html">V4L2.h</a>.</p>

<p>Referenced by <a class="el" href="V4L2_8cpp_source.html#l00495">getPropIdByVi()</a>, <a class="el" href="V4L2_8cpp_source.html#l00506">getViIdByProp()</a>, and <a class="el" href="V4L2_8cpp_source.html#l00517">queryCameraParameters()</a>.</p>

</div>
</div>
<a class="anchor" id="a25aa7d95eb6d042ed77c264645e4780f"></a><!-- doxytag: member="V4L2CameraDescriptor::paramIdMapSize" ref="a25aa7d95eb6d042ed77c264645e4780f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classV4L2CameraDescriptor.html#a25aa7d95eb6d042ed77c264645e4780f">V4L2CameraDescriptor::paramIdMapSize</a> = 17<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8h_source.html#l00160">160</a> of file <a class="el" href="V4L2_8h_source.html">V4L2.h</a>.</p>

<p>Referenced by <a class="el" href="V4L2_8cpp_source.html#l00495">getPropIdByVi()</a>, <a class="el" href="V4L2_8cpp_source.html#l00506">getViIdByProp()</a>, and <a class="el" href="V4L2_8cpp_source.html#l00517">queryCameraParameters()</a>.</p>

</div>
</div>
<a class="anchor" id="a5bcb155f7296b1b3a8b8d2483b2af2b8"></a><!-- doxytag: member="V4L2CameraDescriptor::queued" ref="a5bcb155f7296b1b3a8b8d2483b2af2b8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classV4L2CameraDescriptor.html#a5bcb155f7296b1b3a8b8d2483b2af2b8">V4L2CameraDescriptor::queued</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8h_source.html#l00098">98</a> of file <a class="el" href="V4L2_8h_source.html">V4L2.h</a>.</p>

<p>Referenced by <a class="el" href="V4L2_8cpp_source.html#l00294">dequeue()</a>, <a class="el" href="V4L2_8cpp_source.html#l00329">enqueue()</a>, and <a class="el" href="V4L2_8cpp_source.html#l00118">initBuffers()</a>.</p>

</div>
</div>
<a class="anchor" id="a5a61b50d3d1a6cc159abe41c0a6ce794"></a><!-- doxytag: member="V4L2CameraDescriptor::state" ref="a5a61b50d3d1a6cc159abe41c0a6ce794" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classV4L2CameraDescriptor.html#a5a61b50d3d1a6cc159abe41c0a6ce794">V4L2CameraDescriptor::state</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="V4L2_8h_source.html#l00089">89</a> of file <a class="el" href="V4L2_8h_source.html">V4L2.h</a>.</p>

<p>Referenced by <a class="el" href="V4L2_8cpp_source.html#l00118">initBuffers()</a>, <a class="el" href="V4L2_8cpp_source.html#l00244">start()</a>, and <a class="el" href="V4L2_8cpp_source.html#l00267">stop()</a>.</p>

</div>
</div>
<a class="anchor" id="afbd4578c393ea4e3505d0f68e9e95014"></a><!-- doxytag: member="V4L2CameraDescriptor::STATE_NAMES" ref="afbd4578c393ea4e3505d0f68e9e95014" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * <a class="el" href="classV4L2CameraDescriptor.html#afbd4578c393ea4e3505d0f68e9e95014">V4L2CameraDescriptor::STATE_NAMES</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
{
    <span class="stringliteral">&quot;UNINITIALIZED&quot;</span>,
    <span class="stringliteral">&quot;STOPPED&quot;</span>,
    <span class="stringliteral">&quot;STARTED&quot;</span>
}
</pre></div>
<p>Definition at line <a class="el" href="V4L2_8h_source.html#l00087">87</a> of file <a class="el" href="V4L2_8h_source.html">V4L2.h</a>.</p>

<p>Referenced by <a class="el" href="V4L2_8cpp_source.html#l00244">start()</a>, and <a class="el" href="V4L2_8cpp_source.html#l00267">stop()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>utils/framesources/v4l2/<a class="el" href="V4L2_8h_source.html">V4L2.h</a></li>
<li>utils/framesources/v4l2/<a class="el" href="V4L2_8cpp_source.html">V4L2.cpp</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Tue Nov 12 2013 23:44:47 for DeepView by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
